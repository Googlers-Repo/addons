{"version":3,"sources":["webpack://vscode-markdown-languageserver/./node_modules/picomatch/index.js","webpack://vscode-markdown-languageserver/./node_modules/picomatch/lib/constants.js","webpack://vscode-markdown-languageserver/./node_modules/picomatch/lib/parse.js","webpack://vscode-markdown-languageserver/./node_modules/picomatch/lib/picomatch.js","webpack://vscode-markdown-languageserver/./node_modules/picomatch/lib/scan.js","webpack://vscode-markdown-languageserver/./node_modules/picomatch/lib/utils.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/api.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/cancellation.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/connection.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/disposable.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/events.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/is.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/linkedMap.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/messageBuffer.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/messageReader.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/messageWriter.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/messages.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/ral.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/semaphore.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/node/main.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/node/ril.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/node.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/api.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/connection.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/messages.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.callHierarchy.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.colorProvider.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.configuration.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.declaration.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.diagnostic.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.fileOperations.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.foldingRange.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.implementation.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.inlayHint.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.inlineValue.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.linkedEditingRange.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.moniker.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.notebook.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.progress.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.selectionRange.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.semanticTokens.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.showDocument.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.typeDefinition.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.typeHierarchy.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.workspaceFolder.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/utils/is.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/node/main.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/node.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-textdocument/lib/esm/main.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-types/lib/esm/main.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/api.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/callHierarchy.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/configuration.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/diagnostic.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/fileOperations.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/inlayHint.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/inlineValue.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/linkedEditingRange.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/moniker.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/notebook.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/progress.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/semanticTokens.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/server.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/showDocument.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/textDocuments.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/typeHierarchy.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/utils/is.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/utils/uuid.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/workspaceFolder.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/node/files.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/node/main.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/node.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/config.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/index.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/codeActions/extractLinkDef.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/definitions.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/diagnostics.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/documentLinks.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/documentSymbols.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/fileRename.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/folding.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/organizeLinkDefs.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/pathCompletions.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/references.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/rename.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/smartSelect.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/workspaceSymbols.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/logging.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/slugify.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/tableOfContents.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/types/position.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/types/range.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/types/textDocument.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/arrays.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/cancellation.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/dispose.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/editBuilder.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/file.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/lazy.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/limiter.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/path.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/resourceMap.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/schemes.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/string.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/uri.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/workspace.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/workspaceCache.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-nls/lib/common/common.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-nls/lib/common/ral.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-nls/lib/node/main.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-uri/lib/esm/index.js","webpack://vscode-markdown-languageserver/./src/config.ts","webpack://vscode-markdown-languageserver/./src/configuration.ts","webpack://vscode-markdown-languageserver/./src/languageFeatures/diagnostics.ts","webpack://vscode-markdown-languageserver/./src/logging.ts","webpack://vscode-markdown-languageserver/./src/protocol.ts","webpack://vscode-markdown-languageserver/./src/server.ts","webpack://vscode-markdown-languageserver/./src/util/dispose.ts","webpack://vscode-markdown-languageserver/./src/util/file.ts","webpack://vscode-markdown-languageserver/./src/util/limiter.ts","webpack://vscode-markdown-languageserver/./src/util/resourceMap.ts","webpack://vscode-markdown-languageserver/./src/util/schemes.ts","webpack://vscode-markdown-languageserver/./src/workspace.ts","webpack://vscode-markdown-languageserver/external \"child_process\"","webpack://vscode-markdown-languageserver/external \"crypto\"","webpack://vscode-markdown-languageserver/external \"fs\"","webpack://vscode-markdown-languageserver/external \"net\"","webpack://vscode-markdown-languageserver/external \"os\"","webpack://vscode-markdown-languageserver/external \"path\"","webpack://vscode-markdown-languageserver/external \"url\"","webpack://vscode-markdown-languageserver/external \"util\"","webpack://vscode-markdown-languageserver/webpack/bootstrap","webpack://vscode-markdown-languageserver/webpack/runtime/define property getters","webpack://vscode-markdown-languageserver/webpack/runtime/hasOwnProperty shorthand","webpack://vscode-markdown-languageserver/webpack/runtime/make namespace object","webpack://vscode-markdown-languageserver/./src/node/main.ts"],"names":["module","exports","path","DOTS_SLASH","POSIX_CHARS","DOT_LITERAL","PLUS_LITERAL","QMARK_LITERAL","SLASH_LITERAL","ONE_CHAR","QMARK","END_ANCHOR","NO_DOT","NO_DOTS","NO_DOT_SLASH","NO_DOTS_SLASH","QMARK_NO_DOT","STAR","START_ANCHOR","WINDOWS_CHARS","MAX_LENGTH","POSIX_REGEX_SOURCE","alnum","alpha","ascii","blank","cntrl","digit","graph","lower","print","punct","space","upper","word","xdigit","REGEX_BACKSLASH","REGEX_NON_SPECIAL_CHARS","REGEX_SPECIAL_CHARS","REGEX_SPECIAL_CHARS_BACKREF","REGEX_SPECIAL_CHARS_GLOBAL","REGEX_REMOVE_BACKSLASH","REPLACEMENTS","CHAR_0","CHAR_9","CHAR_UPPERCASE_A","CHAR_LOWERCASE_A","CHAR_UPPERCASE_Z","CHAR_LOWERCASE_Z","CHAR_LEFT_PARENTHESES","CHAR_RIGHT_PARENTHESES","CHAR_ASTERISK","CHAR_AMPERSAND","CHAR_AT","CHAR_BACKWARD_SLASH","CHAR_CARRIAGE_RETURN","CHAR_CIRCUMFLEX_ACCENT","CHAR_COLON","CHAR_COMMA","CHAR_DOT","CHAR_DOUBLE_QUOTE","CHAR_EQUAL","CHAR_EXCLAMATION_MARK","CHAR_FORM_FEED","CHAR_FORWARD_SLASH","CHAR_GRAVE_ACCENT","CHAR_HASH","CHAR_HYPHEN_MINUS","CHAR_LEFT_ANGLE_BRACKET","CHAR_LEFT_CURLY_BRACE","CHAR_LEFT_SQUARE_BRACKET","CHAR_LINE_FEED","CHAR_NO_BREAK_SPACE","CHAR_PERCENT","CHAR_PLUS","CHAR_QUESTION_MARK","CHAR_RIGHT_ANGLE_BRACKET","CHAR_RIGHT_CURLY_BRACE","CHAR_RIGHT_SQUARE_BRACKET","CHAR_SEMICOLON","CHAR_SINGLE_QUOTE","CHAR_SPACE","CHAR_TAB","CHAR_UNDERSCORE","CHAR_VERTICAL_LINE","CHAR_ZERO_WIDTH_NOBREAK_SPACE","SEP","sep","extglobChars","chars","type","open","close","globChars","win32","constants","utils","expandRange","args","options","sort","value","join","RegExp","ex","map","v","escapeRegex","syntaxError","char","parse","input","TypeError","opts","max","maxLength","Math","min","len","length","SyntaxError","bos","output","prepend","tokens","capture","isWindows","PLATFORM_CHARS","EXTGLOB_CHARS","globstar","dot","nodot","qmarkNoDot","star","bash","noext","noextglob","state","index","start","consumed","prefix","backtrack","negated","brackets","braces","parens","quotes","removePrefix","extglobs","stack","prev","eos","peek","n","advance","remaining","slice","consume","num","append","token","negate","count","increment","push","decrement","pop","tok","isBrace","isExtglob","extglob","inner","extglobOpen","conditions","extglobClose","rest","extglobStar","includes","test","expression","fastpaths","negatedExtglob","backslashes","replace","m","esc","first","repeat","unescape","contains","wrapOutput","next","match","exec","slashes","posix","idx","lastIndexOf","pre","indexOf","keepQuotes","strictBrackets","nobracket","prevValue","literalBrackets","hasRegexChars","escaped","nobrace","outputIndex","tokensIndex","brace","dots","arr","range","i","unshift","comma","out","toks","t","supportsLookbehinds","Error","nonegate","regex","noglobstar","prior","before","isStart","afterStar","after","strictSlashes","end","escapeLast","suffix","slashDot","create","str","source","scan","picomatch","glob","returnState","Array","isArray","fns","isMatch","isState","val","compileRe","makeRe","isIgnored","ignore","ignoreOpts","onMatch","onResult","matcher","returnObject","result","onIgnore","format","toPosixSlashes","matchBase","basename","Boolean","patterns","pattern","p","returnOutput","toRegex","parsed","flags","nocase","err","debug","isPathSeparator","code","depth","isPrefix","isGlobstar","Infinity","scanToEnd","parts","lastIndex","isBracket","isGlob","braceEscaped","finished","charCodeAt","noparen","base","removeBackslashes","maxDepth","prevIndex","process","platform","isObject","isRegexChar","segs","version","split","Number","windows","lastIdx","startsWith","Object","defineProperty","TraceFormat","TraceValues","Trace","ProgressType","ProgressToken","createMessageConnection","NullLogger","ConnectionOptions","ConnectionStrategy","WriteableStreamMessageWriter","AbstractMessageWriter","MessageWriter","ReadableStreamMessageReader","AbstractMessageReader","MessageReader","CancellationToken","CancellationTokenSource","Emitter","Event","Disposable","LRUCache","Touch","LinkedMap","ParameterStructures","NotificationType9","NotificationType8","NotificationType7","NotificationType6","NotificationType5","NotificationType4","NotificationType3","NotificationType2","NotificationType1","NotificationType0","NotificationType","ErrorCodes","ResponseError","RequestType9","RequestType8","RequestType7","RequestType6","RequestType5","RequestType4","RequestType3","RequestType2","RequestType1","RequestType0","RequestType","Message","RAL","CancellationStrategy","CancellationSenderStrategy","CancellationReceiverStrategy","ConnectionError","ConnectionErrors","LogTraceNotification","SetTraceNotification","messages_1","enumerable","get","linkedMap_1","disposable_1","events_1","cancellation_1","messageReader_1","messageWriter_1","connection_1","ral_1","default","Is","None","freeze","isCancellationRequested","onCancellationRequested","Cancelled","is","candidate","boolean","shortcutEvent","callback","context","handle","timer","setTimeout","bind","dispose","MutableToken","constructor","this","_isCancelled","cancel","_emitter","fire","undefined","event","_token","CancelNotification","ProgressNotification","StarRequestHandler","ConnectionState","func","error","warn","info","log","Off","Messages","Compact","Verbose","fromString","string","toLowerCase","toString","JSON","Text","message","super","setPrototypeOf","prototype","cancelUndispatched","createCancellationTokenSource","_","sendCancellation","conn","id","sendNotification","cleanup","receiver","sender","cancellationStrategy","connectionStrategy","messageReader","messageWriter","_logger","logger","sequenceNumber","notificationSequenceNumber","unknownResponseSequenceNumber","starRequestHandler","requestHandlers","Map","starNotificationHandler","notificationHandlers","progressHandlers","tracer","messageQueue","responsePromises","knownCanceledRequests","Set","requestTokens","trace","traceFormat","New","errorEmitter","closeEmitter","unhandledNotificationEmitter","unhandledProgressEmitter","disposeEmitter","createRequestQueueKey","_message","isListening","Listening","isClosed","Closed","isDisposed","Disposed","closeHandler","triggerMessageQueue","size","setImmediate","shift","isRequest","requestMessage","reply","resultOrError","method","startTime","jsonrpc","toJson","traceSendingResponse","write","catch","replyError","data","params","stringifyTrace","logLSPMessage","traceReceivedRequest","element","requestHandler","handler","Date","now","tokenKey","String","cancellationSource","has","set","handlerResult","numberOfParams","InvalidParams","parameterStructures","byName","byPosition","promise","then","delete","InternalError","replySuccess","MethodNotFound","handleRequest","isNotification","notificationHandler","cancelId","traceReceivedNotification","handleNotification","isResponse","responseMessage","stringify","key","responsePromise","timerStart","traceReceivedResponse","reject","resolve","handleResponse","number","responseHandler","handleInvalidMessage","processMessageQueue","onClose","onError","toCancel","strategy","response","cancellationToken","add","queue","addMessageToQueue","lspMessage","isLSPMessage","timestamp","throwIfClosedOrDisposed","undefinedToNull","param","nullToUndefined","isNamedParam","computeSingleParam","auto","computeMessageParams","connection","messageParams","paramStart","paramEnd","notificationMessage","traceSendingNotification","onNotification","onProgress","_type","sendProgress","onUnhandledProgress","sendRequest","throwIfNotListening","last","disposable","Promise","r","traceSendingRequest","e","MessageWriteError","onRequest","hasPendingResponse","async","_value","_tracer","sendNotificationOrTraceOptions","_sendNotification","_traceFormat","onUnhandledNotification","onDispose","PendingResponseRejected","values","listen","AlreadyListening","throwIfListening","inspect","console","verbose","_disposable","CallbackList","bucket","_callbacks","_contexts","remove","foundCallbackWithDifferentContext","splice","invoke","ret","callbacks","contexts","apply","isEmpty","_options","_event","listener","thisArgs","disposables","onFirstListenerAdd","_noop","onLastListenerRemove","call","array","stringArray","every","elem","_a","First","AsOld","Last","AsNew","_map","_head","_tail","_size","_state","clear","touch","item","previous","addItemLast","addItemFirst","removeItem","forEach","callbackfn","thisArg","current","keys","iterator","Symbol","done","entries","toStringTag","trimOld","newSize","currentSize","toJSON","fromJSON","limit","ratio","_limit","_ratio","checkTrim","round","AbstractMessageBuffer","encoding","_encoding","_chunks","_totalLength","chunk","toAppend","byteLength","tryReadHeaders","chunkIndex","offset","chunkBytesRead","row","buffer","_read","headers","header","substr","trim","tryReadBody","byteCount","emptyBuffer","asNative","allocNative","resultOffset","chunkPart","ResolvedMessageReaderOptions","onPartialMessage","partialMessageEmitter","fireError","asError","fireClose","firePartialMessage","fromOptions","charset","contentDecoder","contentDecoders","contentTypeDecoder","contentTypeDecoders","name","decoder","applicationJson","readable","messageBuffer","_partialMessageTimeout","nextMessageLength","messageToken","timeout","partialMessageTimer","onData","contentLength","parseInt","isNaN","body","setPartialMessageTimer","clearPartialMessageTimer","decode","msg","waitingTime","semaphore_1","ResolvedMessageWriterOptions","contentTypeEncoder","encoder","contentEncoder","writable","errorCount","writeSemaphore","Semaphore","lock","encode","doWrite","handleError","AbstractMessageSignature","ParseError","InvalidRequest","jsonrpcReservedErrorRangeStart","serverErrorStart","MessageReadError","ConnectionInactive","ServerNotInitialized","UnknownErrorCode","jsonrpcReservedErrorRangeEnd","serverErrorEnd","kind","_parameterStructures","_ral","install","ral","capacity","_capacity","_active","_waiting","thunk","runNext","doRunNext","__createBinding","o","k","k2","desc","getOwnPropertyDescriptor","__esModule","configurable","__exportStar","hasOwnProperty","createServerSocketTransport","createClientSocketTransport","createServerPipeTransport","createClientPipeTransport","generateRandomPipeName","StreamMessageWriter","StreamMessageReader","SocketMessageWriter","SocketMessageReader","IPCMessageWriter","IPCMessageReader","ril_1","api_1","os","crypto_1","net_1","eventEmitter","on","off","send","socket","stream","asReadableStream","asWritableStream","destroy","readble","XDG_RUNTIME_DIR","env","safeIpcPathLengths","randomSuffix","randomBytes","tmpdir","pipeName","connectResolve","connected","_reject","server","createServer","removeListener","onConnected","createConnection","port","reader","read","addListener","isReadableStream","writer","isWritableStream","util_1","messageBuffer_1","MessageBuffer","Buffer","from","TextDecoder","allocUnsafe","ReadableStreamWrapper","onEnd","WritableStreamWrapper","_ril","ms","clearTimeout","clearImmediate","setInterval","clearInterval","RIL","LSPErrorCodes","createProtocolConnection","lspReservedErrorRangeStart","RequestFailed","ServerCancelled","ContentModified","RequestCancelled","lspReservedErrorRangeEnd","vscode_jsonrpc_1","ProtocolNotificationType","ProtocolNotificationType0","ProtocolRequestType","ProtocolRequestType0","RegistrationType","MessageDirection","CallHierarchyOutgoingCallsRequest","CallHierarchyIncomingCallsRequest","CallHierarchyPrepareRequest","messageDirection","clientToServer","ColorPresentationRequest","DocumentColorRequest","ConfigurationRequest","serverToClient","DeclarationRequest","DiagnosticRefreshRequest","WorkspaceDiagnosticRequest","DocumentDiagnosticRequest","DocumentDiagnosticReportKind","DiagnosticServerCancellationData","retriggerRequest","Full","Unchanged","partialResult","WillDeleteFilesRequest","DidDeleteFilesNotification","DidRenameFilesNotification","WillRenameFilesRequest","DidCreateFilesNotification","WillCreateFilesRequest","FileOperationPatternKind","file","folder","FoldingRangeRequest","ImplementationRequest","InlayHintRefreshRequest","InlayHintResolveRequest","InlayHintRequest","InlineValueRefreshRequest","InlineValueRequest","WorkspaceSymbolRequest","CodeActionResolveRequest","CodeActionRequest","DocumentSymbolRequest","DocumentHighlightRequest","ReferencesRequest","DefinitionRequest","SignatureHelpRequest","SignatureHelpTriggerKind","HoverRequest","CompletionResolveRequest","CompletionRequest","CompletionTriggerKind","PublishDiagnosticsNotification","WatchKind","RelativePattern","FileChangeType","DidChangeWatchedFilesNotification","WillSaveTextDocumentWaitUntilRequest","WillSaveTextDocumentNotification","TextDocumentSaveReason","DidSaveTextDocumentNotification","DidCloseTextDocumentNotification","DidChangeTextDocumentNotification","TextDocumentContentChangeEvent","DidOpenTextDocumentNotification","TextDocumentSyncKind","TelemetryEventNotification","LogMessageNotification","ShowMessageRequest","ShowMessageNotification","MessageType","DidChangeConfigurationNotification","ExitNotification","ShutdownRequest","InitializedNotification","InitializeErrorCodes","InitializeRequest","WorkDoneProgressOptions","TextDocumentRegistrationOptions","StaticRegistrationOptions","PositionEncodingKind","FailureHandlingKind","ResourceOperationKind","UnregistrationRequest","RegistrationRequest","DocumentSelector","NotebookCellTextDocumentFilter","NotebookDocumentFilter","TextDocumentFilter","TypeHierarchySubtypesRequest","TypeHierarchyPrepareRequest","MonikerRequest","MonikerKind","UniquenessLevel","LinkedEditingRangeRequest","ShowDocumentRequest","SemanticTokensRegistrationType","SemanticTokensRefreshRequest","SemanticTokensRangeRequest","SemanticTokensDeltaRequest","SemanticTokensRequest","TokenFormat","WorkDoneProgressCancelNotification","WorkDoneProgressCreateRequest","WorkDoneProgress","SelectionRangeRequest","DidChangeWorkspaceFoldersNotification","WorkspaceFoldersRequest","TypeDefinitionRequest","ApplyWorkspaceEditRequest","ExecuteCommandRequest","PrepareRenameRequest","RenameRequest","PrepareSupportDefaultBehavior","DocumentOnTypeFormattingRequest","DocumentRangeFormattingRequest","DocumentFormattingRequest","DocumentLinkResolveRequest","DocumentLinkRequest","CodeLensRefreshRequest","CodeLensResolveRequest","CodeLensRequest","WorkspaceSymbolResolveRequest","DidCloseNotebookDocumentNotification","DidSaveNotebookDocumentNotification","DidChangeNotebookDocumentNotification","NotebookCellArrayChange","DidOpenNotebookDocumentNotification","NotebookDocumentSyncRegistrationType","NotebookDocument","NotebookCell","ExecutionSummary","NotebookCellKind","TypeHierarchySupertypesRequest","vscode_languageserver_types_1","protocol_implementation_1","protocol_typeDefinition_1","protocol_workspaceFolder_1","protocol_configuration_1","protocol_colorProvider_1","protocol_foldingRange_1","protocol_declaration_1","protocol_selectionRange_1","protocol_progress_1","protocol_callHierarchy_1","protocol_semanticTokens_1","protocol_showDocument_1","protocol_linkedEditingRange_1","protocol_fileOperations_1","protocol_moniker_1","protocol_typeHierarchy_1","protocol_inlineValue_1","protocol_inlayHint_1","protocol_diagnostic_1","protocol_notebook_1","language","scheme","objectLiteral","notebookType","notebook","Create","Rename","Delete","Abort","Transactional","TextOnlyTransactional","Undo","UTF8","UTF16","UTF32","hasId","documentSelector","workDoneProgress","hasWorkDoneProgress","unknownProtocolVersion","Warning","Info","Log","Incremental","isIncremental","text","rangeLength","isFull","Manual","AfterDelay","FocusOut","Created","Changed","Deleted","URI","baseUri","WorkspaceFolder","Change","Invoked","TriggerCharacter","TriggerForIncompleteCompletions","ContentChange","Identifier","document","project","group","global","$import","$export","local","Markup","Code","executionOrder","success","uinteger","equals","one","other","equalsMetadata","oneArray","otherArray","oneKeys","otherKeys","prop","DocumentUri","metadata","diff","two","executionSummary","uri","cells","integer","typedArray","registrationMethod","deleteCount","Relative","check","node_1","FullTextDocument","languageId","content","_uri","_languageId","_version","_content","_lineOffsets","getText","offsetAt","substring","update","changes","change","getWellformedRange","startOffset","endOffset","startLine","line","endLine","lineOffsets","addedLineOffsets","computeLineOffsets","concat","getLineOffsets","positionAt","low","high","character","mid","floor","position","lineOffset","nextLineOffset","TextDocument","mergeSort","compare","left","right","leftIdx","rightIdx","isAtLineStart","textOffset","ch","getWellformedEdit","textEdit","newText","applyEdits","edits","sortedEdits","a","b","lastModifiedOffset","spans","Position","Range","Location","LocationLink","Color","ColorInformation","ColorPresentation","FoldingRangeKind","FoldingRange","DiagnosticRelatedInformation","DiagnosticSeverity","DiagnosticTag","CodeDescription","Diagnostic","Command","TextEdit","ChangeAnnotation","ChangeAnnotationIdentifier","AnnotatedTextEdit","TextDocumentEdit","CreateFile","RenameFile","DeleteFile","WorkspaceEdit","MIN_VALUE","MAX_VALUE","three","four","targetUri","targetRange","targetSelectionRange","originSelectionRange","red","green","blue","numberRange","color","label","additionalTextEdits","Comment","Imports","Region","startCharacter","endCharacter","collapsedText","defined","location","Information","Hint","Unnecessary","Deprecated","href","severity","relatedInformation","codeDescription","title","command","_i","arguments","insert","del","needsConfirmation","description","annotation","annotationId","textDocument","OptionalVersionedTextDocumentIdentifier","overwrite","ignoreIfExists","oldUri","newUri","recursive","ignoreIfNotExists","documentChanges","TextDocumentIdentifier","VersionedTextDocumentIdentifier","TextDocumentItem","MarkupKind","MarkupContent","CompletionItemKind","InsertTextFormat","CompletionItemTag","InsertReplaceEdit","InsertTextMode","CompletionItemLabelDetails","CompletionItem","CompletionList","MarkedString","Hover","ParameterInformation","SignatureInformation","DocumentHighlightKind","DocumentHighlight","SymbolKind","SymbolTag","SymbolInformation","WorkspaceSymbol","DocumentSymbol","CodeActionKind","CodeActionTriggerKind","CodeActionContext","CodeAction","CodeLens","FormattingOptions","DocumentLink","SelectionRange","SemanticTokenTypes","SemanticTokenModifiers","SemanticTokens","InlineValueText","InlineValueVariableLookup","InlineValueEvaluatableExpression","InlineValueContext","InlayHintKind","InlayHintLabelPart","InlayHint","TextEditChangeImpl","changeAnnotations","edit","assertChangeAnnotations","manage","all","ChangeAnnotations","annotations","_annotations","_counter","idOrAnnotation","nextId","WorkspaceChange","workspaceEdit","_this","_textEditChanges","_workspaceEdit","_changeAnnotations","textEditChange","initDocumentChanges","getTextEditChange","textDocumentEdit","initChanges","createFile","optionsOrAnnotation","operation","renameFile","deleteFile","PlainText","Markdown","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Property","Unit","Value","Enum","Keyword","Snippet","File","Reference","Folder","EnumMember","Constant","Struct","Operator","TypeParameter","asIs","adjustIndentation","detail","items","isIncomplete","fromPlainText","plainText","contents","documentation","parameters","Read","Write","Namespace","Package","Key","Null","containerName","selectionRange","children","deprecated","tags","Empty","QuickFix","Refactor","RefactorExtract","RefactorInline","RefactorRewrite","Source","SourceOrganizeImports","SourceFixAll","Automatic","diagnostics","only","triggerKind","kindOrCommandOrEdit","checkKind","isPreferred","tabSize","insertSpaces","target","parent","resultId","variableName","caseSensitiveLookup","frameId","stoppedLocation","Type","Parameter","tooltip","textEdits","paddingLeft","paddingRight","EOL","lineCount","isLineStart","charAt","ProposedFeatures","NotebookDocuments","TextDocuments","SemanticTokensBuilder","semanticTokens_1","textDocuments_1","notebook_1","__brand","CallHierarchyFeature","vscode_languageserver_protocol_1","Base","onPrepare","attachWorkDoneProgress","onIncomingCalls","attachPartialResultProgress","onOutgoingCalls","ConfigurationFeature","getConfiguration","arg","_getConfiguration","section","DiagnosticFeature","refresh","onWorkspace","FileOperationsFeature","onDidCreateFiles","onDidRenameFiles","onDidDeleteFiles","onWillCreateFiles","onWillRenameFiles","onWillDeleteFiles","InlayHintFeature","InlineValueFeature","LinkedEditingRangeFeature","onLinkedEditingRange","MonikerFeature","NotebookSyncFeature","onDidOpenNotebookDocument","onDidChangeNotebookDocument","onDidSaveNotebookDocument","onDidCloseNotebookDocument","CellTextDocumentConnection","onDidOpenTextDocument","openHandler","openTextDocument","onDidChangeTextDocument","changeHandler","changeTextDocument","onDidCloseTextDocument","closeTextDocument","onWillSaveTextDocument","NULL_DISPOSE","onWillSaveTextDocumentWaitUntil","onDidSaveTextDocument","configurationOrTextDocuments","_cellTextDocuments","notebookDocuments","notebookCellMap","_onDidOpen","_onDidChange","_onDidSave","_onDidClose","getCellTextDocument","cell","getNotebookDocument","getNotebookCell","findNotebookDocumentForCell","cellTextDocumentConnection","cellTextDocuments","notebooks","synchronization","notebookDocument","cellTextDocument","updateCellMap","oldMetadata","metadataChanged","opened","closed","changedCells","structure","didOpen","didClose","cellUpdates","old","new","textContent","contentChanges","changeEvent","added","removed","changed","attachPartialResult","ProgressFeature","attachWorkDone","uuid_1","WorkDoneProgressReporterImpl","_connection","Instances","begin","percentage","cancellable","report","arg0","arg1","WorkDoneProgressServerReporterImpl","_source","NullProgressReporter","NullProgressServerReporter","ResultProgress","workDoneToken","_progressSupported","initialize","capabilities","window","progress","createWorkDoneProgress","generateUuid","ResultProgressReporterImpl","partialResultToken","SemanticTokensDiff","SemanticTokensFeature","onDelta","onRange","originalSequence","modifiedSequence","computeDiff","originalLength","modifiedLength","startIndex","originalEndIndex","modifiedEndIndex","newData","_prevData","_id","_prevLine","_prevChar","_data","_dataLen","tokenType","tokenModifiers","pushLine","pushChar","previousResult","build","canBuildEdits","buildEdits","combineFeatures","combineNotebooksFeatures","combineLanguagesFeatures","combineWorkspaceFeatures","combineWindowFeatures","combineClientFeatures","combineTracerFeatures","combineTelemetryFeatures","combineConsoleFeatures","_NotebooksImpl","_LanguagesImpl","BulkUnregistration","BulkRegistration","ErrorMessageTracker","UUID","progress_1","configuration_1","workspaceFolder_1","callHierarchy_1","showDocument_1","fileOperations_1","linkedEditingRange_1","typeHierarchy_1","inlineValue_1","inlayHint_1","diagnostic_1","moniker_1","null2Undefined","_messages","sendErrors","showErrorMessage","RemoteConsoleImpl","rawAttach","_rawConnection","attach","fillServerCapabilities","_capabilities","RemoteWindowImpl","ShowDocumentFeature","actions","showWarningMessage","showInformationMessage","BulkRegistrationImpl","_registrations","_registered","registerOptions","asRegistrationParams","registrations","BulkUnregistrationImpl","unregistrations","_unregistrations","unregistration","unregisterations","disposeSingle","_error","RemoteClientImpl","register","typeOrRegistrations","registerOptionsOrType","registerMany","registerSingle1","registerSingle2","isAttached","_result","unregisterSingle","registration","RemoteWorkspaceImpl","WorkspaceFoldersFeature","applyEdit","paramOrEdit","TracerImpl","_trace","TelemetryImpl","logEvent","LanguagesImpl","TypeHierarchyFeature","NotebooksImpl","combine","telemetry","client","workspace","languages","connectionFactory","watchDog","factories","remoteWindow","allRemotes","asPromise","thenable","resolved","shutdownHandler","initializeHandler","exitHandler","protocolConnection","onInitialize","onInitialized","onShutdown","onExit","onDidChangeConfiguration","onDidChangeWatchedFiles","__textDocumentSync","sendDiagnostics","onHover","onCompletion","onCompletionResolve","onSignatureHelp","onDeclaration","onDefinition","onTypeDefinition","onImplementation","onReferences","onDocumentHighlight","onDocumentSymbol","onWorkspaceSymbol","onWorkspaceSymbolResolve","onCodeAction","onCodeActionResolve","onCodeLens","onCodeLensResolve","onDocumentFormatting","onDocumentRangeFormatting","onDocumentOnTypeFormatting","onRenameRequest","onPrepareRename","onDocumentLinks","onDocumentLinkResolve","onDocumentColor","onColorPresentation","onFoldingRanges","onSelectionRanges","onExecuteCommand","remote","textDocumentSync","shutdownReceived","exit","showDocument","configuration","_configuration","_syncedDocuments","_onDidChangeContent","_onWillSave","onWillSaveWaitUntil","_willSaveWaitUntil","td","toFire","syncedDocument","reason","onSupertypes","onSubtypes","isUUID","v4","empty","ValueUUID","asHex","V4UUID","_randomHex","_oneOf","_timeHighBits","random","_chars","_UUIDPattern","_notificationIsAutoRegistered","workspaceCapabilities","workspaceFolders","_onDidChangeWorkspaceFolders","changeNotifications","getWorkspaceFolders","_unregistration","resolveModulePath","FileSystem","resolveGlobalYarnPath","resolveGlobalNodePath","uriToFilePath","url","fs","child_process_1","moduleName","nodePath","cwd","app","newEnv","existsSync","delimiter","cp","fork","execArgv","pid","c","s","npmCommand","shell","stdout","spawnSync","protocol","segments","decodeURIComponent","second","normalize","yarnCommand","results","stderr","lines","yarn","_isCaseSensitive","isCaseSensitive","__filename","toUpperCase","isParent","child","workspaceRoot","isAbsolute","Files","server_1","fm","exitTimer","_shutdownReceived","argName","runTimer","processId","kill","argv","setupExitTimer","arg2","arg3","arg4","stdin","transport","commandLineMessage","inputStream","_createConnection","isExcludedPath","getLsConfiguration","defaultMarkdownFileExtension","defaultConfig","markdownFileExtensions","knownLinkedToFileExtensions","excludePaths","overrides","some","excludePath","createLanguageService","githubSlugifier","LogLevel","RenameNotSupportedAtLocationError","DiagnosticLevel","DiagnosticCode","config_1","extractLinkDef_1","definitions_1","diagnostics_1","documentLinks_1","documentSymbols_1","fileRename_1","folding_1","organizeLinkDefs_1","pathCompletions_1","references_1","rename_1","smartSelect_1","workspaceSymbols_1","tableOfContents_1","workspace_1","diagnostics_2","rename_2","logging_1","slugify_1","init","config","tocProvider","MdTableOfContentsProvider","parser","smartSelectProvider","MdSelectionRangeProvider","foldingProvider","MdFoldingProvider","linkProvider","MdLinkProvider","pathCompletionProvider","MdPathCompletionProvider","linkCache","createWorkspaceLinkCache","referencesProvider","MdReferencesProvider","definitionsProvider","MdDefinitionProvider","renameProvider","MdRenameProvider","slugifier","fileRenameProvider","MdFileRenameProvider","diagnosticsComputer","DiagnosticComputer","docSymbolProvider","MdDocumentSymbolProvider","workspaceSymbolProvider","MdWorkspaceSymbolProvider","organizeLinkDefinitions","MdOrganizeLinkDefinitionProvider","extractCodeActionProvider","MdExtractLinkDefinitionCodeActionProvider","getDocumentLinks","provideDocumentLinks","resolveDocumentLink","resolveLinkTarget","getDocumentSymbols","provideDocumentSymbols","getFoldingRanges","provideFoldingRanges","getSelectionRanges","provideSelectionRanges","getWorkspaceSymbols","provideWorkspaceSymbols","getCompletionItems","provideCompletionItems","getReferences","provideReferences","getFileReferences","resource","getReferencesToFileInWorkspace","x","getDefinition","provideDefinition","getOrganizeLinkDefinitionEdits","prepareRename","getRenameEdit","provideRenameEdits","getRenameFilesInWorkspaceEdit","getCodeActions","doc","getActions","computeDiagnostics","compute","createPullDiagnosticsManager","isWorkspaceWithFileWatching","DiagnosticsManager","lsp","nls","vscode_uri_1","position_1","range_1","textDocument_1","editBuilder_1","localize","loadMessageBundle","_linkProvider","isEnabled","linkInfo","getLinks","linksInRange","links","filter","link","MdLinkKind","Definition","rangeIntersects","notOnLinkAction","targetLink","find","HrefKind","External","Internal","getExtractLinkAction","alreadyRefLinkAction","codeActionKindContains","kindA","kindB","builder","WorkspaceEditBuilder","placeholder","getPlaceholder","definitions","Link","matchesHref","definitionText","getLinkTargetText","defBlock","getExistingDefinitionBlock","getLine","renamePosition","translatePosition","characterDelta","genericTitle","getEdit","afterHrefRange","makeRange","lookup","fragment","disabled","toc","getForDocument","entry","headerLocation","getDefinitionOfLinkAtPosition","docLinks","getForDocs","rangeContains","ref","getDefinitionOfRef","hrefRange","getDefinitionOfLink","sourceLink","allLinksInFile","resolvedResource","statLinkToMarkdownFile","def","LinkDefinitionSet","vscode_languageserver_1","dispose_1","file_1","limiter_1","resourceMap_1","toSeverity","level","warning","FileLinkMap","_filesToLinksMap","ResourceMap","existingFileEntry","linkData","outgoingLinks","statCache","exists","validateFileLinks","validateReferenceLinks","validateFragmentLinks","flat","hrefText","parseLocationInfoFromFragment","isIgnoredLink","link_noSuchHeaderInOwnFile","validateReferences","link_noSuchReferences","pathErrorSeverity","fragmentErrorSeverity","validateMarkdownFileLinkFragments","linkSet","limiter","Limiter","resolvedHrefPath","isMarkdownPath","fragmentLinks","pathText","fragmentRange","modifyRange","link_noSuchHeaderInFile","link_noSuchFile","fsPath","hasMarkdownDocument","looksLikeMarkdownPath","ignoreLinks","FileLinkState","_workspace","_onDidChangeLinkedToFile","_register","onDidChangeLinkedToFile","_linkedToFile","watcher","updateLinksForDocument","linkedToResource","documents","startWatching","deleteDocument","tryStatFileLink","watchFile","ignoreChange","deleteReg","onDidDelete","onLinkedResourceChanged","createReg","onDidCreate","changedResource","linkingFiles","_onLinkedToFileChanged","onLinkedToFileChanged","linkWatcher","_linkWatcher","linkingResources","stateCachedWorkspace","Proxy","stat","isDirectory","_computer","onDidDeleteMarkdownDocument","disposeDocumentResources","MdLinkComputer","resolveInternalDocumentLink","arrays_1","string_1","uri_1","workspaceCache_1","sourceDocUri","linkText","tempUri","docUri","getContainingDocument","resourceUri","root","getWorkspaceFolder","Utils","joinPath","dirname","linkFragment","createHref","tryDecodeUri","createMdLink","targetText","preHrefText","rawLink","matchIndex","fullMatch","isAngleBracketLink","stripAngleBrackets","linkTarget","linkStart","linkEnd","hrefStart","hrefEnd","getLinkSourceFragmentInfo","getFragmentRange","angleBracketLinkRe","linkPattern","referenceLinkPattern","autoLinkPattern","definitionPattern","inlineCodePattern","NoLinkRanges","multiline","inline","tokenizer","tokenize","inlineRanges","matchAll","interval","inlineRange","concatInline","newInline","noLinkRanges","inlineLinks","getInlineLinks","getReferenceLinks","getLinkDefinitions","getAutoLinks","matchLinkData","innerMatch","innerData","linkOffset","linkStartOffset","reference","checkboxMatch","rawLinkText","refStart","refRange","_config","_tocProvider","_linkComputer","_linkCache","MdDocumentInfoCache","Debug","getAllLinks","noopToken","coalesce","toValidDocumentLink","reviveLinkHrefData","resolveInternalLinkTarget","createCommandUri","createOpenAtPosCommand","sourceDoc","linkPath","containingContext","found","dotMdResource","tryAppendMarkdownFileExtension","locationLinkPosition","openMarkdownDocument","getForContainingDoc","mdLink","definitionSet","encodeURIComponent","pos","selection","with","column","linkComputer","MdWorkspaceInfoCache","linkSymbols","includeLinkDefinitions","provideLinkDefinitionSymbols","toSymbolTree","additionalSymbols","buildTocSymbolTree","definitionToDocumentSymbol","isBefore","sectionLocation","symbol","tocToDocumentSymbol","getTocSymbolName","path_1","participatingRenames","addDirectoryRenameEdits","addSingleFileRenameEdits","didParticipate","addEditsForReferencesToFile","tryAddEditsInSelf","allLinksInWorkspace","isParentDir","relative","addLinkRenameEdit","oldDocUri","oldLink","rootDir","newPath","getFilePathRange","encodeURI","addEditsForLinksInSelf","refs","MdReferenceKind","newFilePath","extname","editExt","newLinkText","getLinkRenameText","getRegions","getHeaderFoldingRanges","getBlockFoldingRanges","regionMarkers","isRegionMarker","isStartRegion","nestingStack","marker","region","isEmptyOrWhitespace","isFoldableToken","listItem","getFoldingRangeKind","orderedDefinitions","lastDef","textAfter","prevDef","existingDefBlockRange","getDefinitionBlockGroups","sortedDefs","localeCompare","newDefs","removeUnused","hasLeadingWhiteSpace","getLastNonWhitespaceLine","startDef","endDef","nextDef","schemes_1","CompletionContextKind","tryDecodeUriComponent","linkStartPattern","referenceLinkStartPattern","_context","getPathCompletionContext","ReferenceLink","provideReferenceSuggestions","LinkDefinition","isAnchorInCurrentDoc","anchorInfo","beforeAnchor","linkPrefix","insertRange","linkTextStartPosition","provideHeaderSuggestions","rawUri","resolveReference","otherDoc","openLinkToMarkdownFile","anchorStartPosition","anchorPrefix","providePathSuggestions","linePrefixText","lineSuffixText","linkPrefixMatch","refLooksLikeUrl","linkSuffix","getAnchorContext","skipEncoding","definitionLinkPrefixMatch","referenceLinkPrefixMatch","anchorMatch","insertionRange","replacementRange","TableOfContents","createForContainingDoc","slug","valueBeforeLastSlash","parentDir","pathSegmentStart","pathSegmentEnd","dirInfo","readDirectory","isDir","getFileUriOfTextDocument","workspaceFolder","resolvePath","Schemes","getReferencesAtPosition","includeDeclaration","isDefinition","getReferencesToHeader","getReferencesToLinkAtPosition","findLinksToFile","references","Header","isTriggerLocation","headerText","headerTextLocation","looksLikeLinkToDoc","fromHeading","getReferencesToLinkReference","getReferencesToLink","triggerPosition","areRangesEqual","targetDoc","ext","pathRange","getPathRange","allLinks","refToFind","allRefsInfo","getAllReferences","triggerRef","declaration","findHeaderDeclaration","newName","renameReferenceLinks","renameExternalLink","renameFragment","renameFilePath","triggerDocument","triggerHref","rawNewFilePath","resolvedNewFilePath","cachedRefs","arePositionsEqual","preferDotSlash","untitled","newLink","createHeaderRange","isClosestHeaderToPosition","onHeaderLine","startOfChildRange","contentRange","lineDelta","makeSelectionRange","createBlockRange","block","cursorLine","onFenceLine","fenceRange","createFencedRange","createBoldRange","lineText","cursorChar","matches","bold","cursorOnStars","contentAndStars","createOtherInlineRange","isItalic","italicRegexes","cursorOnType","contentAndType","getFirstChildHeader","childRange","t1","t2","positions","provideSelectionRange","headerRange","getHeaderSelectionRange","blockRange","getBlockSelectionRange","getInlineSelectionRange","cursorPosition","boldSelection","italicSelection","comboSelection","linkSelection","linkRange","nearestType","indexOfType","contentAndNearestType","createLinkRange","createInlineRange","blockTokens","enclosingTokens","isBlockElement","token1","token2","getBlockTokensForPosition","currentRange","headerInfo","header1","header2","headerOnThisLine","getHeadersForPosition","symbolProvider","_cache","provideDocumentSymbolInformation","query","symbolInformation","docSymbols","toSymbolInformation","Slug","heading","slugifiedHeading","buildToc","existingSlugEntries","currentHeader","lineNumber","bodyText","getHeaderTitleAsPlainText","existingSlugEntry","getHeaderLevel","markup","tokenToPlainText","headerTitleParts","isBeforeOrEqual","comparePosition","isAfter","isPosition","isRange","thing","startOrStartLine","endOrStartCharacter","_onCancellationRequestedEmitter","DisposableStore","disposeAll","MultiDisposeError","errors","_isDisposed","_disposables","addEdit","resourceKey","lazy","LazyValue","_getValue","_hasValue","f","getValue","maxDegreeOfParalellism","outstandingPromises","runningPromises","factory","iLimitedTask","maybeChild","authority","defaultResourceToKey","toKey","raw","decodeURI","linkUri","possibleWorkspaces","out_statCache","lazy_1","LazyResourceMap","_loadingDocuments","onDidChangeMarkdownDocument","invalidate","onDidDeleteDocument","existing","loadDocument","resetEntry","finally","onDidChangeDocument","onDidCreateMarkdownDocument","ensureInit","docs","_init","populateCache","markdownDocuments","getAllMarkdownDocuments","setPseudo","isPseudo","isDefined","BundleFormat","MessageFormat","LocalizeInfo","replacement","comment","pseudo","_key","common_1","common_2","resolvedBundles","isNumber","isString","readJsonFileSync","filename","readFileSync","createScopedLocalizeFunction","messages","cacheBundle","bundle","loadDefaultNlsBundle","bundlePath","metaData","module_1","createDefaultNlsBundle","loadNlsBundle","languagePackSupport","cacheRoot","languagePackId","translationsConfigFile","translationsConfig","d","hash","useMemoryOnly","writeBundle","flag","utimes","unlink","metaDataPath","languagePackLocation","languagePack","module_2","translations","outDir","resultMessages","messageKey","translatedMessage","createNLSBundle","writeFileSync","loadNlsBundleOrCreateFromI18n","findInTheBoxBundle","messageFormat","both","headerFile","tryFindMetaDataHeaderFile","nlsBundle","module_3","json","resolvedLanguage","cacheLanguageResolution","locale","resolveLanguage","bundleFormat","standalone","VSCODE_NLS_CONFIG","vscodeOptions_1","availableLanguages","isBoolean","_languagePackSupport","_cacheRoot","_languagePackId","_translationsConfigFile","_corruptedFile","writeFile","initializeSettings","LIB","h","u","l","_makeLong","dir","P","navigator","userAgent","__proto__","g","isUri","A","y","O","w","revive","_formatted","external","_fsPath","_sep","$mid","C","fromCharCode","j","U","I","ConfigurationManager","_onDidChangeConfiguration","_settings","settings","getSettings","defaultDiagnosticOptions","md","convertDiagnosticLevel","enabled","ls","diagnosticOptions","updateDiagnosticsSetting","markdown","validate","fileLinks","referenceLinks","markdownFragmentLinks","ignoredLinks","getDiagnosticsOptions","subs","manager","emptyDiagnosticsResponse","onDidClose","LogFunctionLogger","getUTCHours","padStart","getMinutes","getUTCSeconds","getMilliseconds","_logFn","appendLine","data2String","consoleLogger","fs_readFile","fs_readDirectory","fs_stat","fs_watcher_create","fs_watcher_delete","findMarkdownFilesInWorkspace","getEditForFileRenames","fs_watcher_onChange","AggregateError","notebookCell","VsCodeDocument","inMemoryDoc","onDiskDoc","isDetached","setInMemoryDoc","setOnDiskDoc","_onDidCreateMarkdownDocument","_onDidChangeMarkdownDocument","_onDidDeleteMarkdownDocument","_documentCache","_utf8Decoder","_watcherPool","_watchers","_workspaceFolders","onDidOpen","isRelevantMarkdownDocument","onDidChangeContent","doDeleteDocument","openMarkdownDocumentFromFs","onDidChange","onDidChangeWorkspaceFolders","openTextDocumentResults","allDocs","resources","strResource","matchingDocument","bytes","Uint8Array","nb","watchParentDirs","isMarkdownFile","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","obj","startVsCodeServer"],"mappings":"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","file":"main.js","sourcesContent":["'use strict';\n\nmodule.exports = require('./lib/picomatch');\n","'use strict';\n\nconst path = require('path');\nconst WIN_SLASH = '\\\\\\\\/';\nconst WIN_NO_SLASH = `[^${WIN_SLASH}]`;\n\n/**\n * Posix glob regex\n */\n\nconst DOT_LITERAL = '\\\\.';\nconst PLUS_LITERAL = '\\\\+';\nconst QMARK_LITERAL = '\\\\?';\nconst SLASH_LITERAL = '\\\\/';\nconst ONE_CHAR = '(?=.)';\nconst QMARK = '[^/]';\nconst END_ANCHOR = `(?:${SLASH_LITERAL}|$)`;\nconst START_ANCHOR = `(?:^|${SLASH_LITERAL})`;\nconst DOTS_SLASH = `${DOT_LITERAL}{1,2}${END_ANCHOR}`;\nconst NO_DOT = `(?!${DOT_LITERAL})`;\nconst NO_DOTS = `(?!${START_ANCHOR}${DOTS_SLASH})`;\nconst NO_DOT_SLASH = `(?!${DOT_LITERAL}{0,1}${END_ANCHOR})`;\nconst NO_DOTS_SLASH = `(?!${DOTS_SLASH})`;\nconst QMARK_NO_DOT = `[^.${SLASH_LITERAL}]`;\nconst STAR = `${QMARK}*?`;\n\nconst POSIX_CHARS = {\n  DOT_LITERAL,\n  PLUS_LITERAL,\n  QMARK_LITERAL,\n  SLASH_LITERAL,\n  ONE_CHAR,\n  QMARK,\n  END_ANCHOR,\n  DOTS_SLASH,\n  NO_DOT,\n  NO_DOTS,\n  NO_DOT_SLASH,\n  NO_DOTS_SLASH,\n  QMARK_NO_DOT,\n  STAR,\n  START_ANCHOR\n};\n\n/**\n * Windows glob regex\n */\n\nconst WINDOWS_CHARS = {\n  ...POSIX_CHARS,\n\n  SLASH_LITERAL: `[${WIN_SLASH}]`,\n  QMARK: WIN_NO_SLASH,\n  STAR: `${WIN_NO_SLASH}*?`,\n  DOTS_SLASH: `${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$)`,\n  NO_DOT: `(?!${DOT_LITERAL})`,\n  NO_DOTS: `(?!(?:^|[${WIN_SLASH}])${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,\n  NO_DOT_SLASH: `(?!${DOT_LITERAL}{0,1}(?:[${WIN_SLASH}]|$))`,\n  NO_DOTS_SLASH: `(?!${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,\n  QMARK_NO_DOT: `[^.${WIN_SLASH}]`,\n  START_ANCHOR: `(?:^|[${WIN_SLASH}])`,\n  END_ANCHOR: `(?:[${WIN_SLASH}]|$)`\n};\n\n/**\n * POSIX Bracket Regex\n */\n\nconst POSIX_REGEX_SOURCE = {\n  alnum: 'a-zA-Z0-9',\n  alpha: 'a-zA-Z',\n  ascii: '\\\\x00-\\\\x7F',\n  blank: ' \\\\t',\n  cntrl: '\\\\x00-\\\\x1F\\\\x7F',\n  digit: '0-9',\n  graph: '\\\\x21-\\\\x7E',\n  lower: 'a-z',\n  print: '\\\\x20-\\\\x7E ',\n  punct: '\\\\-!\"#$%&\\'()\\\\*+,./:;<=>?@[\\\\]^_`{|}~',\n  space: ' \\\\t\\\\r\\\\n\\\\v\\\\f',\n  upper: 'A-Z',\n  word: 'A-Za-z0-9_',\n  xdigit: 'A-Fa-f0-9'\n};\n\nmodule.exports = {\n  MAX_LENGTH: 1024 * 64,\n  POSIX_REGEX_SOURCE,\n\n  // regular expressions\n  REGEX_BACKSLASH: /\\\\(?![*+?^${}(|)[\\]])/g,\n  REGEX_NON_SPECIAL_CHARS: /^[^@![\\].,$*+?^{}()|\\\\/]+/,\n  REGEX_SPECIAL_CHARS: /[-*+?.^${}(|)[\\]]/,\n  REGEX_SPECIAL_CHARS_BACKREF: /(\\\\?)((\\W)(\\3*))/g,\n  REGEX_SPECIAL_CHARS_GLOBAL: /([-*+?.^${}(|)[\\]])/g,\n  REGEX_REMOVE_BACKSLASH: /(?:\\[.*?[^\\\\]\\]|\\\\(?=.))/g,\n\n  // Replace globs with equivalent patterns to reduce parsing time.\n  REPLACEMENTS: {\n    '***': '*',\n    '**/**': '**',\n    '**/**/**': '**'\n  },\n\n  // Digits\n  CHAR_0: 48, /* 0 */\n  CHAR_9: 57, /* 9 */\n\n  // Alphabet chars.\n  CHAR_UPPERCASE_A: 65, /* A */\n  CHAR_LOWERCASE_A: 97, /* a */\n  CHAR_UPPERCASE_Z: 90, /* Z */\n  CHAR_LOWERCASE_Z: 122, /* z */\n\n  CHAR_LEFT_PARENTHESES: 40, /* ( */\n  CHAR_RIGHT_PARENTHESES: 41, /* ) */\n\n  CHAR_ASTERISK: 42, /* * */\n\n  // Non-alphabetic chars.\n  CHAR_AMPERSAND: 38, /* & */\n  CHAR_AT: 64, /* @ */\n  CHAR_BACKWARD_SLASH: 92, /* \\ */\n  CHAR_CARRIAGE_RETURN: 13, /* \\r */\n  CHAR_CIRCUMFLEX_ACCENT: 94, /* ^ */\n  CHAR_COLON: 58, /* : */\n  CHAR_COMMA: 44, /* , */\n  CHAR_DOT: 46, /* . */\n  CHAR_DOUBLE_QUOTE: 34, /* \" */\n  CHAR_EQUAL: 61, /* = */\n  CHAR_EXCLAMATION_MARK: 33, /* ! */\n  CHAR_FORM_FEED: 12, /* \\f */\n  CHAR_FORWARD_SLASH: 47, /* / */\n  CHAR_GRAVE_ACCENT: 96, /* ` */\n  CHAR_HASH: 35, /* # */\n  CHAR_HYPHEN_MINUS: 45, /* - */\n  CHAR_LEFT_ANGLE_BRACKET: 60, /* < */\n  CHAR_LEFT_CURLY_BRACE: 123, /* { */\n  CHAR_LEFT_SQUARE_BRACKET: 91, /* [ */\n  CHAR_LINE_FEED: 10, /* \\n */\n  CHAR_NO_BREAK_SPACE: 160, /* \\u00A0 */\n  CHAR_PERCENT: 37, /* % */\n  CHAR_PLUS: 43, /* + */\n  CHAR_QUESTION_MARK: 63, /* ? */\n  CHAR_RIGHT_ANGLE_BRACKET: 62, /* > */\n  CHAR_RIGHT_CURLY_BRACE: 125, /* } */\n  CHAR_RIGHT_SQUARE_BRACKET: 93, /* ] */\n  CHAR_SEMICOLON: 59, /* ; */\n  CHAR_SINGLE_QUOTE: 39, /* ' */\n  CHAR_SPACE: 32, /*   */\n  CHAR_TAB: 9, /* \\t */\n  CHAR_UNDERSCORE: 95, /* _ */\n  CHAR_VERTICAL_LINE: 124, /* | */\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE: 65279, /* \\uFEFF */\n\n  SEP: path.sep,\n\n  /**\n   * Create EXTGLOB_CHARS\n   */\n\n  extglobChars(chars) {\n    return {\n      '!': { type: 'negate', open: '(?:(?!(?:', close: `))${chars.STAR})` },\n      '?': { type: 'qmark', open: '(?:', close: ')?' },\n      '+': { type: 'plus', open: '(?:', close: ')+' },\n      '*': { type: 'star', open: '(?:', close: ')*' },\n      '@': { type: 'at', open: '(?:', close: ')' }\n    };\n  },\n\n  /**\n   * Create GLOB_CHARS\n   */\n\n  globChars(win32) {\n    return win32 === true ? WINDOWS_CHARS : POSIX_CHARS;\n  }\n};\n","'use strict';\n\nconst constants = require('./constants');\nconst utils = require('./utils');\n\n/**\n * Constants\n */\n\nconst {\n  MAX_LENGTH,\n  POSIX_REGEX_SOURCE,\n  REGEX_NON_SPECIAL_CHARS,\n  REGEX_SPECIAL_CHARS_BACKREF,\n  REPLACEMENTS\n} = constants;\n\n/**\n * Helpers\n */\n\nconst expandRange = (args, options) => {\n  if (typeof options.expandRange === 'function') {\n    return options.expandRange(...args, options);\n  }\n\n  args.sort();\n  const value = `[${args.join('-')}]`;\n\n  try {\n    /* eslint-disable-next-line no-new */\n    new RegExp(value);\n  } catch (ex) {\n    return args.map(v => utils.escapeRegex(v)).join('..');\n  }\n\n  return value;\n};\n\n/**\n * Create the message for a syntax error\n */\n\nconst syntaxError = (type, char) => {\n  return `Missing ${type}: \"${char}\" - use \"\\\\\\\\${char}\" to match literal characters`;\n};\n\n/**\n * Parse the given input string.\n * @param {String} input\n * @param {Object} options\n * @return {Object}\n */\n\nconst parse = (input, options) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  input = REPLACEMENTS[input] || input;\n\n  const opts = { ...options };\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n\n  let len = input.length;\n  if (len > max) {\n    throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`);\n  }\n\n  const bos = { type: 'bos', value: '', output: opts.prepend || '' };\n  const tokens = [bos];\n\n  const capture = opts.capture ? '' : '?:';\n  const win32 = utils.isWindows(options);\n\n  // create constants based on platform, for windows or posix\n  const PLATFORM_CHARS = constants.globChars(win32);\n  const EXTGLOB_CHARS = constants.extglobChars(PLATFORM_CHARS);\n\n  const {\n    DOT_LITERAL,\n    PLUS_LITERAL,\n    SLASH_LITERAL,\n    ONE_CHAR,\n    DOTS_SLASH,\n    NO_DOT,\n    NO_DOT_SLASH,\n    NO_DOTS_SLASH,\n    QMARK,\n    QMARK_NO_DOT,\n    STAR,\n    START_ANCHOR\n  } = PLATFORM_CHARS;\n\n  const globstar = opts => {\n    return `(${capture}(?:(?!${START_ANCHOR}${opts.dot ? DOTS_SLASH : DOT_LITERAL}).)*?)`;\n  };\n\n  const nodot = opts.dot ? '' : NO_DOT;\n  const qmarkNoDot = opts.dot ? QMARK : QMARK_NO_DOT;\n  let star = opts.bash === true ? globstar(opts) : STAR;\n\n  if (opts.capture) {\n    star = `(${star})`;\n  }\n\n  // minimatch options support\n  if (typeof opts.noext === 'boolean') {\n    opts.noextglob = opts.noext;\n  }\n\n  const state = {\n    input,\n    index: -1,\n    start: 0,\n    dot: opts.dot === true,\n    consumed: '',\n    output: '',\n    prefix: '',\n    backtrack: false,\n    negated: false,\n    brackets: 0,\n    braces: 0,\n    parens: 0,\n    quotes: 0,\n    globstar: false,\n    tokens\n  };\n\n  input = utils.removePrefix(input, state);\n  len = input.length;\n\n  const extglobs = [];\n  const braces = [];\n  const stack = [];\n  let prev = bos;\n  let value;\n\n  /**\n   * Tokenizing helpers\n   */\n\n  const eos = () => state.index === len - 1;\n  const peek = state.peek = (n = 1) => input[state.index + n];\n  const advance = state.advance = () => input[++state.index] || '';\n  const remaining = () => input.slice(state.index + 1);\n  const consume = (value = '', num = 0) => {\n    state.consumed += value;\n    state.index += num;\n  };\n\n  const append = token => {\n    state.output += token.output != null ? token.output : token.value;\n    consume(token.value);\n  };\n\n  const negate = () => {\n    let count = 1;\n\n    while (peek() === '!' && (peek(2) !== '(' || peek(3) === '?')) {\n      advance();\n      state.start++;\n      count++;\n    }\n\n    if (count % 2 === 0) {\n      return false;\n    }\n\n    state.negated = true;\n    state.start++;\n    return true;\n  };\n\n  const increment = type => {\n    state[type]++;\n    stack.push(type);\n  };\n\n  const decrement = type => {\n    state[type]--;\n    stack.pop();\n  };\n\n  /**\n   * Push tokens onto the tokens array. This helper speeds up\n   * tokenizing by 1) helping us avoid backtracking as much as possible,\n   * and 2) helping us avoid creating extra tokens when consecutive\n   * characters are plain text. This improves performance and simplifies\n   * lookbehinds.\n   */\n\n  const push = tok => {\n    if (prev.type === 'globstar') {\n      const isBrace = state.braces > 0 && (tok.type === 'comma' || tok.type === 'brace');\n      const isExtglob = tok.extglob === true || (extglobs.length && (tok.type === 'pipe' || tok.type === 'paren'));\n\n      if (tok.type !== 'slash' && tok.type !== 'paren' && !isBrace && !isExtglob) {\n        state.output = state.output.slice(0, -prev.output.length);\n        prev.type = 'star';\n        prev.value = '*';\n        prev.output = star;\n        state.output += prev.output;\n      }\n    }\n\n    if (extglobs.length && tok.type !== 'paren') {\n      extglobs[extglobs.length - 1].inner += tok.value;\n    }\n\n    if (tok.value || tok.output) append(tok);\n    if (prev && prev.type === 'text' && tok.type === 'text') {\n      prev.value += tok.value;\n      prev.output = (prev.output || '') + tok.value;\n      return;\n    }\n\n    tok.prev = prev;\n    tokens.push(tok);\n    prev = tok;\n  };\n\n  const extglobOpen = (type, value) => {\n    const token = { ...EXTGLOB_CHARS[value], conditions: 1, inner: '' };\n\n    token.prev = prev;\n    token.parens = state.parens;\n    token.output = state.output;\n    const output = (opts.capture ? '(' : '') + token.open;\n\n    increment('parens');\n    push({ type, value, output: state.output ? '' : ONE_CHAR });\n    push({ type: 'paren', extglob: true, value: advance(), output });\n    extglobs.push(token);\n  };\n\n  const extglobClose = token => {\n    let output = token.close + (opts.capture ? ')' : '');\n    let rest;\n\n    if (token.type === 'negate') {\n      let extglobStar = star;\n\n      if (token.inner && token.inner.length > 1 && token.inner.includes('/')) {\n        extglobStar = globstar(opts);\n      }\n\n      if (extglobStar !== star || eos() || /^\\)+$/.test(remaining())) {\n        output = token.close = `)$))${extglobStar}`;\n      }\n\n      if (token.inner.includes('*') && (rest = remaining()) && /^\\.[^\\\\/.]+$/.test(rest)) {\n        // Any non-magical string (`.ts`) or even nested expression (`.{ts,tsx}`) can follow after the closing parenthesis.\n        // In this case, we need to parse the string and use it in the output of the original pattern.\n        // Suitable patterns: `/!(*.d).ts`, `/!(*.d).{ts,tsx}`, `**/!(*-dbg).@(js)`.\n        //\n        // Disabling the `fastpaths` option due to a problem with parsing strings as `.ts` in the pattern like `**/!(*.d).ts`.\n        const expression = parse(rest, { ...options, fastpaths: false }).output;\n\n        output = token.close = `)${expression})${extglobStar})`;\n      }\n\n      if (token.prev.type === 'bos') {\n        state.negatedExtglob = true;\n      }\n    }\n\n    push({ type: 'paren', extglob: true, value, output });\n    decrement('parens');\n  };\n\n  /**\n   * Fast paths\n   */\n\n  if (opts.fastpaths !== false && !/(^[*!]|[/()[\\]{}\"])/.test(input)) {\n    let backslashes = false;\n\n    let output = input.replace(REGEX_SPECIAL_CHARS_BACKREF, (m, esc, chars, first, rest, index) => {\n      if (first === '\\\\') {\n        backslashes = true;\n        return m;\n      }\n\n      if (first === '?') {\n        if (esc) {\n          return esc + first + (rest ? QMARK.repeat(rest.length) : '');\n        }\n        if (index === 0) {\n          return qmarkNoDot + (rest ? QMARK.repeat(rest.length) : '');\n        }\n        return QMARK.repeat(chars.length);\n      }\n\n      if (first === '.') {\n        return DOT_LITERAL.repeat(chars.length);\n      }\n\n      if (first === '*') {\n        if (esc) {\n          return esc + first + (rest ? star : '');\n        }\n        return star;\n      }\n      return esc ? m : `\\\\${m}`;\n    });\n\n    if (backslashes === true) {\n      if (opts.unescape === true) {\n        output = output.replace(/\\\\/g, '');\n      } else {\n        output = output.replace(/\\\\+/g, m => {\n          return m.length % 2 === 0 ? '\\\\\\\\' : (m ? '\\\\' : '');\n        });\n      }\n    }\n\n    if (output === input && opts.contains === true) {\n      state.output = input;\n      return state;\n    }\n\n    state.output = utils.wrapOutput(output, state, options);\n    return state;\n  }\n\n  /**\n   * Tokenize input until we reach end-of-string\n   */\n\n  while (!eos()) {\n    value = advance();\n\n    if (value === '\\u0000') {\n      continue;\n    }\n\n    /**\n     * Escaped characters\n     */\n\n    if (value === '\\\\') {\n      const next = peek();\n\n      if (next === '/' && opts.bash !== true) {\n        continue;\n      }\n\n      if (next === '.' || next === ';') {\n        continue;\n      }\n\n      if (!next) {\n        value += '\\\\';\n        push({ type: 'text', value });\n        continue;\n      }\n\n      // collapse slashes to reduce potential for exploits\n      const match = /^\\\\+/.exec(remaining());\n      let slashes = 0;\n\n      if (match && match[0].length > 2) {\n        slashes = match[0].length;\n        state.index += slashes;\n        if (slashes % 2 !== 0) {\n          value += '\\\\';\n        }\n      }\n\n      if (opts.unescape === true) {\n        value = advance();\n      } else {\n        value += advance();\n      }\n\n      if (state.brackets === 0) {\n        push({ type: 'text', value });\n        continue;\n      }\n    }\n\n    /**\n     * If we're inside a regex character class, continue\n     * until we reach the closing bracket.\n     */\n\n    if (state.brackets > 0 && (value !== ']' || prev.value === '[' || prev.value === '[^')) {\n      if (opts.posix !== false && value === ':') {\n        const inner = prev.value.slice(1);\n        if (inner.includes('[')) {\n          prev.posix = true;\n\n          if (inner.includes(':')) {\n            const idx = prev.value.lastIndexOf('[');\n            const pre = prev.value.slice(0, idx);\n            const rest = prev.value.slice(idx + 2);\n            const posix = POSIX_REGEX_SOURCE[rest];\n            if (posix) {\n              prev.value = pre + posix;\n              state.backtrack = true;\n              advance();\n\n              if (!bos.output && tokens.indexOf(prev) === 1) {\n                bos.output = ONE_CHAR;\n              }\n              continue;\n            }\n          }\n        }\n      }\n\n      if ((value === '[' && peek() !== ':') || (value === '-' && peek() === ']')) {\n        value = `\\\\${value}`;\n      }\n\n      if (value === ']' && (prev.value === '[' || prev.value === '[^')) {\n        value = `\\\\${value}`;\n      }\n\n      if (opts.posix === true && value === '!' && prev.value === '[') {\n        value = '^';\n      }\n\n      prev.value += value;\n      append({ value });\n      continue;\n    }\n\n    /**\n     * If we're inside a quoted string, continue\n     * until we reach the closing double quote.\n     */\n\n    if (state.quotes === 1 && value !== '\"') {\n      value = utils.escapeRegex(value);\n      prev.value += value;\n      append({ value });\n      continue;\n    }\n\n    /**\n     * Double quotes\n     */\n\n    if (value === '\"') {\n      state.quotes = state.quotes === 1 ? 0 : 1;\n      if (opts.keepQuotes === true) {\n        push({ type: 'text', value });\n      }\n      continue;\n    }\n\n    /**\n     * Parentheses\n     */\n\n    if (value === '(') {\n      increment('parens');\n      push({ type: 'paren', value });\n      continue;\n    }\n\n    if (value === ')') {\n      if (state.parens === 0 && opts.strictBrackets === true) {\n        throw new SyntaxError(syntaxError('opening', '('));\n      }\n\n      const extglob = extglobs[extglobs.length - 1];\n      if (extglob && state.parens === extglob.parens + 1) {\n        extglobClose(extglobs.pop());\n        continue;\n      }\n\n      push({ type: 'paren', value, output: state.parens ? ')' : '\\\\)' });\n      decrement('parens');\n      continue;\n    }\n\n    /**\n     * Square brackets\n     */\n\n    if (value === '[') {\n      if (opts.nobracket === true || !remaining().includes(']')) {\n        if (opts.nobracket !== true && opts.strictBrackets === true) {\n          throw new SyntaxError(syntaxError('closing', ']'));\n        }\n\n        value = `\\\\${value}`;\n      } else {\n        increment('brackets');\n      }\n\n      push({ type: 'bracket', value });\n      continue;\n    }\n\n    if (value === ']') {\n      if (opts.nobracket === true || (prev && prev.type === 'bracket' && prev.value.length === 1)) {\n        push({ type: 'text', value, output: `\\\\${value}` });\n        continue;\n      }\n\n      if (state.brackets === 0) {\n        if (opts.strictBrackets === true) {\n          throw new SyntaxError(syntaxError('opening', '['));\n        }\n\n        push({ type: 'text', value, output: `\\\\${value}` });\n        continue;\n      }\n\n      decrement('brackets');\n\n      const prevValue = prev.value.slice(1);\n      if (prev.posix !== true && prevValue[0] === '^' && !prevValue.includes('/')) {\n        value = `/${value}`;\n      }\n\n      prev.value += value;\n      append({ value });\n\n      // when literal brackets are explicitly disabled\n      // assume we should match with a regex character class\n      if (opts.literalBrackets === false || utils.hasRegexChars(prevValue)) {\n        continue;\n      }\n\n      const escaped = utils.escapeRegex(prev.value);\n      state.output = state.output.slice(0, -prev.value.length);\n\n      // when literal brackets are explicitly enabled\n      // assume we should escape the brackets to match literal characters\n      if (opts.literalBrackets === true) {\n        state.output += escaped;\n        prev.value = escaped;\n        continue;\n      }\n\n      // when the user specifies nothing, try to match both\n      prev.value = `(${capture}${escaped}|${prev.value})`;\n      state.output += prev.value;\n      continue;\n    }\n\n    /**\n     * Braces\n     */\n\n    if (value === '{' && opts.nobrace !== true) {\n      increment('braces');\n\n      const open = {\n        type: 'brace',\n        value,\n        output: '(',\n        outputIndex: state.output.length,\n        tokensIndex: state.tokens.length\n      };\n\n      braces.push(open);\n      push(open);\n      continue;\n    }\n\n    if (value === '}') {\n      const brace = braces[braces.length - 1];\n\n      if (opts.nobrace === true || !brace) {\n        push({ type: 'text', value, output: value });\n        continue;\n      }\n\n      let output = ')';\n\n      if (brace.dots === true) {\n        const arr = tokens.slice();\n        const range = [];\n\n        for (let i = arr.length - 1; i >= 0; i--) {\n          tokens.pop();\n          if (arr[i].type === 'brace') {\n            break;\n          }\n          if (arr[i].type !== 'dots') {\n            range.unshift(arr[i].value);\n          }\n        }\n\n        output = expandRange(range, opts);\n        state.backtrack = true;\n      }\n\n      if (brace.comma !== true && brace.dots !== true) {\n        const out = state.output.slice(0, brace.outputIndex);\n        const toks = state.tokens.slice(brace.tokensIndex);\n        brace.value = brace.output = '\\\\{';\n        value = output = '\\\\}';\n        state.output = out;\n        for (const t of toks) {\n          state.output += (t.output || t.value);\n        }\n      }\n\n      push({ type: 'brace', value, output });\n      decrement('braces');\n      braces.pop();\n      continue;\n    }\n\n    /**\n     * Pipes\n     */\n\n    if (value === '|') {\n      if (extglobs.length > 0) {\n        extglobs[extglobs.length - 1].conditions++;\n      }\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Commas\n     */\n\n    if (value === ',') {\n      let output = value;\n\n      const brace = braces[braces.length - 1];\n      if (brace && stack[stack.length - 1] === 'braces') {\n        brace.comma = true;\n        output = '|';\n      }\n\n      push({ type: 'comma', value, output });\n      continue;\n    }\n\n    /**\n     * Slashes\n     */\n\n    if (value === '/') {\n      // if the beginning of the glob is \"./\", advance the start\n      // to the current index, and don't add the \"./\" characters\n      // to the state. This greatly simplifies lookbehinds when\n      // checking for BOS characters like \"!\" and \".\" (not \"./\")\n      if (prev.type === 'dot' && state.index === state.start + 1) {\n        state.start = state.index + 1;\n        state.consumed = '';\n        state.output = '';\n        tokens.pop();\n        prev = bos; // reset \"prev\" to the first token\n        continue;\n      }\n\n      push({ type: 'slash', value, output: SLASH_LITERAL });\n      continue;\n    }\n\n    /**\n     * Dots\n     */\n\n    if (value === '.') {\n      if (state.braces > 0 && prev.type === 'dot') {\n        if (prev.value === '.') prev.output = DOT_LITERAL;\n        const brace = braces[braces.length - 1];\n        prev.type = 'dots';\n        prev.output += value;\n        prev.value += value;\n        brace.dots = true;\n        continue;\n      }\n\n      if ((state.braces + state.parens) === 0 && prev.type !== 'bos' && prev.type !== 'slash') {\n        push({ type: 'text', value, output: DOT_LITERAL });\n        continue;\n      }\n\n      push({ type: 'dot', value, output: DOT_LITERAL });\n      continue;\n    }\n\n    /**\n     * Question marks\n     */\n\n    if (value === '?') {\n      const isGroup = prev && prev.value === '(';\n      if (!isGroup && opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        extglobOpen('qmark', value);\n        continue;\n      }\n\n      if (prev && prev.type === 'paren') {\n        const next = peek();\n        let output = value;\n\n        if (next === '<' && !utils.supportsLookbehinds()) {\n          throw new Error('Node.js v10 or higher is required for regex lookbehinds');\n        }\n\n        if ((prev.value === '(' && !/[!=<:]/.test(next)) || (next === '<' && !/<([!=]|\\w+>)/.test(remaining()))) {\n          output = `\\\\${value}`;\n        }\n\n        push({ type: 'text', value, output });\n        continue;\n      }\n\n      if (opts.dot !== true && (prev.type === 'slash' || prev.type === 'bos')) {\n        push({ type: 'qmark', value, output: QMARK_NO_DOT });\n        continue;\n      }\n\n      push({ type: 'qmark', value, output: QMARK });\n      continue;\n    }\n\n    /**\n     * Exclamation\n     */\n\n    if (value === '!') {\n      if (opts.noextglob !== true && peek() === '(') {\n        if (peek(2) !== '?' || !/[!=<:]/.test(peek(3))) {\n          extglobOpen('negate', value);\n          continue;\n        }\n      }\n\n      if (opts.nonegate !== true && state.index === 0) {\n        negate();\n        continue;\n      }\n    }\n\n    /**\n     * Plus\n     */\n\n    if (value === '+') {\n      if (opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        extglobOpen('plus', value);\n        continue;\n      }\n\n      if ((prev && prev.value === '(') || opts.regex === false) {\n        push({ type: 'plus', value, output: PLUS_LITERAL });\n        continue;\n      }\n\n      if ((prev && (prev.type === 'bracket' || prev.type === 'paren' || prev.type === 'brace')) || state.parens > 0) {\n        push({ type: 'plus', value });\n        continue;\n      }\n\n      push({ type: 'plus', value: PLUS_LITERAL });\n      continue;\n    }\n\n    /**\n     * Plain text\n     */\n\n    if (value === '@') {\n      if (opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        push({ type: 'at', extglob: true, value, output: '' });\n        continue;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Plain text\n     */\n\n    if (value !== '*') {\n      if (value === '$' || value === '^') {\n        value = `\\\\${value}`;\n      }\n\n      const match = REGEX_NON_SPECIAL_CHARS.exec(remaining());\n      if (match) {\n        value += match[0];\n        state.index += match[0].length;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Stars\n     */\n\n    if (prev && (prev.type === 'globstar' || prev.star === true)) {\n      prev.type = 'star';\n      prev.star = true;\n      prev.value += value;\n      prev.output = star;\n      state.backtrack = true;\n      state.globstar = true;\n      consume(value);\n      continue;\n    }\n\n    let rest = remaining();\n    if (opts.noextglob !== true && /^\\([^?]/.test(rest)) {\n      extglobOpen('star', value);\n      continue;\n    }\n\n    if (prev.type === 'star') {\n      if (opts.noglobstar === true) {\n        consume(value);\n        continue;\n      }\n\n      const prior = prev.prev;\n      const before = prior.prev;\n      const isStart = prior.type === 'slash' || prior.type === 'bos';\n      const afterStar = before && (before.type === 'star' || before.type === 'globstar');\n\n      if (opts.bash === true && (!isStart || (rest[0] && rest[0] !== '/'))) {\n        push({ type: 'star', value, output: '' });\n        continue;\n      }\n\n      const isBrace = state.braces > 0 && (prior.type === 'comma' || prior.type === 'brace');\n      const isExtglob = extglobs.length && (prior.type === 'pipe' || prior.type === 'paren');\n      if (!isStart && prior.type !== 'paren' && !isBrace && !isExtglob) {\n        push({ type: 'star', value, output: '' });\n        continue;\n      }\n\n      // strip consecutive `/**/`\n      while (rest.slice(0, 3) === '/**') {\n        const after = input[state.index + 4];\n        if (after && after !== '/') {\n          break;\n        }\n        rest = rest.slice(3);\n        consume('/**', 3);\n      }\n\n      if (prior.type === 'bos' && eos()) {\n        prev.type = 'globstar';\n        prev.value += value;\n        prev.output = globstar(opts);\n        state.output = prev.output;\n        state.globstar = true;\n        consume(value);\n        continue;\n      }\n\n      if (prior.type === 'slash' && prior.prev.type !== 'bos' && !afterStar && eos()) {\n        state.output = state.output.slice(0, -(prior.output + prev.output).length);\n        prior.output = `(?:${prior.output}`;\n\n        prev.type = 'globstar';\n        prev.output = globstar(opts) + (opts.strictSlashes ? ')' : '|$)');\n        prev.value += value;\n        state.globstar = true;\n        state.output += prior.output + prev.output;\n        consume(value);\n        continue;\n      }\n\n      if (prior.type === 'slash' && prior.prev.type !== 'bos' && rest[0] === '/') {\n        const end = rest[1] !== void 0 ? '|$' : '';\n\n        state.output = state.output.slice(0, -(prior.output + prev.output).length);\n        prior.output = `(?:${prior.output}`;\n\n        prev.type = 'globstar';\n        prev.output = `${globstar(opts)}${SLASH_LITERAL}|${SLASH_LITERAL}${end})`;\n        prev.value += value;\n\n        state.output += prior.output + prev.output;\n        state.globstar = true;\n\n        consume(value + advance());\n\n        push({ type: 'slash', value: '/', output: '' });\n        continue;\n      }\n\n      if (prior.type === 'bos' && rest[0] === '/') {\n        prev.type = 'globstar';\n        prev.value += value;\n        prev.output = `(?:^|${SLASH_LITERAL}|${globstar(opts)}${SLASH_LITERAL})`;\n        state.output = prev.output;\n        state.globstar = true;\n        consume(value + advance());\n        push({ type: 'slash', value: '/', output: '' });\n        continue;\n      }\n\n      // remove single star from output\n      state.output = state.output.slice(0, -prev.output.length);\n\n      // reset previous token to globstar\n      prev.type = 'globstar';\n      prev.output = globstar(opts);\n      prev.value += value;\n\n      // reset output with globstar\n      state.output += prev.output;\n      state.globstar = true;\n      consume(value);\n      continue;\n    }\n\n    const token = { type: 'star', value, output: star };\n\n    if (opts.bash === true) {\n      token.output = '.*?';\n      if (prev.type === 'bos' || prev.type === 'slash') {\n        token.output = nodot + token.output;\n      }\n      push(token);\n      continue;\n    }\n\n    if (prev && (prev.type === 'bracket' || prev.type === 'paren') && opts.regex === true) {\n      token.output = value;\n      push(token);\n      continue;\n    }\n\n    if (state.index === state.start || prev.type === 'slash' || prev.type === 'dot') {\n      if (prev.type === 'dot') {\n        state.output += NO_DOT_SLASH;\n        prev.output += NO_DOT_SLASH;\n\n      } else if (opts.dot === true) {\n        state.output += NO_DOTS_SLASH;\n        prev.output += NO_DOTS_SLASH;\n\n      } else {\n        state.output += nodot;\n        prev.output += nodot;\n      }\n\n      if (peek() !== '*') {\n        state.output += ONE_CHAR;\n        prev.output += ONE_CHAR;\n      }\n    }\n\n    push(token);\n  }\n\n  while (state.brackets > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', ']'));\n    state.output = utils.escapeLast(state.output, '[');\n    decrement('brackets');\n  }\n\n  while (state.parens > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', ')'));\n    state.output = utils.escapeLast(state.output, '(');\n    decrement('parens');\n  }\n\n  while (state.braces > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', '}'));\n    state.output = utils.escapeLast(state.output, '{');\n    decrement('braces');\n  }\n\n  if (opts.strictSlashes !== true && (prev.type === 'star' || prev.type === 'bracket')) {\n    push({ type: 'maybe_slash', value: '', output: `${SLASH_LITERAL}?` });\n  }\n\n  // rebuild the output if we had to backtrack at any point\n  if (state.backtrack === true) {\n    state.output = '';\n\n    for (const token of state.tokens) {\n      state.output += token.output != null ? token.output : token.value;\n\n      if (token.suffix) {\n        state.output += token.suffix;\n      }\n    }\n  }\n\n  return state;\n};\n\n/**\n * Fast paths for creating regular expressions for common glob patterns.\n * This can significantly speed up processing and has very little downside\n * impact when none of the fast paths match.\n */\n\nparse.fastpaths = (input, options) => {\n  const opts = { ...options };\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n  const len = input.length;\n  if (len > max) {\n    throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`);\n  }\n\n  input = REPLACEMENTS[input] || input;\n  const win32 = utils.isWindows(options);\n\n  // create constants based on platform, for windows or posix\n  const {\n    DOT_LITERAL,\n    SLASH_LITERAL,\n    ONE_CHAR,\n    DOTS_SLASH,\n    NO_DOT,\n    NO_DOTS,\n    NO_DOTS_SLASH,\n    STAR,\n    START_ANCHOR\n  } = constants.globChars(win32);\n\n  const nodot = opts.dot ? NO_DOTS : NO_DOT;\n  const slashDot = opts.dot ? NO_DOTS_SLASH : NO_DOT;\n  const capture = opts.capture ? '' : '?:';\n  const state = { negated: false, prefix: '' };\n  let star = opts.bash === true ? '.*?' : STAR;\n\n  if (opts.capture) {\n    star = `(${star})`;\n  }\n\n  const globstar = opts => {\n    if (opts.noglobstar === true) return star;\n    return `(${capture}(?:(?!${START_ANCHOR}${opts.dot ? DOTS_SLASH : DOT_LITERAL}).)*?)`;\n  };\n\n  const create = str => {\n    switch (str) {\n      case '*':\n        return `${nodot}${ONE_CHAR}${star}`;\n\n      case '.*':\n        return `${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '*.*':\n        return `${nodot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '*/*':\n        return `${nodot}${star}${SLASH_LITERAL}${ONE_CHAR}${slashDot}${star}`;\n\n      case '**':\n        return nodot + globstar(opts);\n\n      case '**/*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${ONE_CHAR}${star}`;\n\n      case '**/*.*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '**/.*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      default: {\n        const match = /^(.*?)\\.(\\w+)$/.exec(str);\n        if (!match) return;\n\n        const source = create(match[1]);\n        if (!source) return;\n\n        return source + DOT_LITERAL + match[2];\n      }\n    }\n  };\n\n  const output = utils.removePrefix(input, state);\n  let source = create(output);\n\n  if (source && opts.strictSlashes !== true) {\n    source += `${SLASH_LITERAL}?`;\n  }\n\n  return source;\n};\n\nmodule.exports = parse;\n","'use strict';\n\nconst path = require('path');\nconst scan = require('./scan');\nconst parse = require('./parse');\nconst utils = require('./utils');\nconst constants = require('./constants');\nconst isObject = val => val && typeof val === 'object' && !Array.isArray(val);\n\n/**\n * Creates a matcher function from one or more glob patterns. The\n * returned function takes a string to match as its first argument,\n * and returns true if the string is a match. The returned matcher\n * function also takes a boolean as the second argument that, when true,\n * returns an object with additional information.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch(glob[, options]);\n *\n * const isMatch = picomatch('*.!(*a)');\n * console.log(isMatch('a.a')); //=> false\n * console.log(isMatch('a.b')); //=> true\n * ```\n * @name picomatch\n * @param {String|Array} `globs` One or more glob patterns.\n * @param {Object=} `options`\n * @return {Function=} Returns a matcher function.\n * @api public\n */\n\nconst picomatch = (glob, options, returnState = false) => {\n  if (Array.isArray(glob)) {\n    const fns = glob.map(input => picomatch(input, options, returnState));\n    const arrayMatcher = str => {\n      for (const isMatch of fns) {\n        const state = isMatch(str);\n        if (state) return state;\n      }\n      return false;\n    };\n    return arrayMatcher;\n  }\n\n  const isState = isObject(glob) && glob.tokens && glob.input;\n\n  if (glob === '' || (typeof glob !== 'string' && !isState)) {\n    throw new TypeError('Expected pattern to be a non-empty string');\n  }\n\n  const opts = options || {};\n  const posix = utils.isWindows(options);\n  const regex = isState\n    ? picomatch.compileRe(glob, options)\n    : picomatch.makeRe(glob, options, false, true);\n\n  const state = regex.state;\n  delete regex.state;\n\n  let isIgnored = () => false;\n  if (opts.ignore) {\n    const ignoreOpts = { ...options, ignore: null, onMatch: null, onResult: null };\n    isIgnored = picomatch(opts.ignore, ignoreOpts, returnState);\n  }\n\n  const matcher = (input, returnObject = false) => {\n    const { isMatch, match, output } = picomatch.test(input, regex, options, { glob, posix });\n    const result = { glob, state, regex, posix, input, output, match, isMatch };\n\n    if (typeof opts.onResult === 'function') {\n      opts.onResult(result);\n    }\n\n    if (isMatch === false) {\n      result.isMatch = false;\n      return returnObject ? result : false;\n    }\n\n    if (isIgnored(input)) {\n      if (typeof opts.onIgnore === 'function') {\n        opts.onIgnore(result);\n      }\n      result.isMatch = false;\n      return returnObject ? result : false;\n    }\n\n    if (typeof opts.onMatch === 'function') {\n      opts.onMatch(result);\n    }\n    return returnObject ? result : true;\n  };\n\n  if (returnState) {\n    matcher.state = state;\n  }\n\n  return matcher;\n};\n\n/**\n * Test `input` with the given `regex`. This is used by the main\n * `picomatch()` function to test the input string.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.test(input, regex[, options]);\n *\n * console.log(picomatch.test('foo/bar', /^(?:([^/]*?)\\/([^/]*?))$/));\n * // { isMatch: true, match: [ 'foo/', 'foo', 'bar' ], output: 'foo/bar' }\n * ```\n * @param {String} `input` String to test.\n * @param {RegExp} `regex`\n * @return {Object} Returns an object with matching info.\n * @api public\n */\n\npicomatch.test = (input, regex, options, { glob, posix } = {}) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected input to be a string');\n  }\n\n  if (input === '') {\n    return { isMatch: false, output: '' };\n  }\n\n  const opts = options || {};\n  const format = opts.format || (posix ? utils.toPosixSlashes : null);\n  let match = input === glob;\n  let output = (match && format) ? format(input) : input;\n\n  if (match === false) {\n    output = format ? format(input) : input;\n    match = output === glob;\n  }\n\n  if (match === false || opts.capture === true) {\n    if (opts.matchBase === true || opts.basename === true) {\n      match = picomatch.matchBase(input, regex, options, posix);\n    } else {\n      match = regex.exec(output);\n    }\n  }\n\n  return { isMatch: Boolean(match), match, output };\n};\n\n/**\n * Match the basename of a filepath.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.matchBase(input, glob[, options]);\n * console.log(picomatch.matchBase('foo/bar.js', '*.js'); // true\n * ```\n * @param {String} `input` String to test.\n * @param {RegExp|String} `glob` Glob pattern or regex created by [.makeRe](#makeRe).\n * @return {Boolean}\n * @api public\n */\n\npicomatch.matchBase = (input, glob, options, posix = utils.isWindows(options)) => {\n  const regex = glob instanceof RegExp ? glob : picomatch.makeRe(glob, options);\n  return regex.test(path.basename(input));\n};\n\n/**\n * Returns true if **any** of the given glob `patterns` match the specified `string`.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.isMatch(string, patterns[, options]);\n *\n * console.log(picomatch.isMatch('a.a', ['b.*', '*.a'])); //=> true\n * console.log(picomatch.isMatch('a.a', 'b.*')); //=> false\n * ```\n * @param {String|Array} str The string to test.\n * @param {String|Array} patterns One or more glob patterns to use for matching.\n * @param {Object} [options] See available [options](#options).\n * @return {Boolean} Returns true if any patterns match `str`\n * @api public\n */\n\npicomatch.isMatch = (str, patterns, options) => picomatch(patterns, options)(str);\n\n/**\n * Parse a glob pattern to create the source string for a regular\n * expression.\n *\n * ```js\n * const picomatch = require('picomatch');\n * const result = picomatch.parse(pattern[, options]);\n * ```\n * @param {String} `pattern`\n * @param {Object} `options`\n * @return {Object} Returns an object with useful properties and output to be used as a regex source string.\n * @api public\n */\n\npicomatch.parse = (pattern, options) => {\n  if (Array.isArray(pattern)) return pattern.map(p => picomatch.parse(p, options));\n  return parse(pattern, { ...options, fastpaths: false });\n};\n\n/**\n * Scan a glob pattern to separate the pattern into segments.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.scan(input[, options]);\n *\n * const result = picomatch.scan('!./foo/*.js');\n * console.log(result);\n * { prefix: '!./',\n *   input: '!./foo/*.js',\n *   start: 3,\n *   base: 'foo',\n *   glob: '*.js',\n *   isBrace: false,\n *   isBracket: false,\n *   isGlob: true,\n *   isExtglob: false,\n *   isGlobstar: false,\n *   negated: true }\n * ```\n * @param {String} `input` Glob pattern to scan.\n * @param {Object} `options`\n * @return {Object} Returns an object with\n * @api public\n */\n\npicomatch.scan = (input, options) => scan(input, options);\n\n/**\n * Compile a regular expression from the `state` object returned by the\n * [parse()](#parse) method.\n *\n * @param {Object} `state`\n * @param {Object} `options`\n * @param {Boolean} `returnOutput` Intended for implementors, this argument allows you to return the raw output from the parser.\n * @param {Boolean} `returnState` Adds the state to a `state` property on the returned regex. Useful for implementors and debugging.\n * @return {RegExp}\n * @api public\n */\n\npicomatch.compileRe = (state, options, returnOutput = false, returnState = false) => {\n  if (returnOutput === true) {\n    return state.output;\n  }\n\n  const opts = options || {};\n  const prepend = opts.contains ? '' : '^';\n  const append = opts.contains ? '' : '$';\n\n  let source = `${prepend}(?:${state.output})${append}`;\n  if (state && state.negated === true) {\n    source = `^(?!${source}).*$`;\n  }\n\n  const regex = picomatch.toRegex(source, options);\n  if (returnState === true) {\n    regex.state = state;\n  }\n\n  return regex;\n};\n\n/**\n * Create a regular expression from a parsed glob pattern.\n *\n * ```js\n * const picomatch = require('picomatch');\n * const state = picomatch.parse('*.js');\n * // picomatch.compileRe(state[, options]);\n *\n * console.log(picomatch.compileRe(state));\n * //=> /^(?:(?!\\.)(?=.)[^/]*?\\.js)$/\n * ```\n * @param {String} `state` The object returned from the `.parse` method.\n * @param {Object} `options`\n * @param {Boolean} `returnOutput` Implementors may use this argument to return the compiled output, instead of a regular expression. This is not exposed on the options to prevent end-users from mutating the result.\n * @param {Boolean} `returnState` Implementors may use this argument to return the state from the parsed glob with the returned regular expression.\n * @return {RegExp} Returns a regex created from the given pattern.\n * @api public\n */\n\npicomatch.makeRe = (input, options = {}, returnOutput = false, returnState = false) => {\n  if (!input || typeof input !== 'string') {\n    throw new TypeError('Expected a non-empty string');\n  }\n\n  let parsed = { negated: false, fastpaths: true };\n\n  if (options.fastpaths !== false && (input[0] === '.' || input[0] === '*')) {\n    parsed.output = parse.fastpaths(input, options);\n  }\n\n  if (!parsed.output) {\n    parsed = parse(input, options);\n  }\n\n  return picomatch.compileRe(parsed, options, returnOutput, returnState);\n};\n\n/**\n * Create a regular expression from the given regex source string.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.toRegex(source[, options]);\n *\n * const { output } = picomatch.parse('*.js');\n * console.log(picomatch.toRegex(output));\n * //=> /^(?:(?!\\.)(?=.)[^/]*?\\.js)$/\n * ```\n * @param {String} `source` Regular expression source string.\n * @param {Object} `options`\n * @return {RegExp}\n * @api public\n */\n\npicomatch.toRegex = (source, options) => {\n  try {\n    const opts = options || {};\n    return new RegExp(source, opts.flags || (opts.nocase ? 'i' : ''));\n  } catch (err) {\n    if (options && options.debug === true) throw err;\n    return /$^/;\n  }\n};\n\n/**\n * Picomatch constants.\n * @return {Object}\n */\n\npicomatch.constants = constants;\n\n/**\n * Expose \"picomatch\"\n */\n\nmodule.exports = picomatch;\n","'use strict';\n\nconst utils = require('./utils');\nconst {\n  CHAR_ASTERISK,             /* * */\n  CHAR_AT,                   /* @ */\n  CHAR_BACKWARD_SLASH,       /* \\ */\n  CHAR_COMMA,                /* , */\n  CHAR_DOT,                  /* . */\n  CHAR_EXCLAMATION_MARK,     /* ! */\n  CHAR_FORWARD_SLASH,        /* / */\n  CHAR_LEFT_CURLY_BRACE,     /* { */\n  CHAR_LEFT_PARENTHESES,     /* ( */\n  CHAR_LEFT_SQUARE_BRACKET,  /* [ */\n  CHAR_PLUS,                 /* + */\n  CHAR_QUESTION_MARK,        /* ? */\n  CHAR_RIGHT_CURLY_BRACE,    /* } */\n  CHAR_RIGHT_PARENTHESES,    /* ) */\n  CHAR_RIGHT_SQUARE_BRACKET  /* ] */\n} = require('./constants');\n\nconst isPathSeparator = code => {\n  return code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH;\n};\n\nconst depth = token => {\n  if (token.isPrefix !== true) {\n    token.depth = token.isGlobstar ? Infinity : 1;\n  }\n};\n\n/**\n * Quickly scans a glob pattern and returns an object with a handful of\n * useful properties, like `isGlob`, `path` (the leading non-glob, if it exists),\n * `glob` (the actual pattern), `negated` (true if the path starts with `!` but not\n * with `!(`) and `negatedExtglob` (true if the path starts with `!(`).\n *\n * ```js\n * const pm = require('picomatch');\n * console.log(pm.scan('foo/bar/*.js'));\n * { isGlob: true, input: 'foo/bar/*.js', base: 'foo/bar', glob: '*.js' }\n * ```\n * @param {String} `str`\n * @param {Object} `options`\n * @return {Object} Returns an object with tokens and regex source string.\n * @api public\n */\n\nconst scan = (input, options) => {\n  const opts = options || {};\n\n  const length = input.length - 1;\n  const scanToEnd = opts.parts === true || opts.scanToEnd === true;\n  const slashes = [];\n  const tokens = [];\n  const parts = [];\n\n  let str = input;\n  let index = -1;\n  let start = 0;\n  let lastIndex = 0;\n  let isBrace = false;\n  let isBracket = false;\n  let isGlob = false;\n  let isExtglob = false;\n  let isGlobstar = false;\n  let braceEscaped = false;\n  let backslashes = false;\n  let negated = false;\n  let negatedExtglob = false;\n  let finished = false;\n  let braces = 0;\n  let prev;\n  let code;\n  let token = { value: '', depth: 0, isGlob: false };\n\n  const eos = () => index >= length;\n  const peek = () => str.charCodeAt(index + 1);\n  const advance = () => {\n    prev = code;\n    return str.charCodeAt(++index);\n  };\n\n  while (index < length) {\n    code = advance();\n    let next;\n\n    if (code === CHAR_BACKWARD_SLASH) {\n      backslashes = token.backslashes = true;\n      code = advance();\n\n      if (code === CHAR_LEFT_CURLY_BRACE) {\n        braceEscaped = true;\n      }\n      continue;\n    }\n\n    if (braceEscaped === true || code === CHAR_LEFT_CURLY_BRACE) {\n      braces++;\n\n      while (eos() !== true && (code = advance())) {\n        if (code === CHAR_BACKWARD_SLASH) {\n          backslashes = token.backslashes = true;\n          advance();\n          continue;\n        }\n\n        if (code === CHAR_LEFT_CURLY_BRACE) {\n          braces++;\n          continue;\n        }\n\n        if (braceEscaped !== true && code === CHAR_DOT && (code = advance()) === CHAR_DOT) {\n          isBrace = token.isBrace = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n\n          if (scanToEnd === true) {\n            continue;\n          }\n\n          break;\n        }\n\n        if (braceEscaped !== true && code === CHAR_COMMA) {\n          isBrace = token.isBrace = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n\n          if (scanToEnd === true) {\n            continue;\n          }\n\n          break;\n        }\n\n        if (code === CHAR_RIGHT_CURLY_BRACE) {\n          braces--;\n\n          if (braces === 0) {\n            braceEscaped = false;\n            isBrace = token.isBrace = true;\n            finished = true;\n            break;\n          }\n        }\n      }\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n\n    if (code === CHAR_FORWARD_SLASH) {\n      slashes.push(index);\n      tokens.push(token);\n      token = { value: '', depth: 0, isGlob: false };\n\n      if (finished === true) continue;\n      if (prev === CHAR_DOT && index === (start + 1)) {\n        start += 2;\n        continue;\n      }\n\n      lastIndex = index + 1;\n      continue;\n    }\n\n    if (opts.noext !== true) {\n      const isExtglobChar = code === CHAR_PLUS\n        || code === CHAR_AT\n        || code === CHAR_ASTERISK\n        || code === CHAR_QUESTION_MARK\n        || code === CHAR_EXCLAMATION_MARK;\n\n      if (isExtglobChar === true && peek() === CHAR_LEFT_PARENTHESES) {\n        isGlob = token.isGlob = true;\n        isExtglob = token.isExtglob = true;\n        finished = true;\n        if (code === CHAR_EXCLAMATION_MARK && index === start) {\n          negatedExtglob = true;\n        }\n\n        if (scanToEnd === true) {\n          while (eos() !== true && (code = advance())) {\n            if (code === CHAR_BACKWARD_SLASH) {\n              backslashes = token.backslashes = true;\n              code = advance();\n              continue;\n            }\n\n            if (code === CHAR_RIGHT_PARENTHESES) {\n              isGlob = token.isGlob = true;\n              finished = true;\n              break;\n            }\n          }\n          continue;\n        }\n        break;\n      }\n    }\n\n    if (code === CHAR_ASTERISK) {\n      if (prev === CHAR_ASTERISK) isGlobstar = token.isGlobstar = true;\n      isGlob = token.isGlob = true;\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n      break;\n    }\n\n    if (code === CHAR_QUESTION_MARK) {\n      isGlob = token.isGlob = true;\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n      break;\n    }\n\n    if (code === CHAR_LEFT_SQUARE_BRACKET) {\n      while (eos() !== true && (next = advance())) {\n        if (next === CHAR_BACKWARD_SLASH) {\n          backslashes = token.backslashes = true;\n          advance();\n          continue;\n        }\n\n        if (next === CHAR_RIGHT_SQUARE_BRACKET) {\n          isBracket = token.isBracket = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n          break;\n        }\n      }\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n\n    if (opts.nonegate !== true && code === CHAR_EXCLAMATION_MARK && index === start) {\n      negated = token.negated = true;\n      start++;\n      continue;\n    }\n\n    if (opts.noparen !== true && code === CHAR_LEFT_PARENTHESES) {\n      isGlob = token.isGlob = true;\n\n      if (scanToEnd === true) {\n        while (eos() !== true && (code = advance())) {\n          if (code === CHAR_LEFT_PARENTHESES) {\n            backslashes = token.backslashes = true;\n            code = advance();\n            continue;\n          }\n\n          if (code === CHAR_RIGHT_PARENTHESES) {\n            finished = true;\n            break;\n          }\n        }\n        continue;\n      }\n      break;\n    }\n\n    if (isGlob === true) {\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n  }\n\n  if (opts.noext === true) {\n    isExtglob = false;\n    isGlob = false;\n  }\n\n  let base = str;\n  let prefix = '';\n  let glob = '';\n\n  if (start > 0) {\n    prefix = str.slice(0, start);\n    str = str.slice(start);\n    lastIndex -= start;\n  }\n\n  if (base && isGlob === true && lastIndex > 0) {\n    base = str.slice(0, lastIndex);\n    glob = str.slice(lastIndex);\n  } else if (isGlob === true) {\n    base = '';\n    glob = str;\n  } else {\n    base = str;\n  }\n\n  if (base && base !== '' && base !== '/' && base !== str) {\n    if (isPathSeparator(base.charCodeAt(base.length - 1))) {\n      base = base.slice(0, -1);\n    }\n  }\n\n  if (opts.unescape === true) {\n    if (glob) glob = utils.removeBackslashes(glob);\n\n    if (base && backslashes === true) {\n      base = utils.removeBackslashes(base);\n    }\n  }\n\n  const state = {\n    prefix,\n    input,\n    start,\n    base,\n    glob,\n    isBrace,\n    isBracket,\n    isGlob,\n    isExtglob,\n    isGlobstar,\n    negated,\n    negatedExtglob\n  };\n\n  if (opts.tokens === true) {\n    state.maxDepth = 0;\n    if (!isPathSeparator(code)) {\n      tokens.push(token);\n    }\n    state.tokens = tokens;\n  }\n\n  if (opts.parts === true || opts.tokens === true) {\n    let prevIndex;\n\n    for (let idx = 0; idx < slashes.length; idx++) {\n      const n = prevIndex ? prevIndex + 1 : start;\n      const i = slashes[idx];\n      const value = input.slice(n, i);\n      if (opts.tokens) {\n        if (idx === 0 && start !== 0) {\n          tokens[idx].isPrefix = true;\n          tokens[idx].value = prefix;\n        } else {\n          tokens[idx].value = value;\n        }\n        depth(tokens[idx]);\n        state.maxDepth += tokens[idx].depth;\n      }\n      if (idx !== 0 || value !== '') {\n        parts.push(value);\n      }\n      prevIndex = i;\n    }\n\n    if (prevIndex && prevIndex + 1 < input.length) {\n      const value = input.slice(prevIndex + 1);\n      parts.push(value);\n\n      if (opts.tokens) {\n        tokens[tokens.length - 1].value = value;\n        depth(tokens[tokens.length - 1]);\n        state.maxDepth += tokens[tokens.length - 1].depth;\n      }\n    }\n\n    state.slashes = slashes;\n    state.parts = parts;\n  }\n\n  return state;\n};\n\nmodule.exports = scan;\n","'use strict';\n\nconst path = require('path');\nconst win32 = process.platform === 'win32';\nconst {\n  REGEX_BACKSLASH,\n  REGEX_REMOVE_BACKSLASH,\n  REGEX_SPECIAL_CHARS,\n  REGEX_SPECIAL_CHARS_GLOBAL\n} = require('./constants');\n\nexports.isObject = val => val !== null && typeof val === 'object' && !Array.isArray(val);\nexports.hasRegexChars = str => REGEX_SPECIAL_CHARS.test(str);\nexports.isRegexChar = str => str.length === 1 && exports.hasRegexChars(str);\nexports.escapeRegex = str => str.replace(REGEX_SPECIAL_CHARS_GLOBAL, '\\\\$1');\nexports.toPosixSlashes = str => str.replace(REGEX_BACKSLASH, '/');\n\nexports.removeBackslashes = str => {\n  return str.replace(REGEX_REMOVE_BACKSLASH, match => {\n    return match === '\\\\' ? '' : match;\n  });\n};\n\nexports.supportsLookbehinds = () => {\n  const segs = process.version.slice(1).split('.').map(Number);\n  if (segs.length === 3 && segs[0] >= 9 || (segs[0] === 8 && segs[1] >= 10)) {\n    return true;\n  }\n  return false;\n};\n\nexports.isWindows = options => {\n  if (options && typeof options.windows === 'boolean') {\n    return options.windows;\n  }\n  return win32 === true || path.sep === '\\\\';\n};\n\nexports.escapeLast = (input, char, lastIdx) => {\n  const idx = input.lastIndexOf(char, lastIdx);\n  if (idx === -1) return input;\n  if (input[idx - 1] === '\\\\') return exports.escapeLast(input, char, idx - 1);\n  return `${input.slice(0, idx)}\\\\${input.slice(idx)}`;\n};\n\nexports.removePrefix = (input, state = {}) => {\n  let output = input;\n  if (output.startsWith('./')) {\n    output = output.slice(2);\n    state.prefix = './';\n  }\n  return output;\n};\n\nexports.wrapOutput = (input, state = {}, options = {}) => {\n  const prepend = options.contains ? '' : '^';\n  const append = options.contains ? '' : '$';\n\n  let output = `${prepend}(?:${input})${append}`;\n  if (state.negated === true) {\n    output = `(?:^(?!${output}).*$)`;\n  }\n  return output;\n};\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TraceFormat = exports.TraceValues = exports.Trace = exports.ProgressType = exports.ProgressToken = exports.createMessageConnection = exports.NullLogger = exports.ConnectionOptions = exports.ConnectionStrategy = exports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = exports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = exports.CancellationToken = exports.CancellationTokenSource = exports.Emitter = exports.Event = exports.Disposable = exports.LRUCache = exports.Touch = exports.LinkedMap = exports.ParameterStructures = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.ErrorCodes = exports.ResponseError = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType0 = exports.RequestType = exports.Message = exports.RAL = void 0;\nexports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = void 0;\nconst messages_1 = require(\"./messages\");\nObject.defineProperty(exports, \"Message\", { enumerable: true, get: function () { return messages_1.Message; } });\nObject.defineProperty(exports, \"RequestType\", { enumerable: true, get: function () { return messages_1.RequestType; } });\nObject.defineProperty(exports, \"RequestType0\", { enumerable: true, get: function () { return messages_1.RequestType0; } });\nObject.defineProperty(exports, \"RequestType1\", { enumerable: true, get: function () { return messages_1.RequestType1; } });\nObject.defineProperty(exports, \"RequestType2\", { enumerable: true, get: function () { return messages_1.RequestType2; } });\nObject.defineProperty(exports, \"RequestType3\", { enumerable: true, get: function () { return messages_1.RequestType3; } });\nObject.defineProperty(exports, \"RequestType4\", { enumerable: true, get: function () { return messages_1.RequestType4; } });\nObject.defineProperty(exports, \"RequestType5\", { enumerable: true, get: function () { return messages_1.RequestType5; } });\nObject.defineProperty(exports, \"RequestType6\", { enumerable: true, get: function () { return messages_1.RequestType6; } });\nObject.defineProperty(exports, \"RequestType7\", { enumerable: true, get: function () { return messages_1.RequestType7; } });\nObject.defineProperty(exports, \"RequestType8\", { enumerable: true, get: function () { return messages_1.RequestType8; } });\nObject.defineProperty(exports, \"RequestType9\", { enumerable: true, get: function () { return messages_1.RequestType9; } });\nObject.defineProperty(exports, \"ResponseError\", { enumerable: true, get: function () { return messages_1.ResponseError; } });\nObject.defineProperty(exports, \"ErrorCodes\", { enumerable: true, get: function () { return messages_1.ErrorCodes; } });\nObject.defineProperty(exports, \"NotificationType\", { enumerable: true, get: function () { return messages_1.NotificationType; } });\nObject.defineProperty(exports, \"NotificationType0\", { enumerable: true, get: function () { return messages_1.NotificationType0; } });\nObject.defineProperty(exports, \"NotificationType1\", { enumerable: true, get: function () { return messages_1.NotificationType1; } });\nObject.defineProperty(exports, \"NotificationType2\", { enumerable: true, get: function () { return messages_1.NotificationType2; } });\nObject.defineProperty(exports, \"NotificationType3\", { enumerable: true, get: function () { return messages_1.NotificationType3; } });\nObject.defineProperty(exports, \"NotificationType4\", { enumerable: true, get: function () { return messages_1.NotificationType4; } });\nObject.defineProperty(exports, \"NotificationType5\", { enumerable: true, get: function () { return messages_1.NotificationType5; } });\nObject.defineProperty(exports, \"NotificationType6\", { enumerable: true, get: function () { return messages_1.NotificationType6; } });\nObject.defineProperty(exports, \"NotificationType7\", { enumerable: true, get: function () { return messages_1.NotificationType7; } });\nObject.defineProperty(exports, \"NotificationType8\", { enumerable: true, get: function () { return messages_1.NotificationType8; } });\nObject.defineProperty(exports, \"NotificationType9\", { enumerable: true, get: function () { return messages_1.NotificationType9; } });\nObject.defineProperty(exports, \"ParameterStructures\", { enumerable: true, get: function () { return messages_1.ParameterStructures; } });\nconst linkedMap_1 = require(\"./linkedMap\");\nObject.defineProperty(exports, \"LinkedMap\", { enumerable: true, get: function () { return linkedMap_1.LinkedMap; } });\nObject.defineProperty(exports, \"LRUCache\", { enumerable: true, get: function () { return linkedMap_1.LRUCache; } });\nObject.defineProperty(exports, \"Touch\", { enumerable: true, get: function () { return linkedMap_1.Touch; } });\nconst disposable_1 = require(\"./disposable\");\nObject.defineProperty(exports, \"Disposable\", { enumerable: true, get: function () { return disposable_1.Disposable; } });\nconst events_1 = require(\"./events\");\nObject.defineProperty(exports, \"Event\", { enumerable: true, get: function () { return events_1.Event; } });\nObject.defineProperty(exports, \"Emitter\", { enumerable: true, get: function () { return events_1.Emitter; } });\nconst cancellation_1 = require(\"./cancellation\");\nObject.defineProperty(exports, \"CancellationTokenSource\", { enumerable: true, get: function () { return cancellation_1.CancellationTokenSource; } });\nObject.defineProperty(exports, \"CancellationToken\", { enumerable: true, get: function () { return cancellation_1.CancellationToken; } });\nconst messageReader_1 = require(\"./messageReader\");\nObject.defineProperty(exports, \"MessageReader\", { enumerable: true, get: function () { return messageReader_1.MessageReader; } });\nObject.defineProperty(exports, \"AbstractMessageReader\", { enumerable: true, get: function () { return messageReader_1.AbstractMessageReader; } });\nObject.defineProperty(exports, \"ReadableStreamMessageReader\", { enumerable: true, get: function () { return messageReader_1.ReadableStreamMessageReader; } });\nconst messageWriter_1 = require(\"./messageWriter\");\nObject.defineProperty(exports, \"MessageWriter\", { enumerable: true, get: function () { return messageWriter_1.MessageWriter; } });\nObject.defineProperty(exports, \"AbstractMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.AbstractMessageWriter; } });\nObject.defineProperty(exports, \"WriteableStreamMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.WriteableStreamMessageWriter; } });\nconst connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"ConnectionStrategy\", { enumerable: true, get: function () { return connection_1.ConnectionStrategy; } });\nObject.defineProperty(exports, \"ConnectionOptions\", { enumerable: true, get: function () { return connection_1.ConnectionOptions; } });\nObject.defineProperty(exports, \"NullLogger\", { enumerable: true, get: function () { return connection_1.NullLogger; } });\nObject.defineProperty(exports, \"createMessageConnection\", { enumerable: true, get: function () { return connection_1.createMessageConnection; } });\nObject.defineProperty(exports, \"ProgressToken\", { enumerable: true, get: function () { return connection_1.ProgressToken; } });\nObject.defineProperty(exports, \"ProgressType\", { enumerable: true, get: function () { return connection_1.ProgressType; } });\nObject.defineProperty(exports, \"Trace\", { enumerable: true, get: function () { return connection_1.Trace; } });\nObject.defineProperty(exports, \"TraceValues\", { enumerable: true, get: function () { return connection_1.TraceValues; } });\nObject.defineProperty(exports, \"TraceFormat\", { enumerable: true, get: function () { return connection_1.TraceFormat; } });\nObject.defineProperty(exports, \"SetTraceNotification\", { enumerable: true, get: function () { return connection_1.SetTraceNotification; } });\nObject.defineProperty(exports, \"LogTraceNotification\", { enumerable: true, get: function () { return connection_1.LogTraceNotification; } });\nObject.defineProperty(exports, \"ConnectionErrors\", { enumerable: true, get: function () { return connection_1.ConnectionErrors; } });\nObject.defineProperty(exports, \"ConnectionError\", { enumerable: true, get: function () { return connection_1.ConnectionError; } });\nObject.defineProperty(exports, \"CancellationReceiverStrategy\", { enumerable: true, get: function () { return connection_1.CancellationReceiverStrategy; } });\nObject.defineProperty(exports, \"CancellationSenderStrategy\", { enumerable: true, get: function () { return connection_1.CancellationSenderStrategy; } });\nObject.defineProperty(exports, \"CancellationStrategy\", { enumerable: true, get: function () { return connection_1.CancellationStrategy; } });\nconst ral_1 = require(\"./ral\");\nexports.RAL = ral_1.default;\n//# sourceMappingURL=api.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationTokenSource = exports.CancellationToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar CancellationToken;\n(function (CancellationToken) {\n    CancellationToken.None = Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: events_1.Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n        isCancellationRequested: true,\n        onCancellationRequested: events_1.Event.None\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate === CancellationToken.None\n            || candidate === CancellationToken.Cancelled\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\n    }\n    CancellationToken.is = is;\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\nconst shortcutEvent = Object.freeze(function (callback, context) {\n    const handle = (0, ral_1.default)().timer.setTimeout(callback.bind(context), 0);\n    return { dispose() { handle.dispose(); } };\n});\nclass MutableToken {\n    constructor() {\n        this._isCancelled = false;\n    }\n    cancel() {\n        if (!this._isCancelled) {\n            this._isCancelled = true;\n            if (this._emitter) {\n                this._emitter.fire(undefined);\n                this.dispose();\n            }\n        }\n    }\n    get isCancellationRequested() {\n        return this._isCancelled;\n    }\n    get onCancellationRequested() {\n        if (this._isCancelled) {\n            return shortcutEvent;\n        }\n        if (!this._emitter) {\n            this._emitter = new events_1.Emitter();\n        }\n        return this._emitter.event;\n    }\n    dispose() {\n        if (this._emitter) {\n            this._emitter.dispose();\n            this._emitter = undefined;\n        }\n    }\n}\nclass CancellationTokenSource {\n    get token() {\n        if (!this._token) {\n            // be lazy and create the token only when\n            // actually needed\n            this._token = new MutableToken();\n        }\n        return this._token;\n    }\n    cancel() {\n        if (!this._token) {\n            // save an object by returning the default\n            // cancelled token when cancellation happens\n            // before someone asks for the token\n            this._token = CancellationToken.Cancelled;\n        }\n        else {\n            this._token.cancel();\n        }\n    }\n    dispose() {\n        if (!this._token) {\n            // ensure to initialize with an empty token if we had none\n            this._token = CancellationToken.None;\n        }\n        else if (this._token instanceof MutableToken) {\n            // actually dispose\n            this._token.dispose();\n        }\n    }\n}\nexports.CancellationTokenSource = CancellationTokenSource;\n//# sourceMappingURL=cancellation.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.ConnectionOptions = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.TraceValues = exports.Trace = exports.NullLogger = exports.ProgressType = exports.ProgressToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst messages_1 = require(\"./messages\");\nconst linkedMap_1 = require(\"./linkedMap\");\nconst events_1 = require(\"./events\");\nconst cancellation_1 = require(\"./cancellation\");\nvar CancelNotification;\n(function (CancelNotification) {\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\n})(CancelNotification || (CancelNotification = {}));\nvar ProgressToken;\n(function (ProgressToken) {\n    function is(value) {\n        return typeof value === 'string' || typeof value === 'number';\n    }\n    ProgressToken.is = is;\n})(ProgressToken = exports.ProgressToken || (exports.ProgressToken = {}));\nvar ProgressNotification;\n(function (ProgressNotification) {\n    ProgressNotification.type = new messages_1.NotificationType('$/progress');\n})(ProgressNotification || (ProgressNotification = {}));\nclass ProgressType {\n    constructor() {\n    }\n}\nexports.ProgressType = ProgressType;\nvar StarRequestHandler;\n(function (StarRequestHandler) {\n    function is(value) {\n        return Is.func(value);\n    }\n    StarRequestHandler.is = is;\n})(StarRequestHandler || (StarRequestHandler = {}));\nexports.NullLogger = Object.freeze({\n    error: () => { },\n    warn: () => { },\n    info: () => { },\n    log: () => { }\n});\nvar Trace;\n(function (Trace) {\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\n    Trace[Trace[\"Compact\"] = 2] = \"Compact\";\n    Trace[Trace[\"Verbose\"] = 3] = \"Verbose\";\n})(Trace = exports.Trace || (exports.Trace = {}));\nvar TraceValues;\n(function (TraceValues) {\n    /**\n     * Turn tracing off.\n     */\n    TraceValues.Off = 'off';\n    /**\n     * Trace messages only.\n     */\n    TraceValues.Messages = 'messages';\n    /**\n     * Compact message tracing.\n     */\n    TraceValues.Compact = 'compact';\n    /**\n     * Verbose message tracing.\n     */\n    TraceValues.Verbose = 'verbose';\n})(TraceValues = exports.TraceValues || (exports.TraceValues = {}));\n(function (Trace) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return Trace.Off;\n        }\n        value = value.toLowerCase();\n        switch (value) {\n            case 'off':\n                return Trace.Off;\n            case 'messages':\n                return Trace.Messages;\n            case 'compact':\n                return Trace.Compact;\n            case 'verbose':\n                return Trace.Verbose;\n            default:\n                return Trace.Off;\n        }\n    }\n    Trace.fromString = fromString;\n    function toString(value) {\n        switch (value) {\n            case Trace.Off:\n                return 'off';\n            case Trace.Messages:\n                return 'messages';\n            case Trace.Compact:\n                return 'compact';\n            case Trace.Verbose:\n                return 'verbose';\n            default:\n                return 'off';\n        }\n    }\n    Trace.toString = toString;\n})(Trace = exports.Trace || (exports.Trace = {}));\nvar TraceFormat;\n(function (TraceFormat) {\n    TraceFormat[\"Text\"] = \"text\";\n    TraceFormat[\"JSON\"] = \"json\";\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\n(function (TraceFormat) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return TraceFormat.Text;\n        }\n        value = value.toLowerCase();\n        if (value === 'json') {\n            return TraceFormat.JSON;\n        }\n        else {\n            return TraceFormat.Text;\n        }\n    }\n    TraceFormat.fromString = fromString;\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\nvar SetTraceNotification;\n(function (SetTraceNotification) {\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTrace');\n})(SetTraceNotification = exports.SetTraceNotification || (exports.SetTraceNotification = {}));\nvar LogTraceNotification;\n(function (LogTraceNotification) {\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTrace');\n})(LogTraceNotification = exports.LogTraceNotification || (exports.LogTraceNotification = {}));\nvar ConnectionErrors;\n(function (ConnectionErrors) {\n    /**\n     * The connection is closed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\n    /**\n     * The connection got disposed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\n    /**\n     * The connection is already in listening mode.\n     */\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\n})(ConnectionErrors = exports.ConnectionErrors || (exports.ConnectionErrors = {}));\nclass ConnectionError extends Error {\n    constructor(code, message) {\n        super(message);\n        this.code = code;\n        Object.setPrototypeOf(this, ConnectionError.prototype);\n    }\n}\nexports.ConnectionError = ConnectionError;\nvar ConnectionStrategy;\n(function (ConnectionStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.cancelUndispatched);\n    }\n    ConnectionStrategy.is = is;\n})(ConnectionStrategy = exports.ConnectionStrategy || (exports.ConnectionStrategy = {}));\nvar CancellationReceiverStrategy;\n(function (CancellationReceiverStrategy) {\n    CancellationReceiverStrategy.Message = Object.freeze({\n        createCancellationTokenSource(_) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.createCancellationTokenSource);\n    }\n    CancellationReceiverStrategy.is = is;\n})(CancellationReceiverStrategy = exports.CancellationReceiverStrategy || (exports.CancellationReceiverStrategy = {}));\nvar CancellationSenderStrategy;\n(function (CancellationSenderStrategy) {\n    CancellationSenderStrategy.Message = Object.freeze({\n        sendCancellation(conn, id) {\n            return conn.sendNotification(CancelNotification.type, { id });\n        },\n        cleanup(_) { }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.sendCancellation) && Is.func(candidate.cleanup);\n    }\n    CancellationSenderStrategy.is = is;\n})(CancellationSenderStrategy = exports.CancellationSenderStrategy || (exports.CancellationSenderStrategy = {}));\nvar CancellationStrategy;\n(function (CancellationStrategy) {\n    CancellationStrategy.Message = Object.freeze({\n        receiver: CancellationReceiverStrategy.Message,\n        sender: CancellationSenderStrategy.Message\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && CancellationReceiverStrategy.is(candidate.receiver) && CancellationSenderStrategy.is(candidate.sender);\n    }\n    CancellationStrategy.is = is;\n})(CancellationStrategy = exports.CancellationStrategy || (exports.CancellationStrategy = {}));\nvar ConnectionOptions;\n(function (ConnectionOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (CancellationStrategy.is(candidate.cancellationStrategy) || ConnectionStrategy.is(candidate.connectionStrategy));\n    }\n    ConnectionOptions.is = is;\n})(ConnectionOptions = exports.ConnectionOptions || (exports.ConnectionOptions = {}));\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\n})(ConnectionState || (ConnectionState = {}));\nfunction createMessageConnection(messageReader, messageWriter, _logger, options) {\n    const logger = _logger !== undefined ? _logger : exports.NullLogger;\n    let sequenceNumber = 0;\n    let notificationSequenceNumber = 0;\n    let unknownResponseSequenceNumber = 0;\n    const version = '2.0';\n    let starRequestHandler = undefined;\n    const requestHandlers = new Map();\n    let starNotificationHandler = undefined;\n    const notificationHandlers = new Map();\n    const progressHandlers = new Map();\n    let timer;\n    let messageQueue = new linkedMap_1.LinkedMap();\n    let responsePromises = new Map();\n    let knownCanceledRequests = new Set();\n    let requestTokens = new Map();\n    let trace = Trace.Off;\n    let traceFormat = TraceFormat.Text;\n    let tracer;\n    let state = ConnectionState.New;\n    const errorEmitter = new events_1.Emitter();\n    const closeEmitter = new events_1.Emitter();\n    const unhandledNotificationEmitter = new events_1.Emitter();\n    const unhandledProgressEmitter = new events_1.Emitter();\n    const disposeEmitter = new events_1.Emitter();\n    const cancellationStrategy = (options && options.cancellationStrategy) ? options.cancellationStrategy : CancellationStrategy.Message;\n    function createRequestQueueKey(id) {\n        if (id === null) {\n            throw new Error(`Can't send requests with id null since the response can't be correlated.`);\n        }\n        return 'req-' + id.toString();\n    }\n    function createResponseQueueKey(id) {\n        if (id === null) {\n            return 'res-unknown-' + (++unknownResponseSequenceNumber).toString();\n        }\n        else {\n            return 'res-' + id.toString();\n        }\n    }\n    function createNotificationQueueKey() {\n        return 'not-' + (++notificationSequenceNumber).toString();\n    }\n    function addMessageToQueue(queue, message) {\n        if (messages_1.Message.isRequest(message)) {\n            queue.set(createRequestQueueKey(message.id), message);\n        }\n        else if (messages_1.Message.isResponse(message)) {\n            queue.set(createResponseQueueKey(message.id), message);\n        }\n        else {\n            queue.set(createNotificationQueueKey(), message);\n        }\n    }\n    function cancelUndispatched(_message) {\n        return undefined;\n    }\n    function isListening() {\n        return state === ConnectionState.Listening;\n    }\n    function isClosed() {\n        return state === ConnectionState.Closed;\n    }\n    function isDisposed() {\n        return state === ConnectionState.Disposed;\n    }\n    function closeHandler() {\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\n            state = ConnectionState.Closed;\n            closeEmitter.fire(undefined);\n        }\n        // If the connection is disposed don't sent close events.\n    }\n    function readErrorHandler(error) {\n        errorEmitter.fire([error, undefined, undefined]);\n    }\n    function writeErrorHandler(data) {\n        errorEmitter.fire(data);\n    }\n    messageReader.onClose(closeHandler);\n    messageReader.onError(readErrorHandler);\n    messageWriter.onClose(closeHandler);\n    messageWriter.onError(writeErrorHandler);\n    function triggerMessageQueue() {\n        if (timer || messageQueue.size === 0) {\n            return;\n        }\n        timer = (0, ral_1.default)().timer.setImmediate(() => {\n            timer = undefined;\n            processMessageQueue();\n        });\n    }\n    function processMessageQueue() {\n        if (messageQueue.size === 0) {\n            return;\n        }\n        const message = messageQueue.shift();\n        try {\n            if (messages_1.Message.isRequest(message)) {\n                handleRequest(message);\n            }\n            else if (messages_1.Message.isNotification(message)) {\n                handleNotification(message);\n            }\n            else if (messages_1.Message.isResponse(message)) {\n                handleResponse(message);\n            }\n            else {\n                handleInvalidMessage(message);\n            }\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    }\n    const callback = (message) => {\n        try {\n            // We have received a cancellation message. Check if the message is still in the queue\n            // and cancel it if allowed to do so.\n            if (messages_1.Message.isNotification(message) && message.method === CancelNotification.type.method) {\n                const cancelId = message.params.id;\n                const key = createRequestQueueKey(cancelId);\n                const toCancel = messageQueue.get(key);\n                if (messages_1.Message.isRequest(toCancel)) {\n                    const strategy = options?.connectionStrategy;\n                    const response = (strategy && strategy.cancelUndispatched) ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\n                    if (response && (response.error !== undefined || response.result !== undefined)) {\n                        messageQueue.delete(key);\n                        requestTokens.delete(cancelId);\n                        response.id = toCancel.id;\n                        traceSendingResponse(response, message.method, Date.now());\n                        messageWriter.write(response).catch(() => logger.error(`Sending response for canceled message failed.`));\n                        return;\n                    }\n                }\n                const cancellationToken = requestTokens.get(cancelId);\n                // The request is already running. Cancel the token\n                if (cancellationToken !== undefined) {\n                    cancellationToken.cancel();\n                    traceReceivedNotification(message);\n                    return;\n                }\n                else {\n                    // Remember the cancel but still queue the message to\n                    // clean up state in process message.\n                    knownCanceledRequests.add(cancelId);\n                }\n            }\n            addMessageToQueue(messageQueue, message);\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    };\n    function handleRequest(requestMessage) {\n        if (isDisposed()) {\n            // we return here silently since we fired an event when the\n            // connection got disposed.\n            return;\n        }\n        function reply(resultOrError, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id\n            };\n            if (resultOrError instanceof messages_1.ResponseError) {\n                message.error = resultOrError.toJson();\n            }\n            else {\n                message.result = resultOrError === undefined ? null : resultOrError;\n            }\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        function replyError(error, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                error: error.toJson()\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        function replySuccess(result, method, startTime) {\n            // The JSON RPC defines that a response must either have a result or an error\n            // So we can't treat undefined as a valid response result.\n            if (result === undefined) {\n                result = null;\n            }\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                result: result\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        traceReceivedRequest(requestMessage);\n        const element = requestHandlers.get(requestMessage.method);\n        let type;\n        let requestHandler;\n        if (element) {\n            type = element.type;\n            requestHandler = element.handler;\n        }\n        const startTime = Date.now();\n        if (requestHandler || starRequestHandler) {\n            const tokenKey = requestMessage.id ?? String(Date.now()); //\n            const cancellationSource = cancellationStrategy.receiver.createCancellationTokenSource(tokenKey);\n            if (requestMessage.id !== null && knownCanceledRequests.has(requestMessage.id)) {\n                cancellationSource.cancel();\n            }\n            if (requestMessage.id !== null) {\n                requestTokens.set(tokenKey, cancellationSource);\n            }\n            try {\n                let handlerResult;\n                if (requestHandler) {\n                    if (requestMessage.params === undefined) {\n                        if (type !== undefined && type.numberOfParams !== 0) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines ${type.numberOfParams} params but received none.`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(cancellationSource.token);\n                    }\n                    else if (Array.isArray(requestMessage.params)) {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byName) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by name but received parameters by position`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(...requestMessage.params, cancellationSource.token);\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by position but received parameters by name`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(requestMessage.params, cancellationSource.token);\n                    }\n                }\n                else if (starRequestHandler) {\n                    handlerResult = starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\n                }\n                const promise = handlerResult;\n                if (!handlerResult) {\n                    requestTokens.delete(tokenKey);\n                    replySuccess(handlerResult, requestMessage.method, startTime);\n                }\n                else if (promise.then) {\n                    promise.then((resultOrError) => {\n                        requestTokens.delete(tokenKey);\n                        reply(resultOrError, requestMessage.method, startTime);\n                    }, error => {\n                        requestTokens.delete(tokenKey);\n                        if (error instanceof messages_1.ResponseError) {\n                            replyError(error, requestMessage.method, startTime);\n                        }\n                        else if (error && Is.string(error.message)) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                        }\n                        else {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                        }\n                    });\n                }\n                else {\n                    requestTokens.delete(tokenKey);\n                    reply(handlerResult, requestMessage.method, startTime);\n                }\n            }\n            catch (error) {\n                requestTokens.delete(tokenKey);\n                if (error instanceof messages_1.ResponseError) {\n                    reply(error, requestMessage.method, startTime);\n                }\n                else if (error && Is.string(error.message)) {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                }\n                else {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                }\n            }\n        }\n        else {\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\n        }\n    }\n    function handleResponse(responseMessage) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        if (responseMessage.id === null) {\n            if (responseMessage.error) {\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\n            }\n            else {\n                logger.error(`Received response message without id. No further error information provided.`);\n            }\n        }\n        else {\n            const key = responseMessage.id;\n            const responsePromise = responsePromises.get(key);\n            traceReceivedResponse(responseMessage, responsePromise);\n            if (responsePromise !== undefined) {\n                responsePromises.delete(key);\n                try {\n                    if (responseMessage.error) {\n                        const error = responseMessage.error;\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\n                    }\n                    else if (responseMessage.result !== undefined) {\n                        responsePromise.resolve(responseMessage.result);\n                    }\n                    else {\n                        throw new Error('Should never happen.');\n                    }\n                }\n                catch (error) {\n                    if (error.message) {\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\n                    }\n                    else {\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\n                    }\n                }\n            }\n        }\n    }\n    function handleNotification(message) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        let type = undefined;\n        let notificationHandler;\n        if (message.method === CancelNotification.type.method) {\n            const cancelId = message.params.id;\n            knownCanceledRequests.delete(cancelId);\n            traceReceivedNotification(message);\n            return;\n        }\n        else {\n            const element = notificationHandlers.get(message.method);\n            if (element) {\n                notificationHandler = element.handler;\n                type = element.type;\n            }\n        }\n        if (notificationHandler || starNotificationHandler) {\n            try {\n                traceReceivedNotification(message);\n                if (notificationHandler) {\n                    if (message.params === undefined) {\n                        if (type !== undefined) {\n                            if (type.numberOfParams !== 0 && type.parameterStructures !== messages_1.ParameterStructures.byName) {\n                                logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received none.`);\n                            }\n                        }\n                        notificationHandler();\n                    }\n                    else if (Array.isArray(message.params)) {\n                        // There are JSON-RPC libraries that send progress message as positional params although\n                        // specified as named. So convert them if this is the case.\n                        const params = message.params;\n                        if (message.method === ProgressNotification.type.method && params.length === 2 && ProgressToken.is(params[0])) {\n                            notificationHandler({ token: params[0], value: params[1] });\n                        }\n                        else {\n                            if (type !== undefined) {\n                                if (type.parameterStructures === messages_1.ParameterStructures.byName) {\n                                    logger.error(`Notification ${message.method} defines parameters by name but received parameters by position`);\n                                }\n                                if (type.numberOfParams !== message.params.length) {\n                                    logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received ${params.length} arguments`);\n                                }\n                            }\n                            notificationHandler(...params);\n                        }\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            logger.error(`Notification ${message.method} defines parameters by position but received parameters by name`);\n                        }\n                        notificationHandler(message.params);\n                    }\n                }\n                else if (starNotificationHandler) {\n                    starNotificationHandler(message.method, message.params);\n                }\n            }\n            catch (error) {\n                if (error.message) {\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\n                }\n                else {\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\n                }\n            }\n        }\n        else {\n            unhandledNotificationEmitter.fire(message);\n        }\n    }\n    function handleInvalidMessage(message) {\n        if (!message) {\n            logger.error('Received empty message.');\n            return;\n        }\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\n        // Test whether we find an id to reject the promise\n        const responseMessage = message;\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\n            const key = responseMessage.id;\n            const responseHandler = responsePromises.get(key);\n            if (responseHandler) {\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\n            }\n        }\n    }\n    function stringifyTrace(params) {\n        if (params === undefined || params === null) {\n            return undefined;\n        }\n        switch (trace) {\n            case Trace.Verbose:\n                return JSON.stringify(params, null, 4);\n            case Trace.Compact:\n                return JSON.stringify(params);\n            default:\n                return undefined;\n        }\n    }\n    function traceSendingRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('send-request', message);\n        }\n    }\n    function traceSendingNotification(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Sending notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('send-notification', message);\n        }\n    }\n    function traceSendingResponse(message, method, startTime) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\n        }\n        else {\n            logLSPMessage('send-response', message);\n        }\n    }\n    function traceReceivedRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('receive-request', message);\n        }\n    }\n    function traceReceivedNotification(message) {\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Received notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('receive-notification', message);\n        }\n    }\n    function traceReceivedResponse(message, responsePromise) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            if (responsePromise) {\n                const error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\n            }\n            else {\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\n            }\n        }\n        else {\n            logLSPMessage('receive-response', message);\n        }\n    }\n    function logLSPMessage(type, message) {\n        if (!tracer || trace === Trace.Off) {\n            return;\n        }\n        const lspMessage = {\n            isLSPMessage: true,\n            type,\n            message,\n            timestamp: Date.now()\n        };\n        tracer.log(lspMessage);\n    }\n    function throwIfClosedOrDisposed() {\n        if (isClosed()) {\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\n        }\n        if (isDisposed()) {\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\n        }\n    }\n    function throwIfListening() {\n        if (isListening()) {\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\n        }\n    }\n    function throwIfNotListening() {\n        if (!isListening()) {\n            throw new Error('Call listen() first.');\n        }\n    }\n    function undefinedToNull(param) {\n        if (param === undefined) {\n            return null;\n        }\n        else {\n            return param;\n        }\n    }\n    function nullToUndefined(param) {\n        if (param === null) {\n            return undefined;\n        }\n        else {\n            return param;\n        }\n    }\n    function isNamedParam(param) {\n        return param !== undefined && param !== null && !Array.isArray(param) && typeof param === 'object';\n    }\n    function computeSingleParam(parameterStructures, param) {\n        switch (parameterStructures) {\n            case messages_1.ParameterStructures.auto:\n                if (isNamedParam(param)) {\n                    return nullToUndefined(param);\n                }\n                else {\n                    return [undefinedToNull(param)];\n                }\n            case messages_1.ParameterStructures.byName:\n                if (!isNamedParam(param)) {\n                    throw new Error(`Received parameters by name but param is not an object literal.`);\n                }\n                return nullToUndefined(param);\n            case messages_1.ParameterStructures.byPosition:\n                return [undefinedToNull(param)];\n            default:\n                throw new Error(`Unknown parameter structure ${parameterStructures.toString()}`);\n        }\n    }\n    function computeMessageParams(type, params) {\n        let result;\n        const numberOfParams = type.numberOfParams;\n        switch (numberOfParams) {\n            case 0:\n                result = undefined;\n                break;\n            case 1:\n                result = computeSingleParam(type.parameterStructures, params[0]);\n                break;\n            default:\n                result = [];\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\n                    result.push(undefinedToNull(params[i]));\n                }\n                if (params.length < numberOfParams) {\n                    for (let i = params.length; i < numberOfParams; i++) {\n                        result.push(null);\n                    }\n                }\n                break;\n        }\n        return result;\n    }\n    const connection = {\n        sendNotification: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            let method;\n            let messageParams;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' notification parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n            }\n            const notificationMessage = {\n                jsonrpc: version,\n                method: method,\n                params: messageParams\n            };\n            traceSendingNotification(notificationMessage);\n            return messageWriter.write(notificationMessage).catch(() => logger.error(`Sending notification failed.`));\n        },\n        onNotification: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method;\n            if (Is.func(type)) {\n                starNotificationHandler = type;\n            }\n            else if (handler) {\n                if (Is.string(type)) {\n                    method = type;\n                    notificationHandlers.set(type, { type: undefined, handler });\n                }\n                else {\n                    method = type.method;\n                    notificationHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method !== undefined) {\n                        notificationHandlers.delete(method);\n                    }\n                    else {\n                        starNotificationHandler = undefined;\n                    }\n                }\n            };\n        },\n        onProgress: (_type, token, handler) => {\n            if (progressHandlers.has(token)) {\n                throw new Error(`Progress handler for token ${token} already registered`);\n            }\n            progressHandlers.set(token, handler);\n            return {\n                dispose: () => {\n                    progressHandlers.delete(token);\n                }\n            };\n        },\n        sendProgress: (_type, token, value) => {\n            return connection.sendNotification(ProgressNotification.type, { token, value });\n        },\n        onUnhandledProgress: unhandledProgressEmitter.event,\n        sendRequest: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            throwIfNotListening();\n            let method;\n            let messageParams;\n            let token = undefined;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                const last = args[args.length - 1];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                if (cancellation_1.CancellationToken.is(last)) {\n                    paramEnd = paramEnd - 1;\n                    token = last;\n                }\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' request parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n                const numberOfParams = type.numberOfParams;\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\n            }\n            const id = sequenceNumber++;\n            let disposable;\n            if (token) {\n                disposable = token.onCancellationRequested(() => {\n                    const p = cancellationStrategy.sender.sendCancellation(connection, id);\n                    if (p === undefined) {\n                        logger.log(`Received no promise from cancellation strategy when cancelling id ${id}`);\n                        return Promise.resolve();\n                    }\n                    else {\n                        return p.catch(() => {\n                            logger.log(`Sending cancellation messages for id ${id} failed`);\n                        });\n                    }\n                });\n            }\n            const result = new Promise((resolve, reject) => {\n                const requestMessage = {\n                    jsonrpc: version,\n                    id: id,\n                    method: method,\n                    params: messageParams\n                };\n                const resolveWithCleanup = (r) => {\n                    resolve(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                const rejectWithCleanup = (r) => {\n                    reject(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                let responsePromise = { method: method, timerStart: Date.now(), resolve: resolveWithCleanup, reject: rejectWithCleanup };\n                traceSendingRequest(requestMessage);\n                try {\n                    messageWriter.write(requestMessage).catch(() => logger.error(`Sending request failed.`));\n                }\n                catch (e) {\n                    // Writing the message failed. So we need to reject the promise.\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, e.message ? e.message : 'Unknown reason'));\n                    responsePromise = null;\n                }\n                if (responsePromise) {\n                    responsePromises.set(id, responsePromise);\n                }\n            });\n            return result;\n        },\n        onRequest: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method = null;\n            if (StarRequestHandler.is(type)) {\n                method = undefined;\n                starRequestHandler = type;\n            }\n            else if (Is.string(type)) {\n                method = null;\n                if (handler !== undefined) {\n                    method = type;\n                    requestHandlers.set(type, { handler: handler, type: undefined });\n                }\n            }\n            else {\n                if (handler !== undefined) {\n                    method = type.method;\n                    requestHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method === null) {\n                        return;\n                    }\n                    if (method !== undefined) {\n                        requestHandlers.delete(method);\n                    }\n                    else {\n                        starRequestHandler = undefined;\n                    }\n                }\n            };\n        },\n        hasPendingResponse: () => {\n            return responsePromises.size > 0;\n        },\n        trace: async (_value, _tracer, sendNotificationOrTraceOptions) => {\n            let _sendNotification = false;\n            let _traceFormat = TraceFormat.Text;\n            if (sendNotificationOrTraceOptions !== undefined) {\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\n                    _sendNotification = sendNotificationOrTraceOptions;\n                }\n                else {\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\n                }\n            }\n            trace = _value;\n            traceFormat = _traceFormat;\n            if (trace === Trace.Off) {\n                tracer = undefined;\n            }\n            else {\n                tracer = _tracer;\n            }\n            if (_sendNotification && !isClosed() && !isDisposed()) {\n                await connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\n            }\n        },\n        onError: errorEmitter.event,\n        onClose: closeEmitter.event,\n        onUnhandledNotification: unhandledNotificationEmitter.event,\n        onDispose: disposeEmitter.event,\n        end: () => {\n            messageWriter.end();\n        },\n        dispose: () => {\n            if (isDisposed()) {\n                return;\n            }\n            state = ConnectionState.Disposed;\n            disposeEmitter.fire(undefined);\n            const error = new messages_1.ResponseError(messages_1.ErrorCodes.PendingResponseRejected, 'Pending response rejected since connection got disposed');\n            for (const promise of responsePromises.values()) {\n                promise.reject(error);\n            }\n            responsePromises = new Map();\n            requestTokens = new Map();\n            knownCanceledRequests = new Set();\n            messageQueue = new linkedMap_1.LinkedMap();\n            // Test for backwards compatibility\n            if (Is.func(messageWriter.dispose)) {\n                messageWriter.dispose();\n            }\n            if (Is.func(messageReader.dispose)) {\n                messageReader.dispose();\n            }\n        },\n        listen: () => {\n            throwIfClosedOrDisposed();\n            throwIfListening();\n            state = ConnectionState.Listening;\n            messageReader.listen(callback);\n        },\n        inspect: () => {\n            // eslint-disable-next-line no-console\n            (0, ral_1.default)().console.log('inspect');\n        }\n    };\n    connection.onNotification(LogTraceNotification.type, (params) => {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        const verbose = trace === Trace.Verbose || trace === Trace.Compact;\n        tracer.log(params.message, verbose ? params.verbose : undefined);\n    });\n    connection.onNotification(ProgressNotification.type, (params) => {\n        const handler = progressHandlers.get(params.token);\n        if (handler) {\n            handler(params.value);\n        }\n        else {\n            unhandledProgressEmitter.fire(params);\n        }\n    });\n    return connection;\n}\nexports.createMessageConnection = createMessageConnection;\n//# sourceMappingURL=connection.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Disposable = void 0;\nvar Disposable;\n(function (Disposable) {\n    function create(func) {\n        return {\n            dispose: func\n        };\n    }\n    Disposable.create = create;\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\n//# sourceMappingURL=disposable.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Emitter = exports.Event = void 0;\nconst ral_1 = require(\"./ral\");\nvar Event;\n(function (Event) {\n    const _disposable = { dispose() { } };\n    Event.None = function () { return _disposable; };\n})(Event = exports.Event || (exports.Event = {}));\nclass CallbackList {\n    add(callback, context = null, bucket) {\n        if (!this._callbacks) {\n            this._callbacks = [];\n            this._contexts = [];\n        }\n        this._callbacks.push(callback);\n        this._contexts.push(context);\n        if (Array.isArray(bucket)) {\n            bucket.push({ dispose: () => this.remove(callback, context) });\n        }\n    }\n    remove(callback, context = null) {\n        if (!this._callbacks) {\n            return;\n        }\n        let foundCallbackWithDifferentContext = false;\n        for (let i = 0, len = this._callbacks.length; i < len; i++) {\n            if (this._callbacks[i] === callback) {\n                if (this._contexts[i] === context) {\n                    // callback & context match => remove it\n                    this._callbacks.splice(i, 1);\n                    this._contexts.splice(i, 1);\n                    return;\n                }\n                else {\n                    foundCallbackWithDifferentContext = true;\n                }\n            }\n        }\n        if (foundCallbackWithDifferentContext) {\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\n        }\n    }\n    invoke(...args) {\n        if (!this._callbacks) {\n            return [];\n        }\n        const ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\n        for (let i = 0, len = callbacks.length; i < len; i++) {\n            try {\n                ret.push(callbacks[i].apply(contexts[i], args));\n            }\n            catch (e) {\n                // eslint-disable-next-line no-console\n                (0, ral_1.default)().console.error(e);\n            }\n        }\n        return ret;\n    }\n    isEmpty() {\n        return !this._callbacks || this._callbacks.length === 0;\n    }\n    dispose() {\n        this._callbacks = undefined;\n        this._contexts = undefined;\n    }\n}\nclass Emitter {\n    constructor(_options) {\n        this._options = _options;\n    }\n    /**\n     * For the public to allow to subscribe\n     * to events from this Emitter\n     */\n    get event() {\n        if (!this._event) {\n            this._event = (listener, thisArgs, disposables) => {\n                if (!this._callbacks) {\n                    this._callbacks = new CallbackList();\n                }\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\n                    this._options.onFirstListenerAdd(this);\n                }\n                this._callbacks.add(listener, thisArgs);\n                const result = {\n                    dispose: () => {\n                        if (!this._callbacks) {\n                            // disposable is disposed after emitter is disposed.\n                            return;\n                        }\n                        this._callbacks.remove(listener, thisArgs);\n                        result.dispose = Emitter._noop;\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\n                            this._options.onLastListenerRemove(this);\n                        }\n                    }\n                };\n                if (Array.isArray(disposables)) {\n                    disposables.push(result);\n                }\n                return result;\n            };\n        }\n        return this._event;\n    }\n    /**\n     * To be kept private to fire an event to\n     * subscribers\n     */\n    fire(event) {\n        if (this._callbacks) {\n            this._callbacks.invoke.call(this._callbacks, event);\n        }\n    }\n    dispose() {\n        if (this._callbacks) {\n            this._callbacks.dispose();\n            this._callbacks = undefined;\n        }\n    }\n}\nexports.Emitter = Emitter;\nEmitter._noop = function () { };\n//# sourceMappingURL=events.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LRUCache = exports.LinkedMap = exports.Touch = void 0;\nvar Touch;\n(function (Touch) {\n    Touch.None = 0;\n    Touch.First = 1;\n    Touch.AsOld = Touch.First;\n    Touch.Last = 2;\n    Touch.AsNew = Touch.Last;\n})(Touch = exports.Touch || (exports.Touch = {}));\nclass LinkedMap {\n    constructor() {\n        this[_a] = 'LinkedMap';\n        this._map = new Map();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state = 0;\n    }\n    clear() {\n        this._map.clear();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state++;\n    }\n    isEmpty() {\n        return !this._head && !this._tail;\n    }\n    get size() {\n        return this._size;\n    }\n    get first() {\n        return this._head?.value;\n    }\n    get last() {\n        return this._tail?.value;\n    }\n    has(key) {\n        return this._map.has(key);\n    }\n    get(key, touch = Touch.None) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        if (touch !== Touch.None) {\n            this.touch(item, touch);\n        }\n        return item.value;\n    }\n    set(key, value, touch = Touch.None) {\n        let item = this._map.get(key);\n        if (item) {\n            item.value = value;\n            if (touch !== Touch.None) {\n                this.touch(item, touch);\n            }\n        }\n        else {\n            item = { key, value, next: undefined, previous: undefined };\n            switch (touch) {\n                case Touch.None:\n                    this.addItemLast(item);\n                    break;\n                case Touch.First:\n                    this.addItemFirst(item);\n                    break;\n                case Touch.Last:\n                    this.addItemLast(item);\n                    break;\n                default:\n                    this.addItemLast(item);\n                    break;\n            }\n            this._map.set(key, item);\n            this._size++;\n        }\n        return this;\n    }\n    delete(key) {\n        return !!this.remove(key);\n    }\n    remove(key) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        this._map.delete(key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    shift() {\n        if (!this._head && !this._tail) {\n            return undefined;\n        }\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        const item = this._head;\n        this._map.delete(item.key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    forEach(callbackfn, thisArg) {\n        const state = this._state;\n        let current = this._head;\n        while (current) {\n            if (thisArg) {\n                callbackfn.bind(thisArg)(current.value, current.key, this);\n            }\n            else {\n                callbackfn(current.value, current.key, this);\n            }\n            if (this._state !== state) {\n                throw new Error(`LinkedMap got modified during iteration.`);\n            }\n            current = current.next;\n        }\n    }\n    keys() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.key, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    values() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.value, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    entries() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: [current.key, current.value], done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    [(_a = Symbol.toStringTag, Symbol.iterator)]() {\n        return this.entries();\n    }\n    trimOld(newSize) {\n        if (newSize >= this.size) {\n            return;\n        }\n        if (newSize === 0) {\n            this.clear();\n            return;\n        }\n        let current = this._head;\n        let currentSize = this.size;\n        while (current && currentSize > newSize) {\n            this._map.delete(current.key);\n            current = current.next;\n            currentSize--;\n        }\n        this._head = current;\n        this._size = currentSize;\n        if (current) {\n            current.previous = undefined;\n        }\n        this._state++;\n    }\n    addItemFirst(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._tail = item;\n        }\n        else if (!this._head) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.next = this._head;\n            this._head.previous = item;\n        }\n        this._head = item;\n        this._state++;\n    }\n    addItemLast(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._head = item;\n        }\n        else if (!this._tail) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.previous = this._tail;\n            this._tail.next = item;\n        }\n        this._tail = item;\n        this._state++;\n    }\n    removeItem(item) {\n        if (item === this._head && item === this._tail) {\n            this._head = undefined;\n            this._tail = undefined;\n        }\n        else if (item === this._head) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.next) {\n                throw new Error('Invalid list');\n            }\n            item.next.previous = undefined;\n            this._head = item.next;\n        }\n        else if (item === this._tail) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.previous) {\n                throw new Error('Invalid list');\n            }\n            item.previous.next = undefined;\n            this._tail = item.previous;\n        }\n        else {\n            const next = item.next;\n            const previous = item.previous;\n            if (!next || !previous) {\n                throw new Error('Invalid list');\n            }\n            next.previous = previous;\n            previous.next = next;\n        }\n        item.next = undefined;\n        item.previous = undefined;\n        this._state++;\n    }\n    touch(item, touch) {\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\n            return;\n        }\n        if (touch === Touch.First) {\n            if (item === this._head) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item\n            if (item === this._tail) {\n                // previous must be defined since item was not head but is tail\n                // So there are more than on item in the map\n                previous.next = undefined;\n                this._tail = previous;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            // Insert the node at head\n            item.previous = undefined;\n            item.next = this._head;\n            this._head.previous = item;\n            this._head = item;\n            this._state++;\n        }\n        else if (touch === Touch.Last) {\n            if (item === this._tail) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item.\n            if (item === this._head) {\n                // next must be defined since item was not tail but is head\n                // So there are more than on item in the map\n                next.previous = undefined;\n                this._head = next;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            item.next = undefined;\n            item.previous = this._tail;\n            this._tail.next = item;\n            this._tail = item;\n            this._state++;\n        }\n    }\n    toJSON() {\n        const data = [];\n        this.forEach((value, key) => {\n            data.push([key, value]);\n        });\n        return data;\n    }\n    fromJSON(data) {\n        this.clear();\n        for (const [key, value] of data) {\n            this.set(key, value);\n        }\n    }\n}\nexports.LinkedMap = LinkedMap;\nclass LRUCache extends LinkedMap {\n    constructor(limit, ratio = 1) {\n        super();\n        this._limit = limit;\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n    }\n    get limit() {\n        return this._limit;\n    }\n    set limit(limit) {\n        this._limit = limit;\n        this.checkTrim();\n    }\n    get ratio() {\n        return this._ratio;\n    }\n    set ratio(ratio) {\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n        this.checkTrim();\n    }\n    get(key, touch = Touch.AsNew) {\n        return super.get(key, touch);\n    }\n    peek(key) {\n        return super.get(key, Touch.None);\n    }\n    set(key, value) {\n        super.set(key, value, Touch.Last);\n        this.checkTrim();\n        return this;\n    }\n    checkTrim() {\n        if (this.size > this._limit) {\n            this.trimOld(Math.round(this._limit * this._ratio));\n        }\n    }\n}\nexports.LRUCache = LRUCache;\n//# sourceMappingURL=linkedMap.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractMessageBuffer = void 0;\nconst CR = 13;\nconst LF = 10;\nconst CRLF = '\\r\\n';\nclass AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        this._encoding = encoding;\n        this._chunks = [];\n        this._totalLength = 0;\n    }\n    get encoding() {\n        return this._encoding;\n    }\n    append(chunk) {\n        const toAppend = typeof chunk === 'string' ? this.fromString(chunk, this._encoding) : chunk;\n        this._chunks.push(toAppend);\n        this._totalLength += toAppend.byteLength;\n    }\n    tryReadHeaders() {\n        if (this._chunks.length === 0) {\n            return undefined;\n        }\n        let state = 0;\n        let chunkIndex = 0;\n        let offset = 0;\n        let chunkBytesRead = 0;\n        row: while (chunkIndex < this._chunks.length) {\n            const chunk = this._chunks[chunkIndex];\n            offset = 0;\n            column: while (offset < chunk.length) {\n                const value = chunk[offset];\n                switch (value) {\n                    case CR:\n                        switch (state) {\n                            case 0:\n                                state = 1;\n                                break;\n                            case 2:\n                                state = 3;\n                                break;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    case LF:\n                        switch (state) {\n                            case 1:\n                                state = 2;\n                                break;\n                            case 3:\n                                state = 4;\n                                offset++;\n                                break row;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    default:\n                        state = 0;\n                }\n                offset++;\n            }\n            chunkBytesRead += chunk.byteLength;\n            chunkIndex++;\n        }\n        if (state !== 4) {\n            return undefined;\n        }\n        // The buffer contains the two CRLF at the end. So we will\n        // have two empty lines after the split at the end as well.\n        const buffer = this._read(chunkBytesRead + offset);\n        const result = new Map();\n        const headers = this.toString(buffer, 'ascii').split(CRLF);\n        if (headers.length < 2) {\n            return result;\n        }\n        for (let i = 0; i < headers.length - 2; i++) {\n            const header = headers[i];\n            const index = header.indexOf(':');\n            if (index === -1) {\n                throw new Error('Message header must separate key and value using :');\n            }\n            const key = header.substr(0, index);\n            const value = header.substr(index + 1).trim();\n            result.set(key, value);\n        }\n        return result;\n    }\n    tryReadBody(length) {\n        if (this._totalLength < length) {\n            return undefined;\n        }\n        return this._read(length);\n    }\n    get numberOfBytes() {\n        return this._totalLength;\n    }\n    _read(byteCount) {\n        if (byteCount === 0) {\n            return this.emptyBuffer();\n        }\n        if (byteCount > this._totalLength) {\n            throw new Error(`Cannot read so many bytes!`);\n        }\n        if (this._chunks[0].byteLength === byteCount) {\n            // super fast path, precisely first chunk must be returned\n            const chunk = this._chunks[0];\n            this._chunks.shift();\n            this._totalLength -= byteCount;\n            return this.asNative(chunk);\n        }\n        if (this._chunks[0].byteLength > byteCount) {\n            // fast path, the reading is entirely within the first chunk\n            const chunk = this._chunks[0];\n            const result = this.asNative(chunk, byteCount);\n            this._chunks[0] = chunk.slice(byteCount);\n            this._totalLength -= byteCount;\n            return result;\n        }\n        const result = this.allocNative(byteCount);\n        let resultOffset = 0;\n        let chunkIndex = 0;\n        while (byteCount > 0) {\n            const chunk = this._chunks[chunkIndex];\n            if (chunk.byteLength > byteCount) {\n                // this chunk will survive\n                const chunkPart = chunk.slice(0, byteCount);\n                result.set(chunkPart, resultOffset);\n                resultOffset += byteCount;\n                this._chunks[chunkIndex] = chunk.slice(byteCount);\n                this._totalLength -= byteCount;\n                byteCount -= byteCount;\n            }\n            else {\n                // this chunk will be entirely read\n                result.set(chunk, resultOffset);\n                resultOffset += chunk.byteLength;\n                this._chunks.shift();\n                this._totalLength -= chunk.byteLength;\n                byteCount -= chunk.byteLength;\n            }\n        }\n        return result;\n    }\n}\nexports.AbstractMessageBuffer = AbstractMessageBuffer;\n//# sourceMappingURL=messageBuffer.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar MessageReader;\n(function (MessageReader) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\n    }\n    MessageReader.is = is;\n})(MessageReader = exports.MessageReader || (exports.MessageReader = {}));\nclass AbstractMessageReader {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n        this.partialMessageEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error) {\n        this.errorEmitter.fire(this.asError(error));\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    get onPartialMessage() {\n        return this.partialMessageEmitter.event;\n    }\n    firePartialMessage(info) {\n        this.partialMessageEmitter.fire(info);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageReader = AbstractMessageReader;\nvar ResolvedMessageReaderOptions;\n(function (ResolvedMessageReaderOptions) {\n    function fromOptions(options) {\n        let charset;\n        let result;\n        let contentDecoder;\n        const contentDecoders = new Map();\n        let contentTypeDecoder;\n        const contentTypeDecoders = new Map();\n        if (options === undefined || typeof options === 'string') {\n            charset = options ?? 'utf-8';\n        }\n        else {\n            charset = options.charset ?? 'utf-8';\n            if (options.contentDecoder !== undefined) {\n                contentDecoder = options.contentDecoder;\n                contentDecoders.set(contentDecoder.name, contentDecoder);\n            }\n            if (options.contentDecoders !== undefined) {\n                for (const decoder of options.contentDecoders) {\n                    contentDecoders.set(decoder.name, decoder);\n                }\n            }\n            if (options.contentTypeDecoder !== undefined) {\n                contentTypeDecoder = options.contentTypeDecoder;\n                contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n            }\n            if (options.contentTypeDecoders !== undefined) {\n                for (const decoder of options.contentTypeDecoders) {\n                    contentTypeDecoders.set(decoder.name, decoder);\n                }\n            }\n        }\n        if (contentTypeDecoder === undefined) {\n            contentTypeDecoder = (0, ral_1.default)().applicationJson.decoder;\n            contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n        }\n        return { charset, contentDecoder, contentDecoders, contentTypeDecoder, contentTypeDecoders };\n    }\n    ResolvedMessageReaderOptions.fromOptions = fromOptions;\n})(ResolvedMessageReaderOptions || (ResolvedMessageReaderOptions = {}));\nclass ReadableStreamMessageReader extends AbstractMessageReader {\n    constructor(readable, options) {\n        super();\n        this.readable = readable;\n        this.options = ResolvedMessageReaderOptions.fromOptions(options);\n        this.buffer = (0, ral_1.default)().messageBuffer.create(this.options.charset);\n        this._partialMessageTimeout = 10000;\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n    }\n    set partialMessageTimeout(timeout) {\n        this._partialMessageTimeout = timeout;\n    }\n    get partialMessageTimeout() {\n        return this._partialMessageTimeout;\n    }\n    listen(callback) {\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.partialMessageTimer = undefined;\n        this.callback = callback;\n        const result = this.readable.onData((data) => {\n            this.onData(data);\n        });\n        this.readable.onError((error) => this.fireError(error));\n        this.readable.onClose(() => this.fireClose());\n        return result;\n    }\n    onData(data) {\n        this.buffer.append(data);\n        while (true) {\n            if (this.nextMessageLength === -1) {\n                const headers = this.buffer.tryReadHeaders();\n                if (!headers) {\n                    return;\n                }\n                const contentLength = headers.get('Content-Length');\n                if (!contentLength) {\n                    throw new Error('Header must provide a Content-Length property.');\n                }\n                const length = parseInt(contentLength);\n                if (isNaN(length)) {\n                    throw new Error('Content-Length value must be a number.');\n                }\n                this.nextMessageLength = length;\n            }\n            const body = this.buffer.tryReadBody(this.nextMessageLength);\n            if (body === undefined) {\n                /** We haven't received the full message yet. */\n                this.setPartialMessageTimer();\n                return;\n            }\n            this.clearPartialMessageTimer();\n            this.nextMessageLength = -1;\n            let p;\n            if (this.options.contentDecoder !== undefined) {\n                p = this.options.contentDecoder.decode(body);\n            }\n            else {\n                p = Promise.resolve(body);\n            }\n            p.then((value) => {\n                this.options.contentTypeDecoder.decode(value, this.options).then((msg) => {\n                    this.callback(msg);\n                }, (error) => {\n                    this.fireError(error);\n                });\n            }, (error) => {\n                this.fireError(error);\n            });\n        }\n    }\n    clearPartialMessageTimer() {\n        if (this.partialMessageTimer) {\n            this.partialMessageTimer.dispose();\n            this.partialMessageTimer = undefined;\n        }\n    }\n    setPartialMessageTimer() {\n        this.clearPartialMessageTimer();\n        if (this._partialMessageTimeout <= 0) {\n            return;\n        }\n        this.partialMessageTimer = (0, ral_1.default)().timer.setTimeout((token, timeout) => {\n            this.partialMessageTimer = undefined;\n            if (token === this.messageToken) {\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\n                this.setPartialMessageTimer();\n            }\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\n    }\n}\nexports.ReadableStreamMessageReader = ReadableStreamMessageReader;\n//# sourceMappingURL=messageReader.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst semaphore_1 = require(\"./semaphore\");\nconst events_1 = require(\"./events\");\nconst ContentLength = 'Content-Length: ';\nconst CRLF = '\\r\\n';\nvar MessageWriter;\n(function (MessageWriter) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\n            Is.func(candidate.onError) && Is.func(candidate.write);\n    }\n    MessageWriter.is = is;\n})(MessageWriter = exports.MessageWriter || (exports.MessageWriter = {}));\nclass AbstractMessageWriter {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error, message, count) {\n        this.errorEmitter.fire([this.asError(error), message, count]);\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageWriter = AbstractMessageWriter;\nvar ResolvedMessageWriterOptions;\n(function (ResolvedMessageWriterOptions) {\n    function fromOptions(options) {\n        if (options === undefined || typeof options === 'string') {\n            return { charset: options ?? 'utf-8', contentTypeEncoder: (0, ral_1.default)().applicationJson.encoder };\n        }\n        else {\n            return { charset: options.charset ?? 'utf-8', contentEncoder: options.contentEncoder, contentTypeEncoder: options.contentTypeEncoder ?? (0, ral_1.default)().applicationJson.encoder };\n        }\n    }\n    ResolvedMessageWriterOptions.fromOptions = fromOptions;\n})(ResolvedMessageWriterOptions || (ResolvedMessageWriterOptions = {}));\nclass WriteableStreamMessageWriter extends AbstractMessageWriter {\n    constructor(writable, options) {\n        super();\n        this.writable = writable;\n        this.options = ResolvedMessageWriterOptions.fromOptions(options);\n        this.errorCount = 0;\n        this.writeSemaphore = new semaphore_1.Semaphore(1);\n        this.writable.onError((error) => this.fireError(error));\n        this.writable.onClose(() => this.fireClose());\n    }\n    async write(msg) {\n        return this.writeSemaphore.lock(async () => {\n            const payload = this.options.contentTypeEncoder.encode(msg, this.options).then((buffer) => {\n                if (this.options.contentEncoder !== undefined) {\n                    return this.options.contentEncoder.encode(buffer);\n                }\n                else {\n                    return buffer;\n                }\n            });\n            return payload.then((buffer) => {\n                const headers = [];\n                headers.push(ContentLength, buffer.byteLength.toString(), CRLF);\n                headers.push(CRLF);\n                return this.doWrite(msg, headers, buffer);\n            }, (error) => {\n                this.fireError(error);\n                throw error;\n            });\n        });\n    }\n    async doWrite(msg, headers, data) {\n        try {\n            await this.writable.write(headers.join(''), 'ascii');\n            return this.writable.write(data);\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n        this.writable.end();\n    }\n}\nexports.WriteableStreamMessageWriter = WriteableStreamMessageWriter;\n//# sourceMappingURL=messageWriter.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Message = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType = exports.RequestType0 = exports.AbstractMessageSignature = exports.ParameterStructures = exports.ResponseError = exports.ErrorCodes = void 0;\nconst is = require(\"./is\");\n/**\n * Predefined error codes.\n */\nvar ErrorCodes;\n(function (ErrorCodes) {\n    // Defined by JSON RPC\n    ErrorCodes.ParseError = -32700;\n    ErrorCodes.InvalidRequest = -32600;\n    ErrorCodes.MethodNotFound = -32601;\n    ErrorCodes.InvalidParams = -32602;\n    ErrorCodes.InternalError = -32603;\n    /**\n     * This is the start range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code. No application error codes should\n     * be defined between the start and end range. For backwards\n     * compatibility the `ServerNotInitialized` and the `UnknownErrorCode`\n     * are left in the range.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeStart = -32099;\n    /** @deprecated use  jsonrpcReservedErrorRangeStart */\n    ErrorCodes.serverErrorStart = -32099;\n    /**\n     * An error occurred when write a message to the transport layer.\n     */\n    ErrorCodes.MessageWriteError = -32099;\n    /**\n     * An error occurred when reading a message from the transport layer.\n     */\n    ErrorCodes.MessageReadError = -32098;\n    /**\n     * The connection got disposed or lost and all pending responses got\n     * rejected.\n     */\n    ErrorCodes.PendingResponseRejected = -32097;\n    /**\n     * The connection is inactive and a use of it failed.\n     */\n    ErrorCodes.ConnectionInactive = -32096;\n    /**\n     * Error code indicating that a server received a notification or\n     * request before the server has received the `initialize` request.\n     */\n    ErrorCodes.ServerNotInitialized = -32002;\n    ErrorCodes.UnknownErrorCode = -32001;\n    /**\n     * This is the end range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeEnd = -32000;\n    /** @deprecated use  jsonrpcReservedErrorRangeEnd */\n    ErrorCodes.serverErrorEnd = -32000;\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\n/**\n * An error object return in a response in case a request\n * has failed.\n */\nclass ResponseError extends Error {\n    constructor(code, message, data) {\n        super(message);\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\n        this.data = data;\n        Object.setPrototypeOf(this, ResponseError.prototype);\n    }\n    toJson() {\n        const result = {\n            code: this.code,\n            message: this.message\n        };\n        if (this.data !== undefined) {\n            result.data = this.data;\n        }\n        return result;\n    }\n}\nexports.ResponseError = ResponseError;\nclass ParameterStructures {\n    constructor(kind) {\n        this.kind = kind;\n    }\n    static is(value) {\n        return value === ParameterStructures.auto || value === ParameterStructures.byName || value === ParameterStructures.byPosition;\n    }\n    toString() {\n        return this.kind;\n    }\n}\nexports.ParameterStructures = ParameterStructures;\n/**\n * The parameter structure is automatically inferred on the number of parameters\n * and the parameter type in case of a single param.\n */\nParameterStructures.auto = new ParameterStructures('auto');\n/**\n * Forces `byPosition` parameter structure. This is useful if you have a single\n * parameter which has a literal type.\n */\nParameterStructures.byPosition = new ParameterStructures('byPosition');\n/**\n * Forces `byName` parameter structure. This is only useful when having a single\n * parameter. The library will report errors if used with a different number of\n * parameters.\n */\nParameterStructures.byName = new ParameterStructures('byName');\n/**\n * An abstract implementation of a MessageType.\n */\nclass AbstractMessageSignature {\n    constructor(method, numberOfParams) {\n        this.method = method;\n        this.numberOfParams = numberOfParams;\n    }\n    get parameterStructures() {\n        return ParameterStructures.auto;\n    }\n}\nexports.AbstractMessageSignature = AbstractMessageSignature;\n/**\n * Classes to type request response pairs\n */\nclass RequestType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.RequestType0 = RequestType0;\nclass RequestType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType = RequestType;\nclass RequestType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType1 = RequestType1;\nclass RequestType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.RequestType2 = RequestType2;\nclass RequestType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.RequestType3 = RequestType3;\nclass RequestType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.RequestType4 = RequestType4;\nclass RequestType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.RequestType5 = RequestType5;\nclass RequestType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.RequestType6 = RequestType6;\nclass RequestType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.RequestType7 = RequestType7;\nclass RequestType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.RequestType8 = RequestType8;\nclass RequestType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.RequestType9 = RequestType9;\nclass NotificationType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType = NotificationType;\nclass NotificationType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.NotificationType0 = NotificationType0;\nclass NotificationType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType1 = NotificationType1;\nclass NotificationType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.NotificationType2 = NotificationType2;\nclass NotificationType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.NotificationType3 = NotificationType3;\nclass NotificationType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.NotificationType4 = NotificationType4;\nclass NotificationType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.NotificationType5 = NotificationType5;\nclass NotificationType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.NotificationType6 = NotificationType6;\nclass NotificationType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.NotificationType7 = NotificationType7;\nclass NotificationType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.NotificationType8 = NotificationType8;\nclass NotificationType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.NotificationType9 = NotificationType9;\nvar Message;\n(function (Message) {\n    /**\n     * Tests if the given message is a request message\n     */\n    function isRequest(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\n    }\n    Message.isRequest = isRequest;\n    /**\n     * Tests if the given message is a notification message\n     */\n    function isNotification(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && message.id === void 0;\n    }\n    Message.isNotification = isNotification;\n    /**\n     * Tests if the given message is a response message\n     */\n    function isResponse(message) {\n        const candidate = message;\n        return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\n    }\n    Message.isResponse = isResponse;\n})(Message = exports.Message || (exports.Message = {}));\n//# sourceMappingURL=messages.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nlet _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(`No runtime abstraction layer installed`);\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(`No runtime abstraction layer provided`);\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n//# sourceMappingURL=ral.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Semaphore = void 0;\nconst ral_1 = require(\"./ral\");\nclass Semaphore {\n    constructor(capacity = 1) {\n        if (capacity <= 0) {\n            throw new Error('Capacity must be greater than 0');\n        }\n        this._capacity = capacity;\n        this._active = 0;\n        this._waiting = [];\n    }\n    lock(thunk) {\n        return new Promise((resolve, reject) => {\n            this._waiting.push({ thunk, resolve, reject });\n            this.runNext();\n        });\n    }\n    get active() {\n        return this._active;\n    }\n    runNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        (0, ral_1.default)().timer.setImmediate(() => this.doRunNext());\n    }\n    doRunNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        const next = this._waiting.shift();\n        this._active++;\n        if (this._active > this._capacity) {\n            throw new Error(`To many thunks active`);\n        }\n        try {\n            const result = next.thunk();\n            if (result instanceof Promise) {\n                result.then((value) => {\n                    this._active--;\n                    next.resolve(value);\n                    this.runNext();\n                }, (err) => {\n                    this._active--;\n                    next.reject(err);\n                    this.runNext();\n                });\n            }\n            else {\n                this._active--;\n                next.resolve(result);\n                this.runNext();\n            }\n        }\n        catch (err) {\n            this._active--;\n            next.reject(err);\n            this.runNext();\n        }\n    }\n}\nexports.Semaphore = Semaphore;\n//# sourceMappingURL=semaphore.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.createServerSocketTransport = exports.createClientSocketTransport = exports.createServerPipeTransport = exports.createClientPipeTransport = exports.generateRandomPipeName = exports.StreamMessageWriter = exports.StreamMessageReader = exports.SocketMessageWriter = exports.SocketMessageReader = exports.IPCMessageWriter = exports.IPCMessageReader = void 0;\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\nconst ril_1 = require(\"./ril\");\n// Install the node runtime abstract.\nril_1.default.install();\nconst api_1 = require(\"../common/api\");\nconst path = require(\"path\");\nconst os = require(\"os\");\nconst crypto_1 = require(\"crypto\");\nconst net_1 = require(\"net\");\n__exportStar(require(\"../common/api\"), exports);\nclass IPCMessageReader extends api_1.AbstractMessageReader {\n    constructor(process) {\n        super();\n        this.process = process;\n        let eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose());\n    }\n    listen(callback) {\n        this.process.on('message', callback);\n        return api_1.Disposable.create(() => this.process.off('message', callback));\n    }\n}\nexports.IPCMessageReader = IPCMessageReader;\nclass IPCMessageWriter extends api_1.AbstractMessageWriter {\n    constructor(process) {\n        super();\n        this.process = process;\n        this.errorCount = 0;\n        let eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose);\n    }\n    write(msg) {\n        try {\n            if (typeof this.process.send === 'function') {\n                this.process.send(msg, undefined, undefined, (error) => {\n                    if (error) {\n                        this.errorCount++;\n                        this.handleError(error, msg);\n                    }\n                    else {\n                        this.errorCount = 0;\n                    }\n                });\n            }\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n    }\n}\nexports.IPCMessageWriter = IPCMessageWriter;\nclass SocketMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(socket, encoding = 'utf-8') {\n        super((0, ril_1.default)().stream.asReadableStream(socket), encoding);\n    }\n}\nexports.SocketMessageReader = SocketMessageReader;\nclass SocketMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(socket, options) {\n        super((0, ril_1.default)().stream.asWritableStream(socket), options);\n        this.socket = socket;\n    }\n    dispose() {\n        super.dispose();\n        this.socket.destroy();\n    }\n}\nexports.SocketMessageWriter = SocketMessageWriter;\nclass StreamMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(readble, encoding) {\n        super((0, ril_1.default)().stream.asReadableStream(readble), encoding);\n    }\n}\nexports.StreamMessageReader = StreamMessageReader;\nclass StreamMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(writable, options) {\n        super((0, ril_1.default)().stream.asWritableStream(writable), options);\n    }\n}\nexports.StreamMessageWriter = StreamMessageWriter;\nconst XDG_RUNTIME_DIR = process.env['XDG_RUNTIME_DIR'];\nconst safeIpcPathLengths = new Map([\n    ['linux', 107],\n    ['darwin', 103]\n]);\nfunction generateRandomPipeName() {\n    const randomSuffix = (0, crypto_1.randomBytes)(21).toString('hex');\n    if (process.platform === 'win32') {\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\n    }\n    let result;\n    if (XDG_RUNTIME_DIR) {\n        result = path.join(XDG_RUNTIME_DIR, `vscode-ipc-${randomSuffix}.sock`);\n    }\n    else {\n        result = path.join(os.tmpdir(), `vscode-${randomSuffix}.sock`);\n    }\n    const limit = safeIpcPathLengths.get(process.platform);\n    if (limit !== undefined && result.length >= limit) {\n        (0, ril_1.default)().console.warn(`WARNING: IPC handle \"${result}\" is longer than ${limit} characters.`);\n    }\n    return result;\n}\nexports.generateRandomPipeName = generateRandomPipeName;\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        let server = (0, net_1.createServer)((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(pipeName, () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientPipeTransport = createClientPipeTransport;\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\n    const socket = (0, net_1.createConnection)(pipeName);\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerPipeTransport = createServerPipeTransport;\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        const server = (0, net_1.createServer)((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(port, '127.0.0.1', () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientSocketTransport = createClientSocketTransport;\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\n    const socket = (0, net_1.createConnection)(port, '127.0.0.1');\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerSocketTransport = createServerSocketTransport;\nfunction isReadableStream(value) {\n    const candidate = value;\n    return candidate.read !== undefined && candidate.addListener !== undefined;\n}\nfunction isWritableStream(value) {\n    const candidate = value;\n    return candidate.write !== undefined && candidate.addListener !== undefined;\n}\nfunction createMessageConnection(input, output, logger, options) {\n    if (!logger) {\n        logger = api_1.NullLogger;\n    }\n    const reader = isReadableStream(input) ? new StreamMessageReader(input) : input;\n    const writer = isWritableStream(output) ? new StreamMessageWriter(output) : output;\n    if (api_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, api_1.createMessageConnection)(reader, writer, logger, options);\n}\nexports.createMessageConnection = createMessageConnection;\n//# sourceMappingURL=main.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ral_1 = require(\"../common/ral\");\nconst util_1 = require(\"util\");\nconst disposable_1 = require(\"../common/disposable\");\nconst messageBuffer_1 = require(\"../common/messageBuffer\");\nclass MessageBuffer extends messageBuffer_1.AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        super(encoding);\n    }\n    emptyBuffer() {\n        return MessageBuffer.emptyBuffer;\n    }\n    fromString(value, encoding) {\n        return Buffer.from(value, encoding);\n    }\n    toString(value, encoding) {\n        if (value instanceof Buffer) {\n            return value.toString(encoding);\n        }\n        else {\n            return new util_1.TextDecoder(encoding).decode(value);\n        }\n    }\n    asNative(buffer, length) {\n        if (length === undefined) {\n            return buffer instanceof Buffer ? buffer : Buffer.from(buffer);\n        }\n        else {\n            return buffer instanceof Buffer ? buffer.slice(0, length) : Buffer.from(buffer, 0, length);\n        }\n    }\n    allocNative(length) {\n        return Buffer.allocUnsafe(length);\n    }\n}\nMessageBuffer.emptyBuffer = Buffer.allocUnsafe(0);\nclass ReadableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    onData(listener) {\n        this.stream.on('data', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('data', listener));\n    }\n}\nclass WritableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    write(data, encoding) {\n        return new Promise((resolve, reject) => {\n            const callback = (error) => {\n                if (error === undefined || error === null) {\n                    resolve();\n                }\n                else {\n                    reject(error);\n                }\n            };\n            if (typeof data === 'string') {\n                this.stream.write(data, encoding, callback);\n            }\n            else {\n                this.stream.write(data, callback);\n            }\n        });\n    }\n    end() {\n        this.stream.end();\n    }\n}\nconst _ril = Object.freeze({\n    messageBuffer: Object.freeze({\n        create: (encoding) => new MessageBuffer(encoding)\n    }),\n    applicationJson: Object.freeze({\n        encoder: Object.freeze({\n            name: 'application/json',\n            encode: (msg, options) => {\n                try {\n                    return Promise.resolve(Buffer.from(JSON.stringify(msg, undefined, 0), options.charset));\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        }),\n        decoder: Object.freeze({\n            name: 'application/json',\n            decode: (buffer, options) => {\n                try {\n                    if (buffer instanceof Buffer) {\n                        return Promise.resolve(JSON.parse(buffer.toString(options.charset)));\n                    }\n                    else {\n                        return Promise.resolve(JSON.parse(new util_1.TextDecoder(options.charset).decode(buffer)));\n                    }\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        })\n    }),\n    stream: Object.freeze({\n        asReadableStream: (stream) => new ReadableStreamWrapper(stream),\n        asWritableStream: (stream) => new WritableStreamWrapper(stream)\n    }),\n    console: console,\n    timer: Object.freeze({\n        setTimeout(callback, ms, ...args) {\n            const handle = setTimeout(callback, ms, ...args);\n            return { dispose: () => clearTimeout(handle) };\n        },\n        setImmediate(callback, ...args) {\n            const handle = setImmediate(callback, ...args);\n            return { dispose: () => clearImmediate(handle) };\n        },\n        setInterval(callback, ms, ...args) {\n            const handle = setInterval(callback, ms, ...args);\n            return { dispose: () => clearInterval(handle) };\n        }\n    })\n});\nfunction RIL() {\n    return _ril;\n}\n(function (RIL) {\n    function install() {\n        ral_1.default.install(_ril);\n    }\n    RIL.install = install;\n})(RIL || (RIL = {}));\nexports.default = RIL;\n//# sourceMappingURL=ril.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LSPErrorCodes = exports.createProtocolConnection = void 0;\n__exportStar(require(\"vscode-jsonrpc\"), exports);\n__exportStar(require(\"vscode-languageserver-types\"), exports);\n__exportStar(require(\"./messages\"), exports);\n__exportStar(require(\"./protocol\"), exports);\nvar connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"createProtocolConnection\", { enumerable: true, get: function () { return connection_1.createProtocolConnection; } });\nvar LSPErrorCodes;\n(function (LSPErrorCodes) {\n    /**\n    * This is the start range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeStart = -32899;\n    /**\n     * A request failed but it was syntactically correct, e.g the\n     * method name was known and the parameters were valid. The error\n     * message should contain human readable information about why\n     * the request failed.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.RequestFailed = -32803;\n    /**\n     * The server cancelled the request. This error code should\n     * only be used for requests that explicitly support being\n     * server cancellable.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.ServerCancelled = -32802;\n    /**\n     * The server detected that the content of a document got\n     * modified outside normal conditions. A server should\n     * NOT send this error code if it detects a content change\n     * in it unprocessed messages. The result even computed\n     * on an older state might still be useful for the client.\n     *\n     * If a client decides that a result is not of any use anymore\n     * the client should cancel the request.\n     */\n    LSPErrorCodes.ContentModified = -32801;\n    /**\n     * The client has canceled a request and a server as detected\n     * the cancel.\n     */\n    LSPErrorCodes.RequestCancelled = -32800;\n    /**\n    * This is the end range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeEnd = -32800;\n})(LSPErrorCodes = exports.LSPErrorCodes || (exports.LSPErrorCodes = {}));\n//# sourceMappingURL=api.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nfunction createProtocolConnection(input, output, logger, options) {\n    if (vscode_jsonrpc_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, vscode_jsonrpc_1.createMessageConnection)(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n//# sourceMappingURL=connection.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProtocolNotificationType = exports.ProtocolNotificationType0 = exports.ProtocolRequestType = exports.ProtocolRequestType0 = exports.RegistrationType = exports.MessageDirection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nvar MessageDirection;\n(function (MessageDirection) {\n    MessageDirection[\"clientToServer\"] = \"clientToServer\";\n    MessageDirection[\"serverToClient\"] = \"serverToClient\";\n    MessageDirection[\"both\"] = \"both\";\n})(MessageDirection = exports.MessageDirection || (exports.MessageDirection = {}));\nclass RegistrationType {\n    constructor(method) {\n        this.method = method;\n    }\n}\nexports.RegistrationType = RegistrationType;\nclass ProtocolRequestType0 extends vscode_jsonrpc_1.RequestType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolRequestType0 = ProtocolRequestType0;\nclass ProtocolRequestType extends vscode_jsonrpc_1.RequestType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolRequestType = ProtocolRequestType;\nclass ProtocolNotificationType0 extends vscode_jsonrpc_1.NotificationType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolNotificationType0 = ProtocolNotificationType0;\nclass ProtocolNotificationType extends vscode_jsonrpc_1.NotificationType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolNotificationType = ProtocolNotificationType;\n//# sourceMappingURL=messages.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.CallHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `CallHierarchyItem` in a document at a given position.\n * Can be used as an input to an incoming or outgoing call hierarchy.\n *\n * @since 3.16.0\n */\nvar CallHierarchyPrepareRequest;\n(function (CallHierarchyPrepareRequest) {\n    CallHierarchyPrepareRequest.method = 'textDocument/prepareCallHierarchy';\n    CallHierarchyPrepareRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest.method);\n})(CallHierarchyPrepareRequest = exports.CallHierarchyPrepareRequest || (exports.CallHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the incoming calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyIncomingCallsRequest;\n(function (CallHierarchyIncomingCallsRequest) {\n    CallHierarchyIncomingCallsRequest.method = 'callHierarchy/incomingCalls';\n    CallHierarchyIncomingCallsRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyIncomingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest.method);\n})(CallHierarchyIncomingCallsRequest = exports.CallHierarchyIncomingCallsRequest || (exports.CallHierarchyIncomingCallsRequest = {}));\n/**\n * A request to resolve the outgoing calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyOutgoingCallsRequest;\n(function (CallHierarchyOutgoingCallsRequest) {\n    CallHierarchyOutgoingCallsRequest.method = 'callHierarchy/outgoingCalls';\n    CallHierarchyOutgoingCallsRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyOutgoingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest.method);\n})(CallHierarchyOutgoingCallsRequest = exports.CallHierarchyOutgoingCallsRequest || (exports.CallHierarchyOutgoingCallsRequest = {}));\n//# sourceMappingURL=protocol.callHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorPresentationRequest = exports.DocumentColorRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to list all color symbols found in a given text document. The request's\n * parameter is of type [DocumentColorParams](#DocumentColorParams) the\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\n * that resolves to such.\n */\nvar DocumentColorRequest;\n(function (DocumentColorRequest) {\n    DocumentColorRequest.method = 'textDocument/documentColor';\n    DocumentColorRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentColorRequest.type = new messages_1.ProtocolRequestType(DocumentColorRequest.method);\n})(DocumentColorRequest = exports.DocumentColorRequest || (exports.DocumentColorRequest = {}));\n/**\n * A request to list all presentation for a color. The request's\n * parameter is of type [ColorPresentationParams](#ColorPresentationParams) the\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\n * that resolves to such.\n */\nvar ColorPresentationRequest;\n(function (ColorPresentationRequest) {\n    ColorPresentationRequest.method = 'textDocument/colorPresentation';\n    ColorPresentationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ColorPresentationRequest.type = new messages_1.ProtocolRequestType(ColorPresentationRequest.method);\n})(ColorPresentationRequest = exports.ColorPresentationRequest || (exports.ColorPresentationRequest = {}));\n//# sourceMappingURL=protocol.colorProvider.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n//---- Get Configuration request ----\n/**\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\n * configuration setting.\n *\n * This pull model replaces the old push model were the client signaled configuration change via an\n * event. If the server still needs to react to configuration changes (since the server caches the\n * result of `workspace/configuration` requests) the server should register for an empty configuration\n * change event and empty the cache if such an event is received.\n */\nvar ConfigurationRequest;\n(function (ConfigurationRequest) {\n    ConfigurationRequest.method = 'workspace/configuration';\n    ConfigurationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ConfigurationRequest.type = new messages_1.ProtocolRequestType(ConfigurationRequest.method);\n})(ConfigurationRequest = exports.ConfigurationRequest || (exports.ConfigurationRequest = {}));\n//# sourceMappingURL=protocol.configuration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeclarationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositionParams]\n * (#TextDocumentPositionParams) the response is of type [Declaration](#Declaration)\n * or a typed array of [DeclarationLink](#DeclarationLink) or a Thenable that resolves\n * to such.\n */\nvar DeclarationRequest;\n(function (DeclarationRequest) {\n    DeclarationRequest.method = 'textDocument/declaration';\n    DeclarationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DeclarationRequest.type = new messages_1.ProtocolRequestType(DeclarationRequest.method);\n})(DeclarationRequest = exports.DeclarationRequest || (exports.DeclarationRequest = {}));\n//# sourceMappingURL=protocol.declaration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\n/**\n * @since 3.17.0\n */\nvar DiagnosticServerCancellationData;\n(function (DiagnosticServerCancellationData) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.retriggerRequest);\n    }\n    DiagnosticServerCancellationData.is = is;\n})(DiagnosticServerCancellationData = exports.DiagnosticServerCancellationData || (exports.DiagnosticServerCancellationData = {}));\n/**\n * The document diagnostic report kinds.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticReportKind;\n(function (DocumentDiagnosticReportKind) {\n    /**\n     * A diagnostic report with a full\n     * set of problems.\n     */\n    DocumentDiagnosticReportKind.Full = 'full';\n    /**\n     * A report indicating that the last\n     * returned report is still accurate.\n     */\n    DocumentDiagnosticReportKind.Unchanged = 'unchanged';\n})(DocumentDiagnosticReportKind = exports.DocumentDiagnosticReportKind || (exports.DocumentDiagnosticReportKind = {}));\n/**\n * The document diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticRequest;\n(function (DocumentDiagnosticRequest) {\n    DocumentDiagnosticRequest.method = 'textDocument/diagnostic';\n    DocumentDiagnosticRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentDiagnosticRequest.type = new messages_1.ProtocolRequestType(DocumentDiagnosticRequest.method);\n    DocumentDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(DocumentDiagnosticRequest = exports.DocumentDiagnosticRequest || (exports.DocumentDiagnosticRequest = {}));\n/**\n * The workspace diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar WorkspaceDiagnosticRequest;\n(function (WorkspaceDiagnosticRequest) {\n    WorkspaceDiagnosticRequest.method = 'workspace/diagnostic';\n    WorkspaceDiagnosticRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceDiagnosticRequest.type = new messages_1.ProtocolRequestType(WorkspaceDiagnosticRequest.method);\n    WorkspaceDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(WorkspaceDiagnosticRequest = exports.WorkspaceDiagnosticRequest || (exports.WorkspaceDiagnosticRequest = {}));\n/**\n * The diagnostic refresh request definition.\n *\n * @since 3.17.0\n */\nvar DiagnosticRefreshRequest;\n(function (DiagnosticRefreshRequest) {\n    DiagnosticRefreshRequest.method = `workspace/diagnostic/refresh`;\n    DiagnosticRefreshRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DiagnosticRefreshRequest.type = new messages_1.ProtocolRequestType0(DiagnosticRefreshRequest.method);\n})(DiagnosticRefreshRequest = exports.DiagnosticRefreshRequest || (exports.DiagnosticRefreshRequest = {}));\n//# sourceMappingURL=protocol.diagnostic.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.DidRenameFilesNotification = exports.WillRenameFilesRequest = exports.DidCreateFilesNotification = exports.WillCreateFilesRequest = exports.FileOperationPatternKind = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A pattern kind describing if a glob pattern matches a file a folder or\n * both.\n *\n * @since 3.16.0\n */\nvar FileOperationPatternKind;\n(function (FileOperationPatternKind) {\n    /**\n     * The pattern matches a file only.\n     */\n    FileOperationPatternKind.file = 'file';\n    /**\n     * The pattern matches a folder only.\n     */\n    FileOperationPatternKind.folder = 'folder';\n})(FileOperationPatternKind = exports.FileOperationPatternKind || (exports.FileOperationPatternKind = {}));\n/**\n * The will create files request is sent from the client to the server before files are actually\n * created as long as the creation is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillCreateFilesRequest;\n(function (WillCreateFilesRequest) {\n    WillCreateFilesRequest.method = 'workspace/willCreateFiles';\n    WillCreateFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillCreateFilesRequest.type = new messages_1.ProtocolRequestType(WillCreateFilesRequest.method);\n})(WillCreateFilesRequest = exports.WillCreateFilesRequest || (exports.WillCreateFilesRequest = {}));\n/**\n * The did create files notification is sent from the client to the server when\n * files were created from within the client.\n *\n * @since 3.16.0\n */\nvar DidCreateFilesNotification;\n(function (DidCreateFilesNotification) {\n    DidCreateFilesNotification.method = 'workspace/didCreateFiles';\n    DidCreateFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCreateFilesNotification.type = new messages_1.ProtocolNotificationType(DidCreateFilesNotification.method);\n})(DidCreateFilesNotification = exports.DidCreateFilesNotification || (exports.DidCreateFilesNotification = {}));\n/**\n * The will rename files request is sent from the client to the server before files are actually\n * renamed as long as the rename is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillRenameFilesRequest;\n(function (WillRenameFilesRequest) {\n    WillRenameFilesRequest.method = 'workspace/willRenameFiles';\n    WillRenameFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillRenameFilesRequest.type = new messages_1.ProtocolRequestType(WillRenameFilesRequest.method);\n})(WillRenameFilesRequest = exports.WillRenameFilesRequest || (exports.WillRenameFilesRequest = {}));\n/**\n * The did rename files notification is sent from the client to the server when\n * files were renamed from within the client.\n *\n * @since 3.16.0\n */\nvar DidRenameFilesNotification;\n(function (DidRenameFilesNotification) {\n    DidRenameFilesNotification.method = 'workspace/didRenameFiles';\n    DidRenameFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidRenameFilesNotification.type = new messages_1.ProtocolNotificationType(DidRenameFilesNotification.method);\n})(DidRenameFilesNotification = exports.DidRenameFilesNotification || (exports.DidRenameFilesNotification = {}));\n/**\n * The will delete files request is sent from the client to the server before files are actually\n * deleted as long as the deletion is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar DidDeleteFilesNotification;\n(function (DidDeleteFilesNotification) {\n    DidDeleteFilesNotification.method = 'workspace/didDeleteFiles';\n    DidDeleteFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidDeleteFilesNotification.type = new messages_1.ProtocolNotificationType(DidDeleteFilesNotification.method);\n})(DidDeleteFilesNotification = exports.DidDeleteFilesNotification || (exports.DidDeleteFilesNotification = {}));\n/**\n * The did delete files notification is sent from the client to the server when\n * files were deleted from within the client.\n *\n * @since 3.16.0\n */\nvar WillDeleteFilesRequest;\n(function (WillDeleteFilesRequest) {\n    WillDeleteFilesRequest.method = 'workspace/willDeleteFiles';\n    WillDeleteFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillDeleteFilesRequest.type = new messages_1.ProtocolRequestType(WillDeleteFilesRequest.method);\n})(WillDeleteFilesRequest = exports.WillDeleteFilesRequest || (exports.WillDeleteFilesRequest = {}));\n//# sourceMappingURL=protocol.fileOperations.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide folding ranges in a document. The request's\n * parameter is of type [FoldingRangeParams](#FoldingRangeParams), the\n * response is of type [FoldingRangeList](#FoldingRangeList) or a Thenable\n * that resolves to such.\n */\nvar FoldingRangeRequest;\n(function (FoldingRangeRequest) {\n    FoldingRangeRequest.method = 'textDocument/foldingRange';\n    FoldingRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    FoldingRangeRequest.type = new messages_1.ProtocolRequestType(FoldingRangeRequest.method);\n})(FoldingRangeRequest = exports.FoldingRangeRequest || (exports.FoldingRangeRequest = {}));\n//# sourceMappingURL=protocol.foldingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the implementation locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositionParams]\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\n * Thenable that resolves to such.\n */\nvar ImplementationRequest;\n(function (ImplementationRequest) {\n    ImplementationRequest.method = 'textDocument/implementation';\n    ImplementationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ImplementationRequest.type = new messages_1.ProtocolRequestType(ImplementationRequest.method);\n})(ImplementationRequest = exports.ImplementationRequest || (exports.ImplementationRequest = {}));\n//# sourceMappingURL=protocol.implementation.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inlay hints in a document. The request's parameter is of\n * type [InlayHintsParams](#InlayHintsParams), the response is of type\n * [InlayHint[]](#InlayHint[]) or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintRequest;\n(function (InlayHintRequest) {\n    InlayHintRequest.method = 'textDocument/inlayHint';\n    InlayHintRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintRequest.type = new messages_1.ProtocolRequestType(InlayHintRequest.method);\n})(InlayHintRequest = exports.InlayHintRequest || (exports.InlayHintRequest = {}));\n/**\n * A request to resolve additional properties for an inlay hint.\n * The request's parameter is of type [InlayHint](#InlayHint), the response is\n * of type [InlayHint](#InlayHint) or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintResolveRequest;\n(function (InlayHintResolveRequest) {\n    InlayHintResolveRequest.method = 'inlayHint/resolve';\n    InlayHintResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintResolveRequest.type = new messages_1.ProtocolRequestType(InlayHintResolveRequest.method);\n})(InlayHintResolveRequest = exports.InlayHintResolveRequest || (exports.InlayHintResolveRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlayHintRefreshRequest;\n(function (InlayHintRefreshRequest) {\n    InlayHintRefreshRequest.method = `workspace/inlayHint/refresh`;\n    InlayHintRefreshRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintRefreshRequest.type = new messages_1.ProtocolRequestType0(InlayHintRefreshRequest.method);\n})(InlayHintRefreshRequest = exports.InlayHintRefreshRequest || (exports.InlayHintRefreshRequest = {}));\n//# sourceMappingURL=protocol.inlayHint.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueRefreshRequest = exports.InlineValueRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inline values in a document. The request's parameter is of\n * type [InlineValueParams](#InlineValueParams), the response is of type\n * [InlineValue[]](#InlineValue[]) or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlineValueRequest;\n(function (InlineValueRequest) {\n    InlineValueRequest.method = 'textDocument/inlineValue';\n    InlineValueRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlineValueRequest.type = new messages_1.ProtocolRequestType(InlineValueRequest.method);\n})(InlineValueRequest = exports.InlineValueRequest || (exports.InlineValueRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlineValueRefreshRequest;\n(function (InlineValueRefreshRequest) {\n    InlineValueRefreshRequest.method = `workspace/inlineValue/refresh`;\n    InlineValueRefreshRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlineValueRefreshRequest.type = new messages_1.ProtocolRequestType0(InlineValueRefreshRequest.method);\n})(InlineValueRefreshRequest = exports.InlineValueRefreshRequest || (exports.InlineValueRefreshRequest = {}));\n//# sourceMappingURL=protocol.inlineValue.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceSymbolRequest = exports.CodeActionResolveRequest = exports.CodeActionRequest = exports.DocumentSymbolRequest = exports.DocumentHighlightRequest = exports.ReferencesRequest = exports.DefinitionRequest = exports.SignatureHelpRequest = exports.SignatureHelpTriggerKind = exports.HoverRequest = exports.CompletionResolveRequest = exports.CompletionRequest = exports.CompletionTriggerKind = exports.PublishDiagnosticsNotification = exports.WatchKind = exports.RelativePattern = exports.FileChangeType = exports.DidChangeWatchedFilesNotification = exports.WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentNotification = exports.TextDocumentSaveReason = exports.DidSaveTextDocumentNotification = exports.DidCloseTextDocumentNotification = exports.DidChangeTextDocumentNotification = exports.TextDocumentContentChangeEvent = exports.DidOpenTextDocumentNotification = exports.TextDocumentSyncKind = exports.TelemetryEventNotification = exports.LogMessageNotification = exports.ShowMessageRequest = exports.ShowMessageNotification = exports.MessageType = exports.DidChangeConfigurationNotification = exports.ExitNotification = exports.ShutdownRequest = exports.InitializedNotification = exports.InitializeErrorCodes = exports.InitializeRequest = exports.WorkDoneProgressOptions = exports.TextDocumentRegistrationOptions = exports.StaticRegistrationOptions = exports.PositionEncodingKind = exports.FailureHandlingKind = exports.ResourceOperationKind = exports.UnregistrationRequest = exports.RegistrationRequest = exports.DocumentSelector = exports.NotebookCellTextDocumentFilter = exports.NotebookDocumentFilter = exports.TextDocumentFilter = void 0;\nexports.TypeHierarchySubtypesRequest = exports.TypeHierarchyPrepareRequest = exports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = exports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.WillRenameFilesRequest = exports.DidRenameFilesNotification = exports.WillCreateFilesRequest = exports.DidCreateFilesNotification = exports.FileOperationPatternKind = exports.LinkedEditingRangeRequest = exports.ShowDocumentRequest = exports.SemanticTokensRegistrationType = exports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.TokenFormat = exports.CallHierarchyPrepareRequest = exports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = exports.SelectionRangeRequest = exports.DeclarationRequest = exports.FoldingRangeRequest = exports.ColorPresentationRequest = exports.DocumentColorRequest = exports.ConfigurationRequest = exports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = exports.TypeDefinitionRequest = exports.ImplementationRequest = exports.ApplyWorkspaceEditRequest = exports.ExecuteCommandRequest = exports.PrepareRenameRequest = exports.RenameRequest = exports.PrepareSupportDefaultBehavior = exports.DocumentOnTypeFormattingRequest = exports.DocumentRangeFormattingRequest = exports.DocumentFormattingRequest = exports.DocumentLinkResolveRequest = exports.DocumentLinkRequest = exports.CodeLensRefreshRequest = exports.CodeLensResolveRequest = exports.CodeLensRequest = exports.WorkspaceSymbolResolveRequest = void 0;\nexports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = exports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = exports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = exports.InlineValueRefreshRequest = exports.InlineValueRequest = exports.TypeHierarchySupertypesRequest = void 0;\nconst messages_1 = require(\"./messages\");\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = require(\"./utils/is\");\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\nObject.defineProperty(exports, \"ImplementationRequest\", { enumerable: true, get: function () { return protocol_implementation_1.ImplementationRequest; } });\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\nObject.defineProperty(exports, \"TypeDefinitionRequest\", { enumerable: true, get: function () { return protocol_typeDefinition_1.TypeDefinitionRequest; } });\nconst protocol_workspaceFolder_1 = require(\"./protocol.workspaceFolder\");\nObject.defineProperty(exports, \"WorkspaceFoldersRequest\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.WorkspaceFoldersRequest; } });\nObject.defineProperty(exports, \"DidChangeWorkspaceFoldersNotification\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.DidChangeWorkspaceFoldersNotification; } });\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\nObject.defineProperty(exports, \"ConfigurationRequest\", { enumerable: true, get: function () { return protocol_configuration_1.ConfigurationRequest; } });\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\nObject.defineProperty(exports, \"DocumentColorRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.DocumentColorRequest; } });\nObject.defineProperty(exports, \"ColorPresentationRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.ColorPresentationRequest; } });\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\nObject.defineProperty(exports, \"FoldingRangeRequest\", { enumerable: true, get: function () { return protocol_foldingRange_1.FoldingRangeRequest; } });\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\nObject.defineProperty(exports, \"DeclarationRequest\", { enumerable: true, get: function () { return protocol_declaration_1.DeclarationRequest; } });\nconst protocol_selectionRange_1 = require(\"./protocol.selectionRange\");\nObject.defineProperty(exports, \"SelectionRangeRequest\", { enumerable: true, get: function () { return protocol_selectionRange_1.SelectionRangeRequest; } });\nconst protocol_progress_1 = require(\"./protocol.progress\");\nObject.defineProperty(exports, \"WorkDoneProgress\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgress; } });\nObject.defineProperty(exports, \"WorkDoneProgressCreateRequest\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCreateRequest; } });\nObject.defineProperty(exports, \"WorkDoneProgressCancelNotification\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCancelNotification; } });\nconst protocol_callHierarchy_1 = require(\"./protocol.callHierarchy\");\nObject.defineProperty(exports, \"CallHierarchyIncomingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyIncomingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyOutgoingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyOutgoingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyPrepareRequest; } });\nconst protocol_semanticTokens_1 = require(\"./protocol.semanticTokens\");\nObject.defineProperty(exports, \"TokenFormat\", { enumerable: true, get: function () { return protocol_semanticTokens_1.TokenFormat; } });\nObject.defineProperty(exports, \"SemanticTokensRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRequest; } });\nObject.defineProperty(exports, \"SemanticTokensDeltaRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensDeltaRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRangeRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRangeRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRefreshRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRefreshRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRegistrationType\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRegistrationType; } });\nconst protocol_showDocument_1 = require(\"./protocol.showDocument\");\nObject.defineProperty(exports, \"ShowDocumentRequest\", { enumerable: true, get: function () { return protocol_showDocument_1.ShowDocumentRequest; } });\nconst protocol_linkedEditingRange_1 = require(\"./protocol.linkedEditingRange\");\nObject.defineProperty(exports, \"LinkedEditingRangeRequest\", { enumerable: true, get: function () { return protocol_linkedEditingRange_1.LinkedEditingRangeRequest; } });\nconst protocol_fileOperations_1 = require(\"./protocol.fileOperations\");\nObject.defineProperty(exports, \"FileOperationPatternKind\", { enumerable: true, get: function () { return protocol_fileOperations_1.FileOperationPatternKind; } });\nObject.defineProperty(exports, \"DidCreateFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidCreateFilesNotification; } });\nObject.defineProperty(exports, \"WillCreateFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillCreateFilesRequest; } });\nObject.defineProperty(exports, \"DidRenameFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidRenameFilesNotification; } });\nObject.defineProperty(exports, \"WillRenameFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillRenameFilesRequest; } });\nObject.defineProperty(exports, \"DidDeleteFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidDeleteFilesNotification; } });\nObject.defineProperty(exports, \"WillDeleteFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillDeleteFilesRequest; } });\nconst protocol_moniker_1 = require(\"./protocol.moniker\");\nObject.defineProperty(exports, \"UniquenessLevel\", { enumerable: true, get: function () { return protocol_moniker_1.UniquenessLevel; } });\nObject.defineProperty(exports, \"MonikerKind\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerKind; } });\nObject.defineProperty(exports, \"MonikerRequest\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerRequest; } });\nconst protocol_typeHierarchy_1 = require(\"./protocol.typeHierarchy\");\nObject.defineProperty(exports, \"TypeHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchyPrepareRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySubtypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySubtypesRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySupertypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySupertypesRequest; } });\nconst protocol_inlineValue_1 = require(\"./protocol.inlineValue\");\nObject.defineProperty(exports, \"InlineValueRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRequest; } });\nObject.defineProperty(exports, \"InlineValueRefreshRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRefreshRequest; } });\nconst protocol_inlayHint_1 = require(\"./protocol.inlayHint\");\nObject.defineProperty(exports, \"InlayHintRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRequest; } });\nObject.defineProperty(exports, \"InlayHintResolveRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintResolveRequest; } });\nObject.defineProperty(exports, \"InlayHintRefreshRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRefreshRequest; } });\nconst protocol_diagnostic_1 = require(\"./protocol.diagnostic\");\nObject.defineProperty(exports, \"DiagnosticServerCancellationData\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticServerCancellationData; } });\nObject.defineProperty(exports, \"DocumentDiagnosticReportKind\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticReportKind; } });\nObject.defineProperty(exports, \"DocumentDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticRequest; } });\nObject.defineProperty(exports, \"WorkspaceDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.WorkspaceDiagnosticRequest; } });\nObject.defineProperty(exports, \"DiagnosticRefreshRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticRefreshRequest; } });\nconst protocol_notebook_1 = require(\"./protocol.notebook\");\nObject.defineProperty(exports, \"NotebookCellKind\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellKind; } });\nObject.defineProperty(exports, \"ExecutionSummary\", { enumerable: true, get: function () { return protocol_notebook_1.ExecutionSummary; } });\nObject.defineProperty(exports, \"NotebookCell\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCell; } });\nObject.defineProperty(exports, \"NotebookDocument\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocument; } });\nObject.defineProperty(exports, \"NotebookDocumentSyncRegistrationType\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocumentSyncRegistrationType; } });\nObject.defineProperty(exports, \"DidOpenNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidOpenNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"NotebookCellArrayChange\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellArrayChange; } });\nObject.defineProperty(exports, \"DidChangeNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidChangeNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidSaveNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidSaveNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidCloseNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidCloseNotebookDocumentNotification; } });\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * The TextDocumentFilter namespace provides helper functions to work with\n * [TextDocumentFilter](#TextDocumentFilter) literals.\n *\n * @since 3.17.0\n */\nvar TextDocumentFilter;\n(function (TextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate.language) || Is.string(candidate.scheme) || Is.string(candidate.pattern);\n    }\n    TextDocumentFilter.is = is;\n})(TextDocumentFilter = exports.TextDocumentFilter || (exports.TextDocumentFilter = {}));\n/**\n * The NotebookDocumentFilter namespace provides helper functions to work with\n * [NotebookDocumentFilter](#NotebookDocumentFilter) literals.\n *\n * @since 3.17.0\n */\nvar NotebookDocumentFilter;\n(function (NotebookDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (Is.string(candidate.notebookType) || Is.string(candidate.scheme) || Is.string(candidate.pattern));\n    }\n    NotebookDocumentFilter.is = is;\n})(NotebookDocumentFilter = exports.NotebookDocumentFilter || (exports.NotebookDocumentFilter = {}));\n/**\n * The NotebookCellTextDocumentFilter namespace provides helper functions to work with\n * [NotebookCellTextDocumentFilter](#NotebookCellTextDocumentFilter) literals.\n *\n * @since 3.17.0\n */\nvar NotebookCellTextDocumentFilter;\n(function (NotebookCellTextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && (Is.string(candidate.notebook) || NotebookDocumentFilter.is(candidate.notebook))\n            && (candidate.language === undefined || Is.string(candidate.language));\n    }\n    NotebookCellTextDocumentFilter.is = is;\n})(NotebookCellTextDocumentFilter = exports.NotebookCellTextDocumentFilter || (exports.NotebookCellTextDocumentFilter = {}));\n/**\n * The DocumentSelector namespace provides helper functions to work with\n * [DocumentSelector](#DocumentSelector)s.\n */\nvar DocumentSelector;\n(function (DocumentSelector) {\n    function is(value) {\n        if (!Array.isArray(value)) {\n            return false;\n        }\n        for (let elem of value) {\n            if (!Is.string(elem) && !TextDocumentFilter.is(elem) && !NotebookCellTextDocumentFilter.is(elem)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    DocumentSelector.is = is;\n})(DocumentSelector = exports.DocumentSelector || (exports.DocumentSelector = {}));\n/**\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\n * handler on the client side.\n */\nvar RegistrationRequest;\n(function (RegistrationRequest) {\n    RegistrationRequest.method = 'client/registerCapability';\n    RegistrationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    RegistrationRequest.type = new messages_1.ProtocolRequestType(RegistrationRequest.method);\n})(RegistrationRequest = exports.RegistrationRequest || (exports.RegistrationRequest = {}));\n/**\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\n * handler on the client side.\n */\nvar UnregistrationRequest;\n(function (UnregistrationRequest) {\n    UnregistrationRequest.method = 'client/unregisterCapability';\n    UnregistrationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    UnregistrationRequest.type = new messages_1.ProtocolRequestType(UnregistrationRequest.method);\n})(UnregistrationRequest = exports.UnregistrationRequest || (exports.UnregistrationRequest = {}));\nvar ResourceOperationKind;\n(function (ResourceOperationKind) {\n    /**\n     * Supports creating new files and folders.\n     */\n    ResourceOperationKind.Create = 'create';\n    /**\n     * Supports renaming existing files and folders.\n     */\n    ResourceOperationKind.Rename = 'rename';\n    /**\n     * Supports deleting existing files and folders.\n     */\n    ResourceOperationKind.Delete = 'delete';\n})(ResourceOperationKind = exports.ResourceOperationKind || (exports.ResourceOperationKind = {}));\nvar FailureHandlingKind;\n(function (FailureHandlingKind) {\n    /**\n     * Applying the workspace change is simply aborted if one of the changes provided\n     * fails. All operations executed before the failing operation stay executed.\n     */\n    FailureHandlingKind.Abort = 'abort';\n    /**\n     * All operations are executed transactional. That means they either all\n     * succeed or no changes at all are applied to the workspace.\n     */\n    FailureHandlingKind.Transactional = 'transactional';\n    /**\n     * If the workspace edit contains only textual file changes they are executed transactional.\n     * If resource changes (create, rename or delete file) are part of the change the failure\n     * handling strategy is abort.\n     */\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\n    /**\n     * The client tries to undo the operations already executed. But there is no\n     * guarantee that this is succeeding.\n     */\n    FailureHandlingKind.Undo = 'undo';\n})(FailureHandlingKind = exports.FailureHandlingKind || (exports.FailureHandlingKind = {}));\n/**\n * A set of predefined position encoding kinds.\n *\n * @since 3.17.0\n */\nvar PositionEncodingKind;\n(function (PositionEncodingKind) {\n    /**\n     * Character offsets count UTF-8 code units.\n     */\n    PositionEncodingKind.UTF8 = 'utf-8';\n    /**\n     * Character offsets count UTF-16 code units.\n     *\n     * This is the default and must always be supported\n     * by servers\n     */\n    PositionEncodingKind.UTF16 = 'utf-16';\n    /**\n     * Character offsets count UTF-32 code units.\n     *\n     * Implementation note: these are the same as Unicode code points,\n     * so this `PositionEncodingKind` may also be used for an\n     * encoding-agnostic representation of character offsets.\n     */\n    PositionEncodingKind.UTF32 = 'utf-32';\n})(PositionEncodingKind = exports.PositionEncodingKind || (exports.PositionEncodingKind = {}));\n/**\n * The StaticRegistrationOptions namespace provides helper functions to work with\n * [StaticRegistrationOptions](#StaticRegistrationOptions) literals.\n */\nvar StaticRegistrationOptions;\n(function (StaticRegistrationOptions) {\n    function hasId(value) {\n        const candidate = value;\n        return candidate && Is.string(candidate.id) && candidate.id.length > 0;\n    }\n    StaticRegistrationOptions.hasId = hasId;\n})(StaticRegistrationOptions = exports.StaticRegistrationOptions || (exports.StaticRegistrationOptions = {}));\n/**\n * The TextDocumentRegistrationOptions namespace provides helper functions to work with\n * [TextDocumentRegistrationOptions](#TextDocumentRegistrationOptions) literals.\n */\nvar TextDocumentRegistrationOptions;\n(function (TextDocumentRegistrationOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.documentSelector === null || DocumentSelector.is(candidate.documentSelector));\n    }\n    TextDocumentRegistrationOptions.is = is;\n})(TextDocumentRegistrationOptions = exports.TextDocumentRegistrationOptions || (exports.TextDocumentRegistrationOptions = {}));\n/**\n * The WorkDoneProgressOptions namespace provides helper functions to work with\n * [WorkDoneProgressOptions](#WorkDoneProgressOptions) literals.\n */\nvar WorkDoneProgressOptions;\n(function (WorkDoneProgressOptions) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.workDoneProgress === undefined || Is.boolean(candidate.workDoneProgress));\n    }\n    WorkDoneProgressOptions.is = is;\n    function hasWorkDoneProgress(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.workDoneProgress);\n    }\n    WorkDoneProgressOptions.hasWorkDoneProgress = hasWorkDoneProgress;\n})(WorkDoneProgressOptions = exports.WorkDoneProgressOptions || (exports.WorkDoneProgressOptions = {}));\n/**\n * The initialize request is sent from the client to the server.\n * It is sent once as the request after starting up the server.\n * The requests parameter is of type [InitializeParams](#InitializeParams)\n * the response if of type [InitializeResult](#InitializeResult) of a Thenable that\n * resolves to such.\n */\nvar InitializeRequest;\n(function (InitializeRequest) {\n    InitializeRequest.method = 'initialize';\n    InitializeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InitializeRequest.type = new messages_1.ProtocolRequestType(InitializeRequest.method);\n})(InitializeRequest = exports.InitializeRequest || (exports.InitializeRequest = {}));\n/**\n * Known error codes for an `InitializeErrorCodes`;\n */\nvar InitializeErrorCodes;\n(function (InitializeErrorCodes) {\n    /**\n     * If the protocol version provided by the client can't be handled by the server.\n     *\n     * @deprecated This initialize error got replaced by client capabilities. There is\n     * no version handshake in version 3.0x\n     */\n    InitializeErrorCodes.unknownProtocolVersion = 1;\n})(InitializeErrorCodes = exports.InitializeErrorCodes || (exports.InitializeErrorCodes = {}));\n/**\n * The initialized notification is sent from the client to the\n * server after the client is fully initialized and the server\n * is allowed to send requests from the server to the client.\n */\nvar InitializedNotification;\n(function (InitializedNotification) {\n    InitializedNotification.method = 'initialized';\n    InitializedNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    InitializedNotification.type = new messages_1.ProtocolNotificationType(InitializedNotification.method);\n})(InitializedNotification = exports.InitializedNotification || (exports.InitializedNotification = {}));\n//---- Shutdown Method ----\n/**\n * A shutdown request is sent from the client to the server.\n * It is sent once when the client decides to shutdown the\n * server. The only notification that is sent after a shutdown request\n * is the exit event.\n */\nvar ShutdownRequest;\n(function (ShutdownRequest) {\n    ShutdownRequest.method = 'shutdown';\n    ShutdownRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ShutdownRequest.type = new messages_1.ProtocolRequestType0(ShutdownRequest.method);\n})(ShutdownRequest = exports.ShutdownRequest || (exports.ShutdownRequest = {}));\n//---- Exit Notification ----\n/**\n * The exit event is sent from the client to the server to\n * ask the server to exit its process.\n */\nvar ExitNotification;\n(function (ExitNotification) {\n    ExitNotification.method = 'exit';\n    ExitNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    ExitNotification.type = new messages_1.ProtocolNotificationType0(ExitNotification.method);\n})(ExitNotification = exports.ExitNotification || (exports.ExitNotification = {}));\n/**\n * The configuration change notification is sent from the client to the server\n * when the client's configuration has changed. The notification contains\n * the changed configuration as defined by the language client.\n */\nvar DidChangeConfigurationNotification;\n(function (DidChangeConfigurationNotification) {\n    DidChangeConfigurationNotification.method = 'workspace/didChangeConfiguration';\n    DidChangeConfigurationNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeConfigurationNotification.type = new messages_1.ProtocolNotificationType(DidChangeConfigurationNotification.method);\n})(DidChangeConfigurationNotification = exports.DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = {}));\n//---- Message show and log notifications ----\n/**\n * The message type\n */\nvar MessageType;\n(function (MessageType) {\n    /**\n     * An error message.\n     */\n    MessageType.Error = 1;\n    /**\n     * A warning message.\n     */\n    MessageType.Warning = 2;\n    /**\n     * An information message.\n     */\n    MessageType.Info = 3;\n    /**\n     * A log message.\n     */\n    MessageType.Log = 4;\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\n/**\n * The show message notification is sent from a server to a client to ask\n * the client to display a particular message in the user interface.\n */\nvar ShowMessageNotification;\n(function (ShowMessageNotification) {\n    ShowMessageNotification.method = 'window/showMessage';\n    ShowMessageNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowMessageNotification.type = new messages_1.ProtocolNotificationType(ShowMessageNotification.method);\n})(ShowMessageNotification = exports.ShowMessageNotification || (exports.ShowMessageNotification = {}));\n/**\n * The show message request is sent from the server to the client to show a message\n * and a set of options actions to the user.\n */\nvar ShowMessageRequest;\n(function (ShowMessageRequest) {\n    ShowMessageRequest.method = 'window/showMessageRequest';\n    ShowMessageRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowMessageRequest.type = new messages_1.ProtocolRequestType(ShowMessageRequest.method);\n})(ShowMessageRequest = exports.ShowMessageRequest || (exports.ShowMessageRequest = {}));\n/**\n * The log message notification is sent from the server to the client to ask\n * the client to log a particular message.\n */\nvar LogMessageNotification;\n(function (LogMessageNotification) {\n    LogMessageNotification.method = 'window/logMessage';\n    LogMessageNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    LogMessageNotification.type = new messages_1.ProtocolNotificationType(LogMessageNotification.method);\n})(LogMessageNotification = exports.LogMessageNotification || (exports.LogMessageNotification = {}));\n//---- Telemetry notification\n/**\n * The telemetry event notification is sent from the server to the client to ask\n * the client to log telemetry data.\n */\nvar TelemetryEventNotification;\n(function (TelemetryEventNotification) {\n    TelemetryEventNotification.method = 'telemetry/event';\n    TelemetryEventNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    TelemetryEventNotification.type = new messages_1.ProtocolNotificationType(TelemetryEventNotification.method);\n})(TelemetryEventNotification = exports.TelemetryEventNotification || (exports.TelemetryEventNotification = {}));\n/**\n * Defines how the host (editor) should sync\n * document changes to the language server.\n */\nvar TextDocumentSyncKind;\n(function (TextDocumentSyncKind) {\n    /**\n     * Documents should not be synced at all.\n     */\n    TextDocumentSyncKind.None = 0;\n    /**\n     * Documents are synced by always sending the full content\n     * of the document.\n     */\n    TextDocumentSyncKind.Full = 1;\n    /**\n     * Documents are synced by sending the full content on open.\n     * After that only incremental updates to the document are\n     * send.\n     */\n    TextDocumentSyncKind.Incremental = 2;\n})(TextDocumentSyncKind = exports.TextDocumentSyncKind || (exports.TextDocumentSyncKind = {}));\n/**\n * The document open notification is sent from the client to the server to signal\n * newly opened text documents. The document's truth is now managed by the client\n * and the server must not try to read the document's truth using the document's\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\n * mean that its content is presented in an editor. An open notification must not\n * be sent more than once without a corresponding close notification send before.\n * This means open and close notification must be balanced and the max open count\n * is one.\n */\nvar DidOpenTextDocumentNotification;\n(function (DidOpenTextDocumentNotification) {\n    DidOpenTextDocumentNotification.method = 'textDocument/didOpen';\n    DidOpenTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidOpenTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification.method);\n})(DidOpenTextDocumentNotification = exports.DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = {}));\nvar TextDocumentContentChangeEvent;\n(function (TextDocumentContentChangeEvent) {\n    /**\n     * Checks whether the information describes a delta event.\n     */\n    function isIncremental(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    TextDocumentContentChangeEvent.isIncremental = isIncremental;\n    /**\n     * Checks whether the information describes a full replacement event.\n     */\n    function isFull(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n    TextDocumentContentChangeEvent.isFull = isFull;\n})(TextDocumentContentChangeEvent = exports.TextDocumentContentChangeEvent || (exports.TextDocumentContentChangeEvent = {}));\n/**\n * The document change notification is sent from the client to the server to signal\n * changes to a text document.\n */\nvar DidChangeTextDocumentNotification;\n(function (DidChangeTextDocumentNotification) {\n    DidChangeTextDocumentNotification.method = 'textDocument/didChange';\n    DidChangeTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification.method);\n})(DidChangeTextDocumentNotification = exports.DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = {}));\n/**\n * The document close notification is sent from the client to the server when\n * the document got closed in the client. The document's truth now exists where\n * the document's uri points to (e.g. if the document's uri is a file uri the\n * truth now exists on disk). As with the open notification the close notification\n * is about managing the document's content. Receiving a close notification\n * doesn't mean that the document was open in an editor before. A close\n * notification requires a previous open notification to be sent.\n */\nvar DidCloseTextDocumentNotification;\n(function (DidCloseTextDocumentNotification) {\n    DidCloseTextDocumentNotification.method = 'textDocument/didClose';\n    DidCloseTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCloseTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification.method);\n})(DidCloseTextDocumentNotification = exports.DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = {}));\n/**\n * The document save notification is sent from the client to the server when\n * the document got saved in the client.\n */\nvar DidSaveTextDocumentNotification;\n(function (DidSaveTextDocumentNotification) {\n    DidSaveTextDocumentNotification.method = 'textDocument/didSave';\n    DidSaveTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification.method);\n})(DidSaveTextDocumentNotification = exports.DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = {}));\n/**\n * Represents reasons why a text document is saved.\n */\nvar TextDocumentSaveReason;\n(function (TextDocumentSaveReason) {\n    /**\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\n     * or by an API call.\n     */\n    TextDocumentSaveReason.Manual = 1;\n    /**\n     * Automatic after a delay.\n     */\n    TextDocumentSaveReason.AfterDelay = 2;\n    /**\n     * When the editor lost focus.\n     */\n    TextDocumentSaveReason.FocusOut = 3;\n})(TextDocumentSaveReason = exports.TextDocumentSaveReason || (exports.TextDocumentSaveReason = {}));\n/**\n * A document will save notification is sent from the client to the server before\n * the document is actually saved.\n */\nvar WillSaveTextDocumentNotification;\n(function (WillSaveTextDocumentNotification) {\n    WillSaveTextDocumentNotification.method = 'textDocument/willSave';\n    WillSaveTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification.method);\n})(WillSaveTextDocumentNotification = exports.WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = {}));\n/**\n * A document will save request is sent from the client to the server before\n * the document is actually saved. The request can return an array of TextEdits\n * which will be applied to the text document before it is saved. Please note that\n * clients might drop results if computing the text edits took too long or if a\n * server constantly fails on this request. This is done to keep the save fast and\n * reliable.\n */\nvar WillSaveTextDocumentWaitUntilRequest;\n(function (WillSaveTextDocumentWaitUntilRequest) {\n    WillSaveTextDocumentWaitUntilRequest.method = 'textDocument/willSaveWaitUntil';\n    WillSaveTextDocumentWaitUntilRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillSaveTextDocumentWaitUntilRequest.type = new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest.method);\n})(WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = {}));\n/**\n * The watched files notification is sent from the client to the server when\n * the client detects changes to file watched by the language client.\n */\nvar DidChangeWatchedFilesNotification;\n(function (DidChangeWatchedFilesNotification) {\n    DidChangeWatchedFilesNotification.method = 'workspace/didChangeWatchedFiles';\n    DidChangeWatchedFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeWatchedFilesNotification.type = new messages_1.ProtocolNotificationType(DidChangeWatchedFilesNotification.method);\n})(DidChangeWatchedFilesNotification = exports.DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = {}));\n/**\n * The file event type\n */\nvar FileChangeType;\n(function (FileChangeType) {\n    /**\n     * The file got created.\n     */\n    FileChangeType.Created = 1;\n    /**\n     * The file got changed.\n     */\n    FileChangeType.Changed = 2;\n    /**\n     * The file got deleted.\n     */\n    FileChangeType.Deleted = 3;\n})(FileChangeType = exports.FileChangeType || (exports.FileChangeType = {}));\nvar RelativePattern;\n(function (RelativePattern) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (vscode_languageserver_types_1.URI.is(candidate.baseUri) || vscode_languageserver_types_1.WorkspaceFolder.is(candidate.baseUri)) && Is.string(candidate.pattern);\n    }\n    RelativePattern.is = is;\n})(RelativePattern = exports.RelativePattern || (exports.RelativePattern = {}));\nvar WatchKind;\n(function (WatchKind) {\n    /**\n     * Interested in create events.\n     */\n    WatchKind.Create = 1;\n    /**\n     * Interested in change events\n     */\n    WatchKind.Change = 2;\n    /**\n     * Interested in delete events\n     */\n    WatchKind.Delete = 4;\n})(WatchKind = exports.WatchKind || (exports.WatchKind = {}));\n/**\n * Diagnostics notification are sent from the server to the client to signal\n * results of validation runs.\n */\nvar PublishDiagnosticsNotification;\n(function (PublishDiagnosticsNotification) {\n    PublishDiagnosticsNotification.method = 'textDocument/publishDiagnostics';\n    PublishDiagnosticsNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    PublishDiagnosticsNotification.type = new messages_1.ProtocolNotificationType(PublishDiagnosticsNotification.method);\n})(PublishDiagnosticsNotification = exports.PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = {}));\n/**\n * How a completion was triggered\n */\nvar CompletionTriggerKind;\n(function (CompletionTriggerKind) {\n    /**\n     * Completion was triggered by typing an identifier (24x7 code\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\n     */\n    CompletionTriggerKind.Invoked = 1;\n    /**\n     * Completion was triggered by a trigger character specified by\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\n     */\n    CompletionTriggerKind.TriggerCharacter = 2;\n    /**\n     * Completion was re-triggered as current completion list is incomplete\n     */\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\n})(CompletionTriggerKind = exports.CompletionTriggerKind || (exports.CompletionTriggerKind = {}));\n/**\n * Request to request completion at a given text document position. The request's\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response\n * is of type [CompletionItem[]](#CompletionItem) or [CompletionList](#CompletionList)\n * or a Thenable that resolves to such.\n *\n * The request can delay the computation of the [`detail`](#CompletionItem.detail)\n * and [`documentation`](#CompletionItem.documentation) properties to the `completionItem/resolve`\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\n */\nvar CompletionRequest;\n(function (CompletionRequest) {\n    CompletionRequest.method = 'textDocument/completion';\n    CompletionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CompletionRequest.type = new messages_1.ProtocolRequestType(CompletionRequest.method);\n})(CompletionRequest = exports.CompletionRequest || (exports.CompletionRequest = {}));\n/**\n * Request to resolve additional information for a given completion item.The request's\n * parameter is of type [CompletionItem](#CompletionItem) the response\n * is of type [CompletionItem](#CompletionItem) or a Thenable that resolves to such.\n */\nvar CompletionResolveRequest;\n(function (CompletionResolveRequest) {\n    CompletionResolveRequest.method = 'completionItem/resolve';\n    CompletionResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CompletionResolveRequest.type = new messages_1.ProtocolRequestType(CompletionResolveRequest.method);\n})(CompletionResolveRequest = exports.CompletionResolveRequest || (exports.CompletionResolveRequest = {}));\n/**\n * Request to request hover information at a given text document position. The request's\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response is of\n * type [Hover](#Hover) or a Thenable that resolves to such.\n */\nvar HoverRequest;\n(function (HoverRequest) {\n    HoverRequest.method = 'textDocument/hover';\n    HoverRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    HoverRequest.type = new messages_1.ProtocolRequestType(HoverRequest.method);\n})(HoverRequest = exports.HoverRequest || (exports.HoverRequest = {}));\n/**\n * How a signature help was triggered.\n *\n * @since 3.15.0\n */\nvar SignatureHelpTriggerKind;\n(function (SignatureHelpTriggerKind) {\n    /**\n     * Signature help was invoked manually by the user or by a command.\n     */\n    SignatureHelpTriggerKind.Invoked = 1;\n    /**\n     * Signature help was triggered by a trigger character.\n     */\n    SignatureHelpTriggerKind.TriggerCharacter = 2;\n    /**\n     * Signature help was triggered by the cursor moving or by the document content changing.\n     */\n    SignatureHelpTriggerKind.ContentChange = 3;\n})(SignatureHelpTriggerKind = exports.SignatureHelpTriggerKind || (exports.SignatureHelpTriggerKind = {}));\nvar SignatureHelpRequest;\n(function (SignatureHelpRequest) {\n    SignatureHelpRequest.method = 'textDocument/signatureHelp';\n    SignatureHelpRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SignatureHelpRequest.type = new messages_1.ProtocolRequestType(SignatureHelpRequest.method);\n})(SignatureHelpRequest = exports.SignatureHelpRequest || (exports.SignatureHelpRequest = {}));\n/**\n * A request to resolve the definition location of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the response is of either type [Definition](#Definition)\n * or a typed array of [DefinitionLink](#DefinitionLink) or a Thenable that resolves\n * to such.\n */\nvar DefinitionRequest;\n(function (DefinitionRequest) {\n    DefinitionRequest.method = 'textDocument/definition';\n    DefinitionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DefinitionRequest.type = new messages_1.ProtocolRequestType(DefinitionRequest.method);\n})(DefinitionRequest = exports.DefinitionRequest || (exports.DefinitionRequest = {}));\n/**\n * A request to resolve project-wide references for the symbol denoted\n * by the given text document position. The request's parameter is of\n * type [ReferenceParams](#ReferenceParams) the response is of type\n * [Location[]](#Location) or a Thenable that resolves to such.\n */\nvar ReferencesRequest;\n(function (ReferencesRequest) {\n    ReferencesRequest.method = 'textDocument/references';\n    ReferencesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ReferencesRequest.type = new messages_1.ProtocolRequestType(ReferencesRequest.method);\n})(ReferencesRequest = exports.ReferencesRequest || (exports.ReferencesRequest = {}));\n/**\n * Request to resolve a [DocumentHighlight](#DocumentHighlight) for a given\n * text document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the request response is of type [DocumentHighlight[]]\n * (#DocumentHighlight) or a Thenable that resolves to such.\n */\nvar DocumentHighlightRequest;\n(function (DocumentHighlightRequest) {\n    DocumentHighlightRequest.method = 'textDocument/documentHighlight';\n    DocumentHighlightRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentHighlightRequest.type = new messages_1.ProtocolRequestType(DocumentHighlightRequest.method);\n})(DocumentHighlightRequest = exports.DocumentHighlightRequest || (exports.DocumentHighlightRequest = {}));\n/**\n * A request to list all symbols found in a given text document. The request's\n * parameter is of type [TextDocumentIdentifier](#TextDocumentIdentifier) the\n * response is of type [SymbolInformation[]](#SymbolInformation) or a Thenable\n * that resolves to such.\n */\nvar DocumentSymbolRequest;\n(function (DocumentSymbolRequest) {\n    DocumentSymbolRequest.method = 'textDocument/documentSymbol';\n    DocumentSymbolRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentSymbolRequest.type = new messages_1.ProtocolRequestType(DocumentSymbolRequest.method);\n})(DocumentSymbolRequest = exports.DocumentSymbolRequest || (exports.DocumentSymbolRequest = {}));\n/**\n * A request to provide commands for the given text document and range.\n */\nvar CodeActionRequest;\n(function (CodeActionRequest) {\n    CodeActionRequest.method = 'textDocument/codeAction';\n    CodeActionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeActionRequest.type = new messages_1.ProtocolRequestType(CodeActionRequest.method);\n})(CodeActionRequest = exports.CodeActionRequest || (exports.CodeActionRequest = {}));\n/**\n * Request to resolve additional information for a given code action.The request's\n * parameter is of type [CodeAction](#CodeAction) the response\n * is of type [CodeAction](#CodeAction) or a Thenable that resolves to such.\n */\nvar CodeActionResolveRequest;\n(function (CodeActionResolveRequest) {\n    CodeActionResolveRequest.method = 'codeAction/resolve';\n    CodeActionResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeActionResolveRequest.type = new messages_1.ProtocolRequestType(CodeActionResolveRequest.method);\n})(CodeActionResolveRequest = exports.CodeActionResolveRequest || (exports.CodeActionResolveRequest = {}));\n/**\n * A request to list project-wide symbols matching the query string given\n * by the [WorkspaceSymbolParams](#WorkspaceSymbolParams). The response is\n * of type [SymbolInformation[]](#SymbolInformation) or a Thenable that\n * resolves to such.\n *\n * @since 3.17.0 - support for WorkspaceSymbol in the returned data. Clients\n *  need to advertise support for WorkspaceSymbols via the client capability\n *  `workspace.symbol.resolveSupport`.\n *\n */\nvar WorkspaceSymbolRequest;\n(function (WorkspaceSymbolRequest) {\n    WorkspaceSymbolRequest.method = 'workspace/symbol';\n    WorkspaceSymbolRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceSymbolRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolRequest.method);\n})(WorkspaceSymbolRequest = exports.WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = {}));\n/**\n * A request to resolve the range inside the workspace\n * symbol's location.\n *\n * @since 3.17.0\n */\nvar WorkspaceSymbolResolveRequest;\n(function (WorkspaceSymbolResolveRequest) {\n    WorkspaceSymbolResolveRequest.method = 'workspaceSymbol/resolve';\n    WorkspaceSymbolResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceSymbolResolveRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolResolveRequest.method);\n})(WorkspaceSymbolResolveRequest = exports.WorkspaceSymbolResolveRequest || (exports.WorkspaceSymbolResolveRequest = {}));\n/**\n * A request to provide code lens for the given text document.\n */\nvar CodeLensRequest;\n(function (CodeLensRequest) {\n    CodeLensRequest.method = 'textDocument/codeLens';\n    CodeLensRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeLensRequest.type = new messages_1.ProtocolRequestType(CodeLensRequest.method);\n})(CodeLensRequest = exports.CodeLensRequest || (exports.CodeLensRequest = {}));\n/**\n * A request to resolve a command for a given code lens.\n */\nvar CodeLensResolveRequest;\n(function (CodeLensResolveRequest) {\n    CodeLensResolveRequest.method = 'codeLens/resolve';\n    CodeLensResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeLensResolveRequest.type = new messages_1.ProtocolRequestType(CodeLensResolveRequest.method);\n})(CodeLensResolveRequest = exports.CodeLensResolveRequest || (exports.CodeLensResolveRequest = {}));\n/**\n * A request to refresh all code actions\n *\n * @since 3.16.0\n */\nvar CodeLensRefreshRequest;\n(function (CodeLensRefreshRequest) {\n    CodeLensRefreshRequest.method = `workspace/codeLens/refresh`;\n    CodeLensRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    CodeLensRefreshRequest.type = new messages_1.ProtocolRequestType0(CodeLensRefreshRequest.method);\n})(CodeLensRefreshRequest = exports.CodeLensRefreshRequest || (exports.CodeLensRefreshRequest = {}));\n/**\n * A request to provide document links\n */\nvar DocumentLinkRequest;\n(function (DocumentLinkRequest) {\n    DocumentLinkRequest.method = 'textDocument/documentLink';\n    DocumentLinkRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentLinkRequest.type = new messages_1.ProtocolRequestType(DocumentLinkRequest.method);\n})(DocumentLinkRequest = exports.DocumentLinkRequest || (exports.DocumentLinkRequest = {}));\n/**\n * Request to resolve additional information for a given document link. The request's\n * parameter is of type [DocumentLink](#DocumentLink) the response\n * is of type [DocumentLink](#DocumentLink) or a Thenable that resolves to such.\n */\nvar DocumentLinkResolveRequest;\n(function (DocumentLinkResolveRequest) {\n    DocumentLinkResolveRequest.method = 'documentLink/resolve';\n    DocumentLinkResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentLinkResolveRequest.type = new messages_1.ProtocolRequestType(DocumentLinkResolveRequest.method);\n})(DocumentLinkResolveRequest = exports.DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = {}));\n/**\n * A request to to format a whole document.\n */\nvar DocumentFormattingRequest;\n(function (DocumentFormattingRequest) {\n    DocumentFormattingRequest.method = 'textDocument/formatting';\n    DocumentFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentFormattingRequest.method);\n})(DocumentFormattingRequest = exports.DocumentFormattingRequest || (exports.DocumentFormattingRequest = {}));\n/**\n * A request to to format a range in a document.\n */\nvar DocumentRangeFormattingRequest;\n(function (DocumentRangeFormattingRequest) {\n    DocumentRangeFormattingRequest.method = 'textDocument/rangeFormatting';\n    DocumentRangeFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentRangeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest.method);\n})(DocumentRangeFormattingRequest = exports.DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = {}));\n/**\n * A request to format a document on type.\n */\nvar DocumentOnTypeFormattingRequest;\n(function (DocumentOnTypeFormattingRequest) {\n    DocumentOnTypeFormattingRequest.method = 'textDocument/onTypeFormatting';\n    DocumentOnTypeFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentOnTypeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest.method);\n})(DocumentOnTypeFormattingRequest = exports.DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = {}));\n//---- Rename ----------------------------------------------\nvar PrepareSupportDefaultBehavior;\n(function (PrepareSupportDefaultBehavior) {\n    /**\n     * The client's default behavior is to select the identifier\n     * according the to language's syntax rule.\n     */\n    PrepareSupportDefaultBehavior.Identifier = 1;\n})(PrepareSupportDefaultBehavior = exports.PrepareSupportDefaultBehavior || (exports.PrepareSupportDefaultBehavior = {}));\n/**\n * A request to rename a symbol.\n */\nvar RenameRequest;\n(function (RenameRequest) {\n    RenameRequest.method = 'textDocument/rename';\n    RenameRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    RenameRequest.type = new messages_1.ProtocolRequestType(RenameRequest.method);\n})(RenameRequest = exports.RenameRequest || (exports.RenameRequest = {}));\n/**\n * A request to test and perform the setup necessary for a rename.\n *\n * @since 3.16 - support for default behavior\n */\nvar PrepareRenameRequest;\n(function (PrepareRenameRequest) {\n    PrepareRenameRequest.method = 'textDocument/prepareRename';\n    PrepareRenameRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    PrepareRenameRequest.type = new messages_1.ProtocolRequestType(PrepareRenameRequest.method);\n})(PrepareRenameRequest = exports.PrepareRenameRequest || (exports.PrepareRenameRequest = {}));\n/**\n * A request send from the client to the server to execute a command. The request might return\n * a workspace edit which the client will apply to the workspace.\n */\nvar ExecuteCommandRequest;\n(function (ExecuteCommandRequest) {\n    ExecuteCommandRequest.method = 'workspace/executeCommand';\n    ExecuteCommandRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ExecuteCommandRequest.type = new messages_1.ProtocolRequestType(ExecuteCommandRequest.method);\n})(ExecuteCommandRequest = exports.ExecuteCommandRequest || (exports.ExecuteCommandRequest = {}));\n/**\n * A request sent from the server to the client to modified certain resources.\n */\nvar ApplyWorkspaceEditRequest;\n(function (ApplyWorkspaceEditRequest) {\n    ApplyWorkspaceEditRequest.method = 'workspace/applyEdit';\n    ApplyWorkspaceEditRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ApplyWorkspaceEditRequest.type = new messages_1.ProtocolRequestType('workspace/applyEdit');\n})(ApplyWorkspaceEditRequest = exports.ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = {}));\n//# sourceMappingURL=protocol.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide ranges that can be edited together.\n *\n * @since 3.16.0\n */\nvar LinkedEditingRangeRequest;\n(function (LinkedEditingRangeRequest) {\n    LinkedEditingRangeRequest.method = 'textDocument/linkedEditingRange';\n    LinkedEditingRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    LinkedEditingRangeRequest.type = new messages_1.ProtocolRequestType(LinkedEditingRangeRequest.method);\n})(LinkedEditingRangeRequest = exports.LinkedEditingRangeRequest || (exports.LinkedEditingRangeRequest = {}));\n//# sourceMappingURL=protocol.linkedEditingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * Moniker uniqueness level to define scope of the moniker.\n *\n * @since 3.16.0\n */\nvar UniquenessLevel;\n(function (UniquenessLevel) {\n    /**\n     * The moniker is only unique inside a document\n     */\n    UniquenessLevel.document = 'document';\n    /**\n     * The moniker is unique inside a project for which a dump got created\n     */\n    UniquenessLevel.project = 'project';\n    /**\n     * The moniker is unique inside the group to which a project belongs\n     */\n    UniquenessLevel.group = 'group';\n    /**\n     * The moniker is unique inside the moniker scheme.\n     */\n    UniquenessLevel.scheme = 'scheme';\n    /**\n     * The moniker is globally unique\n     */\n    UniquenessLevel.global = 'global';\n})(UniquenessLevel = exports.UniquenessLevel || (exports.UniquenessLevel = {}));\n/**\n * The moniker kind.\n *\n * @since 3.16.0\n */\nvar MonikerKind;\n(function (MonikerKind) {\n    /**\n     * The moniker represent a symbol that is imported into a project\n     */\n    MonikerKind.$import = 'import';\n    /**\n     * The moniker represents a symbol that is exported from a project\n     */\n    MonikerKind.$export = 'export';\n    /**\n     * The moniker represents a symbol that is local to a project (e.g. a local\n     * variable of a function, a class not visible outside the project, ...)\n     */\n    MonikerKind.local = 'local';\n})(MonikerKind = exports.MonikerKind || (exports.MonikerKind = {}));\n/**\n * A request to get the moniker of a symbol at a given text document position.\n * The request parameter is of type [TextDocumentPositionParams](#TextDocumentPositionParams).\n * The response is of type [Moniker[]](#Moniker[]) or `null`.\n */\nvar MonikerRequest;\n(function (MonikerRequest) {\n    MonikerRequest.method = 'textDocument/moniker';\n    MonikerRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    MonikerRequest.type = new messages_1.ProtocolRequestType(MonikerRequest.method);\n})(MonikerRequest = exports.MonikerRequest || (exports.MonikerRequest = {}));\n//# sourceMappingURL=protocol.moniker.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = void 0;\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\n/**\n * A notebook cell kind.\n *\n * @since 3.17.0\n */\nvar NotebookCellKind;\n(function (NotebookCellKind) {\n    /**\n     * A markup-cell is formatted source that is used for display.\n     */\n    NotebookCellKind.Markup = 1;\n    /**\n     * A code-cell is source code.\n     */\n    NotebookCellKind.Code = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    NotebookCellKind.is = is;\n})(NotebookCellKind = exports.NotebookCellKind || (exports.NotebookCellKind = {}));\nvar ExecutionSummary;\n(function (ExecutionSummary) {\n    function create(executionOrder, success) {\n        const result = { executionOrder };\n        if (success === true || success === false) {\n            result.success = success;\n        }\n        return result;\n    }\n    ExecutionSummary.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.executionOrder) && (candidate.success === undefined || Is.boolean(candidate.success));\n    }\n    ExecutionSummary.is = is;\n    function equals(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        return one.executionOrder === other.executionOrder && one.success === other.success;\n    }\n    ExecutionSummary.equals = equals;\n})(ExecutionSummary = exports.ExecutionSummary || (exports.ExecutionSummary = {}));\nvar NotebookCell;\n(function (NotebookCell) {\n    function create(kind, document) {\n        return { kind, document };\n    }\n    NotebookCell.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && NotebookCellKind.is(candidate.kind) && vscode_languageserver_types_1.DocumentUri.is(candidate.document) &&\n            (candidate.metadata === undefined || Is.objectLiteral(candidate.metadata));\n    }\n    NotebookCell.is = is;\n    function diff(one, two) {\n        const result = new Set();\n        if (one.document !== two.document) {\n            result.add('document');\n        }\n        if (one.kind !== two.kind) {\n            result.add('kind');\n        }\n        if (one.executionSummary !== two.executionSummary) {\n            result.add('executionSummary');\n        }\n        if ((one.metadata !== undefined || two.metadata !== undefined) && !equalsMetadata(one.metadata, two.metadata)) {\n            result.add('metadata');\n        }\n        if ((one.executionSummary !== undefined || two.executionSummary !== undefined) && !ExecutionSummary.equals(one.executionSummary, two.executionSummary)) {\n            result.add('executionSummary');\n        }\n        return result;\n    }\n    NotebookCell.diff = diff;\n    function equalsMetadata(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        if (typeof one !== typeof other) {\n            return false;\n        }\n        if (typeof one !== 'object') {\n            return false;\n        }\n        const oneArray = Array.isArray(one);\n        const otherArray = Array.isArray(other);\n        if (oneArray !== otherArray) {\n            return false;\n        }\n        if (oneArray && otherArray) {\n            if (one.length !== other.length) {\n                return false;\n            }\n            for (let i = 0; i < one.length; i++) {\n                if (!equalsMetadata(one[i], other[i])) {\n                    return false;\n                }\n            }\n        }\n        if (Is.objectLiteral(one) && Is.objectLiteral(other)) {\n            const oneKeys = Object.keys(one);\n            const otherKeys = Object.keys(other);\n            if (oneKeys.length !== otherKeys.length) {\n                return false;\n            }\n            oneKeys.sort();\n            otherKeys.sort();\n            if (!equalsMetadata(oneKeys, otherKeys)) {\n                return false;\n            }\n            for (let i = 0; i < oneKeys.length; i++) {\n                const prop = oneKeys[i];\n                if (!equalsMetadata(one[prop], other[prop])) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n})(NotebookCell = exports.NotebookCell || (exports.NotebookCell = {}));\nvar NotebookDocument;\n(function (NotebookDocument) {\n    function create(uri, notebookType, version, cells) {\n        return { uri, notebookType, version, cells };\n    }\n    NotebookDocument.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.uri) && vscode_languageserver_types_1.integer.is(candidate.version) && Is.typedArray(candidate.cells, NotebookCell.is);\n    }\n    NotebookDocument.is = is;\n})(NotebookDocument = exports.NotebookDocument || (exports.NotebookDocument = {}));\nvar NotebookDocumentSyncRegistrationType;\n(function (NotebookDocumentSyncRegistrationType) {\n    NotebookDocumentSyncRegistrationType.method = 'notebookDocument/sync';\n    NotebookDocumentSyncRegistrationType.messageDirection = messages_1.MessageDirection.clientToServer;\n    NotebookDocumentSyncRegistrationType.type = new messages_1.RegistrationType(NotebookDocumentSyncRegistrationType.method);\n})(NotebookDocumentSyncRegistrationType = exports.NotebookDocumentSyncRegistrationType || (exports.NotebookDocumentSyncRegistrationType = {}));\n/**\n * A notification sent when a notebook opens.\n *\n * @since 3.17.0\n */\nvar DidOpenNotebookDocumentNotification;\n(function (DidOpenNotebookDocumentNotification) {\n    DidOpenNotebookDocumentNotification.method = 'notebookDocument/didOpen';\n    DidOpenNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidOpenNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenNotebookDocumentNotification.method);\n    DidOpenNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidOpenNotebookDocumentNotification = exports.DidOpenNotebookDocumentNotification || (exports.DidOpenNotebookDocumentNotification = {}));\nvar NotebookCellArrayChange;\n(function (NotebookCellArrayChange) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.start) && vscode_languageserver_types_1.uinteger.is(candidate.deleteCount) && (candidate.cells === undefined || Is.typedArray(candidate.cells, NotebookCell.is));\n    }\n    NotebookCellArrayChange.is = is;\n    function create(start, deleteCount, cells) {\n        const result = { start, deleteCount };\n        if (cells !== undefined) {\n            result.cells = cells;\n        }\n        return result;\n    }\n    NotebookCellArrayChange.create = create;\n})(NotebookCellArrayChange = exports.NotebookCellArrayChange || (exports.NotebookCellArrayChange = {}));\nvar DidChangeNotebookDocumentNotification;\n(function (DidChangeNotebookDocumentNotification) {\n    DidChangeNotebookDocumentNotification.method = 'notebookDocument/didChange';\n    DidChangeNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeNotebookDocumentNotification.method);\n    DidChangeNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidChangeNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification || (exports.DidChangeNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook document is saved.\n *\n * @since 3.17.0\n */\nvar DidSaveNotebookDocumentNotification;\n(function (DidSaveNotebookDocumentNotification) {\n    DidSaveNotebookDocumentNotification.method = 'notebookDocument/didSave';\n    DidSaveNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidSaveNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveNotebookDocumentNotification.method);\n    DidSaveNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidSaveNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification || (exports.DidSaveNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook closes.\n *\n * @since 3.17.0\n */\nvar DidCloseNotebookDocumentNotification;\n(function (DidCloseNotebookDocumentNotification) {\n    DidCloseNotebookDocumentNotification.method = 'notebookDocument/didClose';\n    DidCloseNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCloseNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseNotebookDocumentNotification.method);\n    DidCloseNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidCloseNotebookDocumentNotification = exports.DidCloseNotebookDocumentNotification || (exports.DidCloseNotebookDocumentNotification = {}));\n//# sourceMappingURL=protocol.notebook.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst messages_1 = require(\"./messages\");\nvar WorkDoneProgress;\n(function (WorkDoneProgress) {\n    WorkDoneProgress.type = new vscode_jsonrpc_1.ProgressType();\n    function is(value) {\n        return value === WorkDoneProgress.type;\n    }\n    WorkDoneProgress.is = is;\n})(WorkDoneProgress = exports.WorkDoneProgress || (exports.WorkDoneProgress = {}));\n/**\n * The `window/workDoneProgress/create` request is sent from the server to the client to initiate progress\n * reporting from the server.\n */\nvar WorkDoneProgressCreateRequest;\n(function (WorkDoneProgressCreateRequest) {\n    WorkDoneProgressCreateRequest.method = 'window/workDoneProgress/create';\n    WorkDoneProgressCreateRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    WorkDoneProgressCreateRequest.type = new messages_1.ProtocolRequestType(WorkDoneProgressCreateRequest.method);\n})(WorkDoneProgressCreateRequest = exports.WorkDoneProgressCreateRequest || (exports.WorkDoneProgressCreateRequest = {}));\n/**\n * The `window/workDoneProgress/cancel` notification is sent from  the client to the server to cancel a progress\n * initiated on the server side.\n */\nvar WorkDoneProgressCancelNotification;\n(function (WorkDoneProgressCancelNotification) {\n    WorkDoneProgressCancelNotification.method = 'window/workDoneProgress/cancel';\n    WorkDoneProgressCancelNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkDoneProgressCancelNotification.type = new messages_1.ProtocolNotificationType(WorkDoneProgressCancelNotification.method);\n})(WorkDoneProgressCancelNotification = exports.WorkDoneProgressCancelNotification || (exports.WorkDoneProgressCancelNotification = {}));\n//# sourceMappingURL=protocol.progress.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectionRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide selection ranges in a document. The request's\n * parameter is of type [SelectionRangeParams](#SelectionRangeParams), the\n * response is of type [SelectionRange[]](#SelectionRange[]) or a Thenable\n * that resolves to such.\n */\nvar SelectionRangeRequest;\n(function (SelectionRangeRequest) {\n    SelectionRangeRequest.method = 'textDocument/selectionRange';\n    SelectionRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SelectionRangeRequest.type = new messages_1.ProtocolRequestType(SelectionRangeRequest.method);\n})(SelectionRangeRequest = exports.SelectionRangeRequest || (exports.SelectionRangeRequest = {}));\n//# sourceMappingURL=protocol.selectionRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.SemanticTokensRegistrationType = exports.TokenFormat = void 0;\nconst messages_1 = require(\"./messages\");\n//------- 'textDocument/semanticTokens' -----\nvar TokenFormat;\n(function (TokenFormat) {\n    TokenFormat.Relative = 'relative';\n})(TokenFormat = exports.TokenFormat || (exports.TokenFormat = {}));\nvar SemanticTokensRegistrationType;\n(function (SemanticTokensRegistrationType) {\n    SemanticTokensRegistrationType.method = 'textDocument/semanticTokens';\n    SemanticTokensRegistrationType.type = new messages_1.RegistrationType(SemanticTokensRegistrationType.method);\n})(SemanticTokensRegistrationType = exports.SemanticTokensRegistrationType || (exports.SemanticTokensRegistrationType = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRequest;\n(function (SemanticTokensRequest) {\n    SemanticTokensRequest.method = 'textDocument/semanticTokens/full';\n    SemanticTokensRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRequest.method);\n    SemanticTokensRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensRequest = exports.SemanticTokensRequest || (exports.SemanticTokensRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensDeltaRequest;\n(function (SemanticTokensDeltaRequest) {\n    SemanticTokensDeltaRequest.method = 'textDocument/semanticTokens/full/delta';\n    SemanticTokensDeltaRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensDeltaRequest.type = new messages_1.ProtocolRequestType(SemanticTokensDeltaRequest.method);\n    SemanticTokensDeltaRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensDeltaRequest = exports.SemanticTokensDeltaRequest || (exports.SemanticTokensDeltaRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRangeRequest;\n(function (SemanticTokensRangeRequest) {\n    SemanticTokensRangeRequest.method = 'textDocument/semanticTokens/range';\n    SemanticTokensRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRangeRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRangeRequest.method);\n    SemanticTokensRangeRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensRangeRequest = exports.SemanticTokensRangeRequest || (exports.SemanticTokensRangeRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRefreshRequest;\n(function (SemanticTokensRefreshRequest) {\n    SemanticTokensRefreshRequest.method = `workspace/semanticTokens/refresh`;\n    SemanticTokensRefreshRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRefreshRequest.type = new messages_1.ProtocolRequestType0(SemanticTokensRefreshRequest.method);\n})(SemanticTokensRefreshRequest = exports.SemanticTokensRefreshRequest || (exports.SemanticTokensRefreshRequest = {}));\n//# sourceMappingURL=protocol.semanticTokens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to show a document. This request might open an\n * external program depending on the value of the URI to open.\n * For example a request to open `https://code.visualstudio.com/`\n * will very likely open the URI in a WEB browser.\n *\n * @since 3.16.0\n*/\nvar ShowDocumentRequest;\n(function (ShowDocumentRequest) {\n    ShowDocumentRequest.method = 'window/showDocument';\n    ShowDocumentRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowDocumentRequest.type = new messages_1.ProtocolRequestType(ShowDocumentRequest.method);\n})(ShowDocumentRequest = exports.ShowDocumentRequest || (exports.ShowDocumentRequest = {}));\n//# sourceMappingURL=protocol.showDocument.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeDefinitionRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositioParams]\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\n * Thenable that resolves to such.\n */\nvar TypeDefinitionRequest;\n(function (TypeDefinitionRequest) {\n    TypeDefinitionRequest.method = 'textDocument/typeDefinition';\n    TypeDefinitionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeDefinitionRequest.type = new messages_1.ProtocolRequestType(TypeDefinitionRequest.method);\n})(TypeDefinitionRequest = exports.TypeDefinitionRequest || (exports.TypeDefinitionRequest = {}));\n//# sourceMappingURL=protocol.typeDefinition.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchySubtypesRequest = exports.TypeHierarchySupertypesRequest = exports.TypeHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `TypeHierarchyItem` in a document at a given position.\n * Can be used as an input to a subtypes or supertypes type hierarchy.\n *\n * @since 3.17.0\n */\nvar TypeHierarchyPrepareRequest;\n(function (TypeHierarchyPrepareRequest) {\n    TypeHierarchyPrepareRequest.method = 'textDocument/prepareTypeHierarchy';\n    TypeHierarchyPrepareRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(TypeHierarchyPrepareRequest.method);\n})(TypeHierarchyPrepareRequest = exports.TypeHierarchyPrepareRequest || (exports.TypeHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the supertypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySupertypesRequest;\n(function (TypeHierarchySupertypesRequest) {\n    TypeHierarchySupertypesRequest.method = 'typeHierarchy/supertypes';\n    TypeHierarchySupertypesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchySupertypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySupertypesRequest.method);\n})(TypeHierarchySupertypesRequest = exports.TypeHierarchySupertypesRequest || (exports.TypeHierarchySupertypesRequest = {}));\n/**\n * A request to resolve the subtypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySubtypesRequest;\n(function (TypeHierarchySubtypesRequest) {\n    TypeHierarchySubtypesRequest.method = 'typeHierarchy/subtypes';\n    TypeHierarchySubtypesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchySubtypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySubtypesRequest.method);\n})(TypeHierarchySubtypesRequest = exports.TypeHierarchySubtypesRequest || (exports.TypeHierarchySubtypesRequest = {}));\n//# sourceMappingURL=protocol.typeHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\n */\nvar WorkspaceFoldersRequest;\n(function (WorkspaceFoldersRequest) {\n    WorkspaceFoldersRequest.method = 'workspace/workspaceFolders';\n    WorkspaceFoldersRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    WorkspaceFoldersRequest.type = new messages_1.ProtocolRequestType0(WorkspaceFoldersRequest.method);\n})(WorkspaceFoldersRequest = exports.WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = {}));\n/**\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\n * folder configuration changes.\n */\nvar DidChangeWorkspaceFoldersNotification;\n(function (DidChangeWorkspaceFoldersNotification) {\n    DidChangeWorkspaceFoldersNotification.method = 'workspace/didChangeWorkspaceFolders';\n    DidChangeWorkspaceFoldersNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeWorkspaceFoldersNotification.type = new messages_1.ProtocolNotificationType(DidChangeWorkspaceFoldersNotification.method);\n})(DidChangeWorkspaceFoldersNotification = exports.DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = {}));\n//# sourceMappingURL=protocol.workspaceFolder.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.objectLiteral = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction objectLiteral(value) {\n    // Strictly speaking class instances pass this check as well. Since the LSP\n    // doesn't use classes we ignore this for now. If we do we need to add something\n    // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n    return value !== null && typeof value === 'object';\n}\nexports.objectLiteral = objectLiteral;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst node_1 = require(\"vscode-jsonrpc/node\");\n__exportStar(require(\"vscode-jsonrpc/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nfunction createProtocolConnection(input, output, logger, options) {\n    return (0, node_1.createMessageConnection)(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n//# sourceMappingURL=main.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nclass FullTextDocument {\n    constructor(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    get uri() {\n        return this._uri;\n    }\n    get languageId() {\n        return this._languageId;\n    }\n    get version() {\n        return this._version;\n    }\n    getText(range) {\n        if (range) {\n            const start = this.offsetAt(range.start);\n            const end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    }\n    update(changes, version) {\n        for (let change of changes) {\n            if (FullTextDocument.isIncremental(change)) {\n                // makes sure start is before end\n                const range = getWellformedRange(change.range);\n                // update content\n                const startOffset = this.offsetAt(range.start);\n                const endOffset = this.offsetAt(range.end);\n                this._content = this._content.substring(0, startOffset) + change.text + this._content.substring(endOffset, this._content.length);\n                // update the offsets\n                const startLine = Math.max(range.start.line, 0);\n                const endLine = Math.max(range.end.line, 0);\n                let lineOffsets = this._lineOffsets;\n                const addedLineOffsets = computeLineOffsets(change.text, false, startOffset);\n                if (endLine - startLine === addedLineOffsets.length) {\n                    for (let i = 0, len = addedLineOffsets.length; i < len; i++) {\n                        lineOffsets[i + startLine + 1] = addedLineOffsets[i];\n                    }\n                }\n                else {\n                    if (addedLineOffsets.length < 10000) {\n                        lineOffsets.splice(startLine + 1, endLine - startLine, ...addedLineOffsets);\n                    }\n                    else { // avoid too many arguments for splice\n                        this._lineOffsets = lineOffsets = lineOffsets.slice(0, startLine + 1).concat(addedLineOffsets, lineOffsets.slice(endLine + 1));\n                    }\n                }\n                const diff = change.text.length - (endOffset - startOffset);\n                if (diff !== 0) {\n                    for (let i = startLine + 1 + addedLineOffsets.length, len = lineOffsets.length; i < len; i++) {\n                        lineOffsets[i] = lineOffsets[i] + diff;\n                    }\n                }\n            }\n            else if (FullTextDocument.isFull(change)) {\n                this._content = change.text;\n                this._lineOffsets = undefined;\n            }\n            else {\n                throw new Error('Unknown change event received');\n            }\n        }\n        this._version = version;\n    }\n    getLineOffsets() {\n        if (this._lineOffsets === undefined) {\n            this._lineOffsets = computeLineOffsets(this._content, true);\n        }\n        return this._lineOffsets;\n    }\n    positionAt(offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        let lineOffsets = this.getLineOffsets();\n        let low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return { line: 0, character: offset };\n        }\n        while (low < high) {\n            let mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        let line = low - 1;\n        return { line, character: offset - lineOffsets[line] };\n    }\n    offsetAt(position) {\n        let lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        let lineOffset = lineOffsets[position.line];\n        let nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    }\n    get lineCount() {\n        return this.getLineOffsets().length;\n    }\n    static isIncremental(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    static isFull(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n}\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new text document.\n     *\n     * @param uri The document's uri.\n     * @param languageId  The document's language Id.\n     * @param version The document's initial version number.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Updates a TextDocument by modifying its content.\n     *\n     * @param document the document to update. Only documents created by TextDocument.create are valid inputs.\n     * @param changes the changes to apply to the document.\n     * @param version the changes version for the document.\n     * @returns The updated TextDocument. Note: That's the same document instance passed in as first parameter.\n     *\n     */\n    function update(document, changes, version) {\n        if (document instanceof FullTextDocument) {\n            document.update(changes, version);\n            return document;\n        }\n        else {\n            throw new Error('TextDocument.update: document must be created by TextDocument.create');\n        }\n    }\n    TextDocument.update = update;\n    function applyEdits(document, edits) {\n        let text = document.getText();\n        let sortedEdits = mergeSort(edits.map(getWellformedEdit), (a, b) => {\n            let diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        let lastModifiedOffset = 0;\n        const spans = [];\n        for (const e of sortedEdits) {\n            let startOffset = document.offsetAt(e.range.start);\n            if (startOffset < lastModifiedOffset) {\n                throw new Error('Overlapping edit');\n            }\n            else if (startOffset > lastModifiedOffset) {\n                spans.push(text.substring(lastModifiedOffset, startOffset));\n            }\n            if (e.newText.length) {\n                spans.push(e.newText);\n            }\n            lastModifiedOffset = document.offsetAt(e.range.end);\n        }\n        spans.push(text.substr(lastModifiedOffset));\n        return spans.join('');\n    }\n    TextDocument.applyEdits = applyEdits;\n})(TextDocument || (TextDocument = {}));\nfunction mergeSort(data, compare) {\n    if (data.length <= 1) {\n        // sorted\n        return data;\n    }\n    const p = (data.length / 2) | 0;\n    const left = data.slice(0, p);\n    const right = data.slice(p);\n    mergeSort(left, compare);\n    mergeSort(right, compare);\n    let leftIdx = 0;\n    let rightIdx = 0;\n    let i = 0;\n    while (leftIdx < left.length && rightIdx < right.length) {\n        let ret = compare(left[leftIdx], right[rightIdx]);\n        if (ret <= 0) {\n            // smaller_equal -> take left to preserve order\n            data[i++] = left[leftIdx++];\n        }\n        else {\n            // greater -> take right\n            data[i++] = right[rightIdx++];\n        }\n    }\n    while (leftIdx < left.length) {\n        data[i++] = left[leftIdx++];\n    }\n    while (rightIdx < right.length) {\n        data[i++] = right[rightIdx++];\n    }\n    return data;\n}\nfunction computeLineOffsets(text, isAtLineStart, textOffset = 0) {\n    const result = isAtLineStart ? [textOffset] : [];\n    for (let i = 0; i < text.length; i++) {\n        let ch = text.charCodeAt(i);\n        if (ch === 13 /* CharCode.CarriageReturn */ || ch === 10 /* CharCode.LineFeed */) {\n            if (ch === 13 /* CharCode.CarriageReturn */ && i + 1 < text.length && text.charCodeAt(i + 1) === 10 /* CharCode.LineFeed */) {\n                i++;\n            }\n            result.push(textOffset + i + 1);\n        }\n    }\n    return result;\n}\nfunction getWellformedRange(range) {\n    const start = range.start;\n    const end = range.end;\n    if (start.line > end.line || (start.line === end.line && start.character > end.character)) {\n        return { start: end, end: start };\n    }\n    return range;\n}\nfunction getWellformedEdit(textEdit) {\n    const range = getWellformedRange(textEdit.range);\n    if (range !== textEdit.range) {\n        return { newText: textEdit.newText, range };\n    }\n    return textEdit;\n}\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nexport var DocumentUri;\n(function (DocumentUri) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    DocumentUri.is = is;\n})(DocumentUri || (DocumentUri = {}));\nexport var URI;\n(function (URI) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    URI.is = is;\n})(URI || (URI = {}));\nexport var integer;\n(function (integer) {\n    integer.MIN_VALUE = -2147483648;\n    integer.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && integer.MIN_VALUE <= value && value <= integer.MAX_VALUE;\n    }\n    integer.is = is;\n})(integer || (integer = {}));\nexport var uinteger;\n(function (uinteger) {\n    uinteger.MIN_VALUE = 0;\n    uinteger.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && uinteger.MIN_VALUE <= value && value <= uinteger.MAX_VALUE;\n    }\n    uinteger.is = is;\n})(uinteger || (uinteger = {}));\n/**\n * The Position namespace provides helper functions to work with\n * [Position](#Position) literals.\n */\nexport var Position;\n(function (Position) {\n    /**\n     * Creates a new Position literal from the given line and character.\n     * @param line The position's line.\n     * @param character The position's character.\n     */\n    function create(line, character) {\n        if (line === Number.MAX_VALUE) {\n            line = uinteger.MAX_VALUE;\n        }\n        if (character === Number.MAX_VALUE) {\n            character = uinteger.MAX_VALUE;\n        }\n        return { line: line, character: character };\n    }\n    Position.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Position](#Position) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);\n    }\n    Position.is = is;\n})(Position || (Position = {}));\n/**\n * The Range namespace provides helper functions to work with\n * [Range](#Range) literals.\n */\nexport var Range;\n(function (Range) {\n    function create(one, two, three, four) {\n        if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {\n            return { start: Position.create(one, two), end: Position.create(three, four) };\n        }\n        else if (Position.is(one) && Position.is(two)) {\n            return { start: one, end: two };\n        }\n        else {\n            throw new Error(\"Range#create called with invalid arguments[\".concat(one, \", \").concat(two, \", \").concat(three, \", \").concat(four, \"]\"));\n        }\n    }\n    Range.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Range](#Range) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n    }\n    Range.is = is;\n})(Range || (Range = {}));\n/**\n * The Location namespace provides helper functions to work with\n * [Location](#Location) literals.\n */\nexport var Location;\n(function (Location) {\n    /**\n     * Creates a Location literal.\n     * @param uri The location's uri.\n     * @param range The location's range.\n     */\n    function create(uri, range) {\n        return { uri: uri, range: range };\n    }\n    Location.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Location](#Location) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n    }\n    Location.is = is;\n})(Location || (Location = {}));\n/**\n * The LocationLink namespace provides helper functions to work with\n * [LocationLink](#LocationLink) literals.\n */\nexport var LocationLink;\n(function (LocationLink) {\n    /**\n     * Creates a LocationLink literal.\n     * @param targetUri The definition's uri.\n     * @param targetRange The full range of the definition.\n     * @param targetSelectionRange The span of the symbol definition at the target.\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\n     */\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\n    }\n    LocationLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [LocationLink](#LocationLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n            && Range.is(candidate.targetSelectionRange)\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n    }\n    LocationLink.is = is;\n})(LocationLink || (LocationLink = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [Color](#Color) literals.\n */\nexport var Color;\n(function (Color) {\n    /**\n     * Creates a new Color literal.\n     */\n    function create(red, green, blue, alpha) {\n        return {\n            red: red,\n            green: green,\n            blue: blue,\n            alpha: alpha,\n        };\n    }\n    Color.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Color](#Color) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.numberRange(candidate.red, 0, 1)\n            && Is.numberRange(candidate.green, 0, 1)\n            && Is.numberRange(candidate.blue, 0, 1)\n            && Is.numberRange(candidate.alpha, 0, 1);\n    }\n    Color.is = is;\n})(Color || (Color = {}));\n/**\n * The ColorInformation namespace provides helper functions to work with\n * [ColorInformation](#ColorInformation) literals.\n */\nexport var ColorInformation;\n(function (ColorInformation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(range, color) {\n        return {\n            range: range,\n            color: color,\n        };\n    }\n    ColorInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && Color.is(candidate.color);\n    }\n    ColorInformation.is = is;\n})(ColorInformation || (ColorInformation = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [ColorPresentation](#ColorPresentation) literals.\n */\nexport var ColorPresentation;\n(function (ColorPresentation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(label, textEdit, additionalTextEdits) {\n        return {\n            label: label,\n            textEdit: textEdit,\n            additionalTextEdits: additionalTextEdits,\n        };\n    }\n    ColorPresentation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label)\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n    }\n    ColorPresentation.is = is;\n})(ColorPresentation || (ColorPresentation = {}));\n/**\n * A set of predefined range kinds.\n */\nexport var FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind.Comment = 'comment';\n    /**\n     * Folding range for an import or include\n     */\n    FoldingRangeKind.Imports = 'imports';\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind.Region = 'region';\n})(FoldingRangeKind || (FoldingRangeKind = {}));\n/**\n * The folding range namespace provides helper functions to work with\n * [FoldingRange](#FoldingRange) literals.\n */\nexport var FoldingRange;\n(function (FoldingRange) {\n    /**\n     * Creates a new FoldingRange literal.\n     */\n    function create(startLine, endLine, startCharacter, endCharacter, kind, collapsedText) {\n        var result = {\n            startLine: startLine,\n            endLine: endLine\n        };\n        if (Is.defined(startCharacter)) {\n            result.startCharacter = startCharacter;\n        }\n        if (Is.defined(endCharacter)) {\n            result.endCharacter = endCharacter;\n        }\n        if (Is.defined(kind)) {\n            result.kind = kind;\n        }\n        if (Is.defined(collapsedText)) {\n            result.collapsedText = collapsedText;\n        }\n        return result;\n    }\n    FoldingRange.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FoldingRange](#FoldingRange) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine)\n            && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter))\n            && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter))\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n    }\n    FoldingRange.is = is;\n})(FoldingRange || (FoldingRange = {}));\n/**\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\n * [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) literals.\n */\nexport var DiagnosticRelatedInformation;\n(function (DiagnosticRelatedInformation) {\n    /**\n     * Creates a new DiagnosticRelatedInformation literal.\n     */\n    function create(location, message) {\n        return {\n            location: location,\n            message: message\n        };\n    }\n    DiagnosticRelatedInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n    }\n    DiagnosticRelatedInformation.is = is;\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\n/**\n * The diagnostic's severity.\n */\nexport var DiagnosticSeverity;\n(function (DiagnosticSeverity) {\n    /**\n     * Reports an error.\n     */\n    DiagnosticSeverity.Error = 1;\n    /**\n     * Reports a warning.\n     */\n    DiagnosticSeverity.Warning = 2;\n    /**\n     * Reports an information.\n     */\n    DiagnosticSeverity.Information = 3;\n    /**\n     * Reports a hint.\n     */\n    DiagnosticSeverity.Hint = 4;\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\n/**\n * The diagnostic tags.\n *\n * @since 3.15.0\n */\nexport var DiagnosticTag;\n(function (DiagnosticTag) {\n    /**\n     * Unused or unnecessary code.\n     *\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\n     * an error squiggle.\n     */\n    DiagnosticTag.Unnecessary = 1;\n    /**\n     * Deprecated or obsolete code.\n     *\n     * Clients are allowed to rendered diagnostics with this tag strike through.\n     */\n    DiagnosticTag.Deprecated = 2;\n})(DiagnosticTag || (DiagnosticTag = {}));\n/**\n * The CodeDescription namespace provides functions to deal with descriptions for diagnostic codes.\n *\n * @since 3.16.0\n */\nexport var CodeDescription;\n(function (CodeDescription) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.href);\n    }\n    CodeDescription.is = is;\n})(CodeDescription || (CodeDescription = {}));\n/**\n * The Diagnostic namespace provides helper functions to work with\n * [Diagnostic](#Diagnostic) literals.\n */\nexport var Diagnostic;\n(function (Diagnostic) {\n    /**\n     * Creates a new Diagnostic literal.\n     */\n    function create(range, message, severity, code, source, relatedInformation) {\n        var result = { range: range, message: message };\n        if (Is.defined(severity)) {\n            result.severity = severity;\n        }\n        if (Is.defined(code)) {\n            result.code = code;\n        }\n        if (Is.defined(source)) {\n            result.source = source;\n        }\n        if (Is.defined(relatedInformation)) {\n            result.relatedInformation = relatedInformation;\n        }\n        return result;\n    }\n    Diagnostic.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\n     */\n    function is(value) {\n        var _a;\n        var candidate = value;\n        return Is.defined(candidate)\n            && Range.is(candidate.range)\n            && Is.string(candidate.message)\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n            && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n            && (Is.undefined(candidate.codeDescription) || (Is.string((_a = candidate.codeDescription) === null || _a === void 0 ? void 0 : _a.href)))\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n    }\n    Diagnostic.is = is;\n})(Diagnostic || (Diagnostic = {}));\n/**\n * The Command namespace provides helper functions to work with\n * [Command](#Command) literals.\n */\nexport var Command;\n(function (Command) {\n    /**\n     * Creates a new Command literal.\n     */\n    function create(title, command) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var result = { title: title, command: command };\n        if (Is.defined(args) && args.length > 0) {\n            result.arguments = args;\n        }\n        return result;\n    }\n    Command.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Command](#Command) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\n    }\n    Command.is = is;\n})(Command || (Command = {}));\n/**\n * The TextEdit namespace provides helper function to create replace,\n * insert and delete edits more easily.\n */\nexport var TextEdit;\n(function (TextEdit) {\n    /**\n     * Creates a replace text edit.\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     */\n    function replace(range, newText) {\n        return { range: range, newText: newText };\n    }\n    TextEdit.replace = replace;\n    /**\n     * Creates an insert text edit.\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     */\n    function insert(position, newText) {\n        return { range: { start: position, end: position }, newText: newText };\n    }\n    TextEdit.insert = insert;\n    /**\n     * Creates a delete text edit.\n     * @param range The range of text to be deleted.\n     */\n    function del(range) {\n        return { range: range, newText: '' };\n    }\n    TextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && Is.string(candidate.newText)\n            && Range.is(candidate.range);\n    }\n    TextEdit.is = is;\n})(TextEdit || (TextEdit = {}));\nexport var ChangeAnnotation;\n(function (ChangeAnnotation) {\n    function create(label, needsConfirmation, description) {\n        var result = { label: label };\n        if (needsConfirmation !== undefined) {\n            result.needsConfirmation = needsConfirmation;\n        }\n        if (description !== undefined) {\n            result.description = description;\n        }\n        return result;\n    }\n    ChangeAnnotation.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label) &&\n            (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    ChangeAnnotation.is = is;\n})(ChangeAnnotation || (ChangeAnnotation = {}));\nexport var ChangeAnnotationIdentifier;\n(function (ChangeAnnotationIdentifier) {\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate);\n    }\n    ChangeAnnotationIdentifier.is = is;\n})(ChangeAnnotationIdentifier || (ChangeAnnotationIdentifier = {}));\nexport var AnnotatedTextEdit;\n(function (AnnotatedTextEdit) {\n    /**\n     * Creates an annotated replace text edit.\n     *\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     * @param annotation The annotation.\n     */\n    function replace(range, newText, annotation) {\n        return { range: range, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.replace = replace;\n    /**\n     * Creates an annotated insert text edit.\n     *\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     * @param annotation The annotation.\n     */\n    function insert(position, newText, annotation) {\n        return { range: { start: position, end: position }, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.insert = insert;\n    /**\n     * Creates an annotated delete text edit.\n     *\n     * @param range The range of text to be deleted.\n     * @param annotation The annotation.\n     */\n    function del(range, annotation) {\n        return { range: range, newText: '', annotationId: annotation };\n    }\n    AnnotatedTextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    AnnotatedTextEdit.is = is;\n})(AnnotatedTextEdit || (AnnotatedTextEdit = {}));\n/**\n * The TextDocumentEdit namespace provides helper function to create\n * an edit that manipulates a text document.\n */\nexport var TextDocumentEdit;\n(function (TextDocumentEdit) {\n    /**\n     * Creates a new `TextDocumentEdit`\n     */\n    function create(textDocument, edits) {\n        return { textDocument: textDocument, edits: edits };\n    }\n    TextDocumentEdit.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate)\n            && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)\n            && Array.isArray(candidate.edits);\n    }\n    TextDocumentEdit.is = is;\n})(TextDocumentEdit || (TextDocumentEdit = {}));\nexport var CreateFile;\n(function (CreateFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'create',\n            uri: uri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    CreateFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    CreateFile.is = is;\n})(CreateFile || (CreateFile = {}));\nexport var RenameFile;\n(function (RenameFile) {\n    function create(oldUri, newUri, options, annotation) {\n        var result = {\n            kind: 'rename',\n            oldUri: oldUri,\n            newUri: newUri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    RenameFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    RenameFile.is = is;\n})(RenameFile || (RenameFile = {}));\nexport var DeleteFile;\n(function (DeleteFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'delete',\n            uri: uri\n        };\n        if (options !== undefined && (options.recursive !== undefined || options.ignoreIfNotExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    DeleteFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.recursive === undefined || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === undefined || Is.boolean(candidate.options.ignoreIfNotExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    DeleteFile.is = is;\n})(DeleteFile || (DeleteFile = {}));\nexport var WorkspaceEdit;\n(function (WorkspaceEdit) {\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            (candidate.changes !== undefined || candidate.documentChanges !== undefined) &&\n            (candidate.documentChanges === undefined || candidate.documentChanges.every(function (change) {\n                if (Is.string(change.kind)) {\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                }\n                else {\n                    return TextDocumentEdit.is(change);\n                }\n            }));\n    }\n    WorkspaceEdit.is = is;\n})(WorkspaceEdit || (WorkspaceEdit = {}));\nvar TextEditChangeImpl = /** @class */ (function () {\n    function TextEditChangeImpl(edits, changeAnnotations) {\n        this.edits = edits;\n        this.changeAnnotations = changeAnnotations;\n    }\n    TextEditChangeImpl.prototype.insert = function (position, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.insert(position, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.insert(position, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.insert(position, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.replace = function (range, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.replace(range, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.replace(range, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.replace(range, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.delete = function (range, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.del(range);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.del(range, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.del(range, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.add = function (edit) {\n        this.edits.push(edit);\n    };\n    TextEditChangeImpl.prototype.all = function () {\n        return this.edits;\n    };\n    TextEditChangeImpl.prototype.clear = function () {\n        this.edits.splice(0, this.edits.length);\n    };\n    TextEditChangeImpl.prototype.assertChangeAnnotations = function (value) {\n        if (value === undefined) {\n            throw new Error(\"Text edit change is not configured to manage change annotations.\");\n        }\n    };\n    return TextEditChangeImpl;\n}());\n/**\n * A helper class\n */\nvar ChangeAnnotations = /** @class */ (function () {\n    function ChangeAnnotations(annotations) {\n        this._annotations = annotations === undefined ? Object.create(null) : annotations;\n        this._counter = 0;\n        this._size = 0;\n    }\n    ChangeAnnotations.prototype.all = function () {\n        return this._annotations;\n    };\n    Object.defineProperty(ChangeAnnotations.prototype, \"size\", {\n        get: function () {\n            return this._size;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ChangeAnnotations.prototype.manage = function (idOrAnnotation, annotation) {\n        var id;\n        if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {\n            id = idOrAnnotation;\n        }\n        else {\n            id = this.nextId();\n            annotation = idOrAnnotation;\n        }\n        if (this._annotations[id] !== undefined) {\n            throw new Error(\"Id \".concat(id, \" is already in use.\"));\n        }\n        if (annotation === undefined) {\n            throw new Error(\"No annotation provided for id \".concat(id));\n        }\n        this._annotations[id] = annotation;\n        this._size++;\n        return id;\n    };\n    ChangeAnnotations.prototype.nextId = function () {\n        this._counter++;\n        return this._counter.toString();\n    };\n    return ChangeAnnotations;\n}());\n/**\n * A workspace change helps constructing changes to a workspace.\n */\nvar WorkspaceChange = /** @class */ (function () {\n    function WorkspaceChange(workspaceEdit) {\n        var _this = this;\n        this._textEditChanges = Object.create(null);\n        if (workspaceEdit !== undefined) {\n            this._workspaceEdit = workspaceEdit;\n            if (workspaceEdit.documentChanges) {\n                this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);\n                workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                workspaceEdit.documentChanges.forEach(function (change) {\n                    if (TextDocumentEdit.is(change)) {\n                        var textEditChange = new TextEditChangeImpl(change.edits, _this._changeAnnotations);\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\n                    }\n                });\n            }\n            else if (workspaceEdit.changes) {\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                    _this._textEditChanges[key] = textEditChange;\n                });\n            }\n        }\n        else {\n            this._workspaceEdit = {};\n        }\n    }\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\n        /**\n         * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\n         * use to be returned from a workspace edit operation like rename.\n         */\n        get: function () {\n            this.initDocumentChanges();\n            if (this._changeAnnotations !== undefined) {\n                if (this._changeAnnotations.size === 0) {\n                    this._workspaceEdit.changeAnnotations = undefined;\n                }\n                else {\n                    this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                }\n            }\n            return this._workspaceEdit;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\n        if (OptionalVersionedTextDocumentIdentifier.is(key)) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var textDocument = { uri: key.uri, version: key.version };\n            var result = this._textEditChanges[textDocument.uri];\n            if (!result) {\n                var edits = [];\n                var textDocumentEdit = {\n                    textDocument: textDocument,\n                    edits: edits\n                };\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                result = new TextEditChangeImpl(edits, this._changeAnnotations);\n                this._textEditChanges[textDocument.uri] = result;\n            }\n            return result;\n        }\n        else {\n            this.initChanges();\n            if (this._workspaceEdit.changes === undefined) {\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\n            }\n            var result = this._textEditChanges[key];\n            if (!result) {\n                var edits = [];\n                this._workspaceEdit.changes[key] = edits;\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[key] = result;\n            }\n            return result;\n        }\n    };\n    WorkspaceChange.prototype.initDocumentChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._changeAnnotations = new ChangeAnnotations();\n            this._workspaceEdit.documentChanges = [];\n            this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n        }\n    };\n    WorkspaceChange.prototype.initChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._workspaceEdit.changes = Object.create(null);\n        }\n    };\n    WorkspaceChange.prototype.createFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = CreateFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = CreateFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = RenameFile.create(oldUri, newUri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = RenameFile.create(oldUri, newUri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.deleteFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = DeleteFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = DeleteFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    return WorkspaceChange;\n}());\nexport { WorkspaceChange };\n/**\n * The TextDocumentIdentifier namespace provides helper functions to work with\n * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\n */\nexport var TextDocumentIdentifier;\n(function (TextDocumentIdentifier) {\n    /**\n     * Creates a new TextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     */\n    function create(uri) {\n        return { uri: uri };\n    }\n    TextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri);\n    }\n    TextDocumentIdentifier.is = is;\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\n/**\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\n */\nexport var VersionedTextDocumentIdentifier;\n(function (VersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new VersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    VersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);\n    }\n    VersionedTextDocumentIdentifier.is = is;\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\n/**\n * The OptionalVersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) literals.\n */\nexport var OptionalVersionedTextDocumentIdentifier;\n(function (OptionalVersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new OptionalVersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    OptionalVersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));\n    }\n    OptionalVersionedTextDocumentIdentifier.is = is;\n})(OptionalVersionedTextDocumentIdentifier || (OptionalVersionedTextDocumentIdentifier = {}));\n/**\n * The TextDocumentItem namespace provides helper functions to work with\n * [TextDocumentItem](#TextDocumentItem) literals.\n */\nexport var TextDocumentItem;\n(function (TextDocumentItem) {\n    /**\n     * Creates a new TextDocumentItem literal.\n     * @param uri The document's uri.\n     * @param languageId The document's language identifier.\n     * @param version The document's version number.\n     * @param text The document's text.\n     */\n    function create(uri, languageId, version, text) {\n        return { uri: uri, languageId: languageId, version: version, text: text };\n    }\n    TextDocumentItem.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);\n    }\n    TextDocumentItem.is = is;\n})(TextDocumentItem || (TextDocumentItem = {}));\n/**\n * Describes the content type that a client supports in various\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n *\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\n * are reserved for internal usage.\n */\nexport var MarkupKind;\n(function (MarkupKind) {\n    /**\n     * Plain text is supported as a content format\n     */\n    MarkupKind.PlainText = 'plaintext';\n    /**\n     * Markdown is supported as a content format\n     */\n    MarkupKind.Markdown = 'markdown';\n    /**\n     * Checks whether the given value is a value of the [MarkupKind](#MarkupKind) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n    }\n    MarkupKind.is = is;\n})(MarkupKind || (MarkupKind = {}));\nexport var MarkupContent;\n(function (MarkupContent) {\n    /**\n     * Checks whether the given value conforms to the [MarkupContent](#MarkupContent) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n    }\n    MarkupContent.is = is;\n})(MarkupContent || (MarkupContent = {}));\n/**\n * The kind of a completion entry.\n */\nexport var CompletionItemKind;\n(function (CompletionItemKind) {\n    CompletionItemKind.Text = 1;\n    CompletionItemKind.Method = 2;\n    CompletionItemKind.Function = 3;\n    CompletionItemKind.Constructor = 4;\n    CompletionItemKind.Field = 5;\n    CompletionItemKind.Variable = 6;\n    CompletionItemKind.Class = 7;\n    CompletionItemKind.Interface = 8;\n    CompletionItemKind.Module = 9;\n    CompletionItemKind.Property = 10;\n    CompletionItemKind.Unit = 11;\n    CompletionItemKind.Value = 12;\n    CompletionItemKind.Enum = 13;\n    CompletionItemKind.Keyword = 14;\n    CompletionItemKind.Snippet = 15;\n    CompletionItemKind.Color = 16;\n    CompletionItemKind.File = 17;\n    CompletionItemKind.Reference = 18;\n    CompletionItemKind.Folder = 19;\n    CompletionItemKind.EnumMember = 20;\n    CompletionItemKind.Constant = 21;\n    CompletionItemKind.Struct = 22;\n    CompletionItemKind.Event = 23;\n    CompletionItemKind.Operator = 24;\n    CompletionItemKind.TypeParameter = 25;\n})(CompletionItemKind || (CompletionItemKind = {}));\n/**\n * Defines whether the insert text in a completion item should be interpreted as\n * plain text or a snippet.\n */\nexport var InsertTextFormat;\n(function (InsertTextFormat) {\n    /**\n     * The primary text to be inserted is treated as a plain string.\n     */\n    InsertTextFormat.PlainText = 1;\n    /**\n     * The primary text to be inserted is treated as a snippet.\n     *\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n     * the end of the snippet. Placeholders with equal identifiers are linked,\n     * that is typing in one will update others too.\n     *\n     * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n     */\n    InsertTextFormat.Snippet = 2;\n})(InsertTextFormat || (InsertTextFormat = {}));\n/**\n * Completion item tags are extra annotations that tweak the rendering of a completion\n * item.\n *\n * @since 3.15.0\n */\nexport var CompletionItemTag;\n(function (CompletionItemTag) {\n    /**\n     * Render a completion as obsolete, usually using a strike-out.\n     */\n    CompletionItemTag.Deprecated = 1;\n})(CompletionItemTag || (CompletionItemTag = {}));\n/**\n * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n *\n * @since 3.16.0\n */\nexport var InsertReplaceEdit;\n(function (InsertReplaceEdit) {\n    /**\n     * Creates a new insert / replace edit\n     */\n    function create(newText, insert, replace) {\n        return { newText: newText, insert: insert, replace: replace };\n    }\n    InsertReplaceEdit.create = create;\n    /**\n     * Checks whether the given literal conforms to the [InsertReplaceEdit](#InsertReplaceEdit) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n    }\n    InsertReplaceEdit.is = is;\n})(InsertReplaceEdit || (InsertReplaceEdit = {}));\n/**\n * How whitespace and indentation is handled during completion\n * item insertion.\n *\n * @since 3.16.0\n */\nexport var InsertTextMode;\n(function (InsertTextMode) {\n    /**\n     * The insertion or replace strings is taken as it is. If the\n     * value is multi line the lines below the cursor will be\n     * inserted using the indentation defined in the string value.\n     * The client will not apply any kind of adjustments to the\n     * string.\n     */\n    InsertTextMode.asIs = 1;\n    /**\n     * The editor adjusts leading whitespace of new lines so that\n     * they match the indentation up to the cursor of the line for\n     * which the item is accepted.\n     *\n     * Consider a line like this: <2tabs><cursor><3tabs>foo. Accepting a\n     * multi line completion item is indented using 2 tabs and all\n     * following lines inserted will be indented using 2 tabs as well.\n     */\n    InsertTextMode.adjustIndentation = 2;\n})(InsertTextMode || (InsertTextMode = {}));\nexport var CompletionItemLabelDetails;\n(function (CompletionItemLabelDetails) {\n    function is(value) {\n        var candidate = value;\n        return candidate && (Is.string(candidate.detail) || candidate.detail === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    CompletionItemLabelDetails.is = is;\n})(CompletionItemLabelDetails || (CompletionItemLabelDetails = {}));\n/**\n * The CompletionItem namespace provides functions to deal with\n * completion items.\n */\nexport var CompletionItem;\n(function (CompletionItem) {\n    /**\n     * Create a completion item and seed it with a label.\n     * @param label The completion item's label\n     */\n    function create(label) {\n        return { label: label };\n    }\n    CompletionItem.create = create;\n})(CompletionItem || (CompletionItem = {}));\n/**\n * The CompletionList namespace provides functions to deal with\n * completion lists.\n */\nexport var CompletionList;\n(function (CompletionList) {\n    /**\n     * Creates a new completion list.\n     *\n     * @param items The completion items.\n     * @param isIncomplete The list is not complete.\n     */\n    function create(items, isIncomplete) {\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\n    }\n    CompletionList.create = create;\n})(CompletionList || (CompletionList = {}));\nexport var MarkedString;\n(function (MarkedString) {\n    /**\n     * Creates a marked string from plain text.\n     *\n     * @param plainText The plain text.\n     */\n    function fromPlainText(plainText) {\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    MarkedString.fromPlainText = fromPlainText;\n    /**\n     * Checks whether the given value conforms to the [MarkedString](#MarkedString) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n    }\n    MarkedString.is = is;\n})(MarkedString || (MarkedString = {}));\nexport var Hover;\n(function (Hover) {\n    /**\n     * Checks whether the given value conforms to the [Hover](#Hover) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n            MarkedString.is(candidate.contents) ||\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === undefined || Range.is(value.range));\n    }\n    Hover.is = is;\n})(Hover || (Hover = {}));\n/**\n * The ParameterInformation namespace provides helper functions to work with\n * [ParameterInformation](#ParameterInformation) literals.\n */\nexport var ParameterInformation;\n(function (ParameterInformation) {\n    /**\n     * Creates a new parameter information literal.\n     *\n     * @param label A label string.\n     * @param documentation A doc string.\n     */\n    function create(label, documentation) {\n        return documentation ? { label: label, documentation: documentation } : { label: label };\n    }\n    ParameterInformation.create = create;\n})(ParameterInformation || (ParameterInformation = {}));\n/**\n * The SignatureInformation namespace provides helper functions to work with\n * [SignatureInformation](#SignatureInformation) literals.\n */\nexport var SignatureInformation;\n(function (SignatureInformation) {\n    function create(label, documentation) {\n        var parameters = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            parameters[_i - 2] = arguments[_i];\n        }\n        var result = { label: label };\n        if (Is.defined(documentation)) {\n            result.documentation = documentation;\n        }\n        if (Is.defined(parameters)) {\n            result.parameters = parameters;\n        }\n        else {\n            result.parameters = [];\n        }\n        return result;\n    }\n    SignatureInformation.create = create;\n})(SignatureInformation || (SignatureInformation = {}));\n/**\n * A document highlight kind.\n */\nexport var DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    /**\n     * A textual occurrence.\n     */\n    DocumentHighlightKind.Text = 1;\n    /**\n     * Read-access of a symbol, like reading a variable.\n     */\n    DocumentHighlightKind.Read = 2;\n    /**\n     * Write-access of a symbol, like writing to a variable.\n     */\n    DocumentHighlightKind.Write = 3;\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\n/**\n * DocumentHighlight namespace to provide helper functions to work with\n * [DocumentHighlight](#DocumentHighlight) literals.\n */\nexport var DocumentHighlight;\n(function (DocumentHighlight) {\n    /**\n     * Create a DocumentHighlight object.\n     * @param range The range the highlight applies to.\n     * @param kind The highlight kind\n     */\n    function create(range, kind) {\n        var result = { range: range };\n        if (Is.number(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    DocumentHighlight.create = create;\n})(DocumentHighlight || (DocumentHighlight = {}));\n/**\n * A symbol kind.\n */\nexport var SymbolKind;\n(function (SymbolKind) {\n    SymbolKind.File = 1;\n    SymbolKind.Module = 2;\n    SymbolKind.Namespace = 3;\n    SymbolKind.Package = 4;\n    SymbolKind.Class = 5;\n    SymbolKind.Method = 6;\n    SymbolKind.Property = 7;\n    SymbolKind.Field = 8;\n    SymbolKind.Constructor = 9;\n    SymbolKind.Enum = 10;\n    SymbolKind.Interface = 11;\n    SymbolKind.Function = 12;\n    SymbolKind.Variable = 13;\n    SymbolKind.Constant = 14;\n    SymbolKind.String = 15;\n    SymbolKind.Number = 16;\n    SymbolKind.Boolean = 17;\n    SymbolKind.Array = 18;\n    SymbolKind.Object = 19;\n    SymbolKind.Key = 20;\n    SymbolKind.Null = 21;\n    SymbolKind.EnumMember = 22;\n    SymbolKind.Struct = 23;\n    SymbolKind.Event = 24;\n    SymbolKind.Operator = 25;\n    SymbolKind.TypeParameter = 26;\n})(SymbolKind || (SymbolKind = {}));\n/**\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\n *\n * @since 3.16\n */\nexport var SymbolTag;\n(function (SymbolTag) {\n    /**\n     * Render a symbol as obsolete, usually using a strike-out.\n     */\n    SymbolTag.Deprecated = 1;\n})(SymbolTag || (SymbolTag = {}));\nexport var SymbolInformation;\n(function (SymbolInformation) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the location of the symbol.\n     * @param uri The resource of the location of symbol.\n     * @param containerName The name of the symbol containing the symbol.\n     */\n    function create(name, kind, range, uri, containerName) {\n        var result = {\n            name: name,\n            kind: kind,\n            location: { uri: uri, range: range }\n        };\n        if (containerName) {\n            result.containerName = containerName;\n        }\n        return result;\n    }\n    SymbolInformation.create = create;\n})(SymbolInformation || (SymbolInformation = {}));\nexport var WorkspaceSymbol;\n(function (WorkspaceSymbol) {\n    /**\n     * Create a new workspace symbol.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param uri The resource of the location of the symbol.\n     * @param range An options range of the location.\n     * @returns A WorkspaceSymbol.\n     */\n    function create(name, kind, uri, range) {\n        return range !== undefined\n            ? { name: name, kind: kind, location: { uri: uri, range: range } }\n            : { name: name, kind: kind, location: { uri: uri } };\n    }\n    WorkspaceSymbol.create = create;\n})(WorkspaceSymbol || (WorkspaceSymbol = {}));\nexport var DocumentSymbol;\n(function (DocumentSymbol) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param detail The detail of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the symbol.\n     * @param selectionRange The selectionRange of the symbol.\n     * @param children Children of the symbol.\n     */\n    function create(name, detail, kind, range, selectionRange, children) {\n        var result = {\n            name: name,\n            detail: detail,\n            kind: kind,\n            range: range,\n            selectionRange: selectionRange\n        };\n        if (children !== undefined) {\n            result.children = children;\n        }\n        return result;\n    }\n    DocumentSymbol.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentSymbol](#DocumentSymbol) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n            (candidate.detail === undefined || Is.string(candidate.detail)) &&\n            (candidate.deprecated === undefined || Is.boolean(candidate.deprecated)) &&\n            (candidate.children === undefined || Array.isArray(candidate.children)) &&\n            (candidate.tags === undefined || Array.isArray(candidate.tags));\n    }\n    DocumentSymbol.is = is;\n})(DocumentSymbol || (DocumentSymbol = {}));\n/**\n * A set of predefined code action kinds\n */\nexport var CodeActionKind;\n(function (CodeActionKind) {\n    /**\n     * Empty kind.\n     */\n    CodeActionKind.Empty = '';\n    /**\n     * Base kind for quickfix actions: 'quickfix'\n     */\n    CodeActionKind.QuickFix = 'quickfix';\n    /**\n     * Base kind for refactoring actions: 'refactor'\n     */\n    CodeActionKind.Refactor = 'refactor';\n    /**\n     * Base kind for refactoring extraction actions: 'refactor.extract'\n     *\n     * Example extract actions:\n     *\n     * - Extract method\n     * - Extract function\n     * - Extract variable\n     * - Extract interface from class\n     * - ...\n     */\n    CodeActionKind.RefactorExtract = 'refactor.extract';\n    /**\n     * Base kind for refactoring inline actions: 'refactor.inline'\n     *\n     * Example inline actions:\n     *\n     * - Inline function\n     * - Inline variable\n     * - Inline constant\n     * - ...\n     */\n    CodeActionKind.RefactorInline = 'refactor.inline';\n    /**\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n     *\n     * Example rewrite actions:\n     *\n     * - Convert JavaScript function to class\n     * - Add or remove parameter\n     * - Encapsulate field\n     * - Make method static\n     * - Move method to base class\n     * - ...\n     */\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n    /**\n     * Base kind for source actions: `source`\n     *\n     * Source code actions apply to the entire file.\n     */\n    CodeActionKind.Source = 'source';\n    /**\n     * Base kind for an organize imports source action: `source.organizeImports`\n     */\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n    /**\n     * Base kind for auto-fix source actions: `source.fixAll`.\n     *\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n     *\n     * @since 3.15.0\n     */\n    CodeActionKind.SourceFixAll = 'source.fixAll';\n})(CodeActionKind || (CodeActionKind = {}));\n/**\n * The reason why code actions were requested.\n *\n * @since 3.17.0\n */\nexport var CodeActionTriggerKind;\n(function (CodeActionTriggerKind) {\n    /**\n     * Code actions were explicitly requested by the user or by an extension.\n     */\n    CodeActionTriggerKind.Invoked = 1;\n    /**\n     * Code actions were requested automatically.\n     *\n     * This typically happens when current selection in a file changes, but can\n     * also be triggered when file content changes.\n     */\n    CodeActionTriggerKind.Automatic = 2;\n})(CodeActionTriggerKind || (CodeActionTriggerKind = {}));\n/**\n * The CodeActionContext namespace provides helper functions to work with\n * [CodeActionContext](#CodeActionContext) literals.\n */\nexport var CodeActionContext;\n(function (CodeActionContext) {\n    /**\n     * Creates a new CodeActionContext literal.\n     */\n    function create(diagnostics, only, triggerKind) {\n        var result = { diagnostics: diagnostics };\n        if (only !== undefined && only !== null) {\n            result.only = only;\n        }\n        if (triggerKind !== undefined && triggerKind !== null) {\n            result.triggerKind = triggerKind;\n        }\n        return result;\n    }\n    CodeActionContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is)\n            && (candidate.only === undefined || Is.typedArray(candidate.only, Is.string))\n            && (candidate.triggerKind === undefined || candidate.triggerKind === CodeActionTriggerKind.Invoked || candidate.triggerKind === CodeActionTriggerKind.Automatic);\n    }\n    CodeActionContext.is = is;\n})(CodeActionContext || (CodeActionContext = {}));\nexport var CodeAction;\n(function (CodeAction) {\n    function create(title, kindOrCommandOrEdit, kind) {\n        var result = { title: title };\n        var checkKind = true;\n        if (typeof kindOrCommandOrEdit === 'string') {\n            checkKind = false;\n            result.kind = kindOrCommandOrEdit;\n        }\n        else if (Command.is(kindOrCommandOrEdit)) {\n            result.command = kindOrCommandOrEdit;\n        }\n        else {\n            result.edit = kindOrCommandOrEdit;\n        }\n        if (checkKind && kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    CodeAction.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.title) &&\n            (candidate.diagnostics === undefined || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n            (candidate.kind === undefined || Is.string(candidate.kind)) &&\n            (candidate.edit !== undefined || candidate.command !== undefined) &&\n            (candidate.command === undefined || Command.is(candidate.command)) &&\n            (candidate.isPreferred === undefined || Is.boolean(candidate.isPreferred)) &&\n            (candidate.edit === undefined || WorkspaceEdit.is(candidate.edit));\n    }\n    CodeAction.is = is;\n})(CodeAction || (CodeAction = {}));\n/**\n * The CodeLens namespace provides helper functions to work with\n * [CodeLens](#CodeLens) literals.\n */\nexport var CodeLens;\n(function (CodeLens) {\n    /**\n     * Creates a new CodeLens literal.\n     */\n    function create(range, data) {\n        var result = { range: range };\n        if (Is.defined(data)) {\n            result.data = data;\n        }\n        return result;\n    }\n    CodeLens.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n    }\n    CodeLens.is = is;\n})(CodeLens || (CodeLens = {}));\n/**\n * The FormattingOptions namespace provides helper functions to work with\n * [FormattingOptions](#FormattingOptions) literals.\n */\nexport var FormattingOptions;\n(function (FormattingOptions) {\n    /**\n     * Creates a new FormattingOptions literal.\n     */\n    function create(tabSize, insertSpaces) {\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\n    }\n    FormattingOptions.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n    }\n    FormattingOptions.is = is;\n})(FormattingOptions || (FormattingOptions = {}));\n/**\n * The DocumentLink namespace provides helper functions to work with\n * [DocumentLink](#DocumentLink) literals.\n */\nexport var DocumentLink;\n(function (DocumentLink) {\n    /**\n     * Creates a new DocumentLink literal.\n     */\n    function create(range, target, data) {\n        return { range: range, target: target, data: data };\n    }\n    DocumentLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n    }\n    DocumentLink.is = is;\n})(DocumentLink || (DocumentLink = {}));\n/**\n * The SelectionRange namespace provides helper function to work with\n * SelectionRange literals.\n */\nexport var SelectionRange;\n(function (SelectionRange) {\n    /**\n     * Creates a new SelectionRange\n     * @param range the range.\n     * @param parent an optional parent.\n     */\n    function create(range, parent) {\n        return { range: range, parent: parent };\n    }\n    SelectionRange.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n    }\n    SelectionRange.is = is;\n})(SelectionRange || (SelectionRange = {}));\n/**\n * A set of predefined token types. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenTypes;\n(function (SemanticTokenTypes) {\n    SemanticTokenTypes[\"namespace\"] = \"namespace\";\n    /**\n     * Represents a generic type. Acts as a fallback for types which can't be mapped to\n     * a specific type like class or enum.\n     */\n    SemanticTokenTypes[\"type\"] = \"type\";\n    SemanticTokenTypes[\"class\"] = \"class\";\n    SemanticTokenTypes[\"enum\"] = \"enum\";\n    SemanticTokenTypes[\"interface\"] = \"interface\";\n    SemanticTokenTypes[\"struct\"] = \"struct\";\n    SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\n    SemanticTokenTypes[\"parameter\"] = \"parameter\";\n    SemanticTokenTypes[\"variable\"] = \"variable\";\n    SemanticTokenTypes[\"property\"] = \"property\";\n    SemanticTokenTypes[\"enumMember\"] = \"enumMember\";\n    SemanticTokenTypes[\"event\"] = \"event\";\n    SemanticTokenTypes[\"function\"] = \"function\";\n    SemanticTokenTypes[\"method\"] = \"method\";\n    SemanticTokenTypes[\"macro\"] = \"macro\";\n    SemanticTokenTypes[\"keyword\"] = \"keyword\";\n    SemanticTokenTypes[\"modifier\"] = \"modifier\";\n    SemanticTokenTypes[\"comment\"] = \"comment\";\n    SemanticTokenTypes[\"string\"] = \"string\";\n    SemanticTokenTypes[\"number\"] = \"number\";\n    SemanticTokenTypes[\"regexp\"] = \"regexp\";\n    SemanticTokenTypes[\"operator\"] = \"operator\";\n    /**\n     * @since 3.17.0\n     */\n    SemanticTokenTypes[\"decorator\"] = \"decorator\";\n})(SemanticTokenTypes || (SemanticTokenTypes = {}));\n/**\n * A set of predefined token modifiers. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenModifiers;\n(function (SemanticTokenModifiers) {\n    SemanticTokenModifiers[\"declaration\"] = \"declaration\";\n    SemanticTokenModifiers[\"definition\"] = \"definition\";\n    SemanticTokenModifiers[\"readonly\"] = \"readonly\";\n    SemanticTokenModifiers[\"static\"] = \"static\";\n    SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\n    SemanticTokenModifiers[\"abstract\"] = \"abstract\";\n    SemanticTokenModifiers[\"async\"] = \"async\";\n    SemanticTokenModifiers[\"modification\"] = \"modification\";\n    SemanticTokenModifiers[\"documentation\"] = \"documentation\";\n    SemanticTokenModifiers[\"defaultLibrary\"] = \"defaultLibrary\";\n})(SemanticTokenModifiers || (SemanticTokenModifiers = {}));\n/**\n * @since 3.16.0\n */\nexport var SemanticTokens;\n(function (SemanticTokens) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\n            Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\n    }\n    SemanticTokens.is = is;\n})(SemanticTokens || (SemanticTokens = {}));\n/**\n * The InlineValueText namespace provides functions to deal with InlineValueTexts.\n *\n * @since 3.17.0\n */\nexport var InlineValueText;\n(function (InlineValueText) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, text) {\n        return { range: range, text: text };\n    }\n    InlineValueText.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.string(candidate.text);\n    }\n    InlineValueText.is = is;\n})(InlineValueText || (InlineValueText = {}));\n/**\n * The InlineValueVariableLookup namespace provides functions to deal with InlineValueVariableLookups.\n *\n * @since 3.17.0\n */\nexport var InlineValueVariableLookup;\n(function (InlineValueVariableLookup) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, variableName, caseSensitiveLookup) {\n        return { range: range, variableName: variableName, caseSensitiveLookup: caseSensitiveLookup };\n    }\n    InlineValueVariableLookup.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.boolean(candidate.caseSensitiveLookup)\n            && (Is.string(candidate.variableName) || candidate.variableName === undefined);\n    }\n    InlineValueVariableLookup.is = is;\n})(InlineValueVariableLookup || (InlineValueVariableLookup = {}));\n/**\n * The InlineValueEvaluatableExpression namespace provides functions to deal with InlineValueEvaluatableExpression.\n *\n * @since 3.17.0\n */\nexport var InlineValueEvaluatableExpression;\n(function (InlineValueEvaluatableExpression) {\n    /**\n     * Creates a new InlineValueEvaluatableExpression literal.\n     */\n    function create(range, expression) {\n        return { range: range, expression: expression };\n    }\n    InlineValueEvaluatableExpression.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range)\n            && (Is.string(candidate.expression) || candidate.expression === undefined);\n    }\n    InlineValueEvaluatableExpression.is = is;\n})(InlineValueEvaluatableExpression || (InlineValueEvaluatableExpression = {}));\n/**\n * The InlineValueContext namespace provides helper functions to work with\n * [InlineValueContext](#InlineValueContext) literals.\n *\n * @since 3.17.0\n */\nexport var InlineValueContext;\n(function (InlineValueContext) {\n    /**\n     * Creates a new InlineValueContext literal.\n     */\n    function create(frameId, stoppedLocation) {\n        return { frameId: frameId, stoppedLocation: stoppedLocation };\n    }\n    InlineValueContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the [InlineValueContext](#InlineValueContext) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(value.stoppedLocation);\n    }\n    InlineValueContext.is = is;\n})(InlineValueContext || (InlineValueContext = {}));\n/**\n * Inlay hint kinds.\n *\n * @since 3.17.0\n */\nexport var InlayHintKind;\n(function (InlayHintKind) {\n    /**\n     * An inlay hint that for a type annotation.\n     */\n    InlayHintKind.Type = 1;\n    /**\n     * An inlay hint that is for a parameter.\n     */\n    InlayHintKind.Parameter = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    InlayHintKind.is = is;\n})(InlayHintKind || (InlayHintKind = {}));\nexport var InlayHintLabelPart;\n(function (InlayHintLabelPart) {\n    function create(value) {\n        return { value: value };\n    }\n    InlayHintLabelPart.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.location === undefined || Location.is(candidate.location))\n            && (candidate.command === undefined || Command.is(candidate.command));\n    }\n    InlayHintLabelPart.is = is;\n})(InlayHintLabelPart || (InlayHintLabelPart = {}));\nexport var InlayHint;\n(function (InlayHint) {\n    function create(position, label, kind) {\n        var result = { position: position, label: label };\n        if (kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    InlayHint.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.position)\n            && (Is.string(candidate.label) || Is.typedArray(candidate.label, InlayHintLabelPart.is))\n            && (candidate.kind === undefined || InlayHintKind.is(candidate.kind))\n            && (candidate.textEdits === undefined) || Is.typedArray(candidate.textEdits, TextEdit.is)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.paddingLeft === undefined || Is.boolean(candidate.paddingLeft))\n            && (candidate.paddingRight === undefined || Is.boolean(candidate.paddingRight));\n    }\n    InlayHint.is = is;\n})(InlayHint || (InlayHint = {}));\nexport var WorkspaceFolder;\n(function (WorkspaceFolder) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && URI.is(candidate.uri) && Is.string(candidate.name);\n    }\n    WorkspaceFolder.is = is;\n})(WorkspaceFolder || (WorkspaceFolder = {}));\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new ITextDocument literal from the given uri and content.\n     * @param uri The document's uri.\n     * @param languageId The document's language Id.\n     * @param version The document's version.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount)\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n    }\n    TextDocument.is = is;\n    function applyEdits(document, edits) {\n        var text = document.getText();\n        var sortedEdits = mergeSort(edits, function (a, b) {\n            var diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        var lastModifiedOffset = text.length;\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\n            var e = sortedEdits[i];\n            var startOffset = document.offsetAt(e.range.start);\n            var endOffset = document.offsetAt(e.range.end);\n            if (endOffset <= lastModifiedOffset) {\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n            }\n            else {\n                throw new Error('Overlapping edit');\n            }\n            lastModifiedOffset = startOffset;\n        }\n        return text;\n    }\n    TextDocument.applyEdits = applyEdits;\n    function mergeSort(data, compare) {\n        if (data.length <= 1) {\n            // sorted\n            return data;\n        }\n        var p = (data.length / 2) | 0;\n        var left = data.slice(0, p);\n        var right = data.slice(p);\n        mergeSort(left, compare);\n        mergeSort(right, compare);\n        var leftIdx = 0;\n        var rightIdx = 0;\n        var i = 0;\n        while (leftIdx < left.length && rightIdx < right.length) {\n            var ret = compare(left[leftIdx], right[rightIdx]);\n            if (ret <= 0) {\n                // smaller_equal -> take left to preserve order\n                data[i++] = left[leftIdx++];\n            }\n            else {\n                // greater -> take right\n                data[i++] = right[rightIdx++];\n            }\n        }\n        while (leftIdx < left.length) {\n            data[i++] = left[leftIdx++];\n        }\n        while (rightIdx < right.length) {\n            data[i++] = right[rightIdx++];\n        }\n        return data;\n    }\n})(TextDocument || (TextDocument = {}));\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nvar FullTextDocument = /** @class */ (function () {\n    function FullTextDocument(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n        get: function () {\n            return this._uri;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n        get: function () {\n            return this._languageId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\n        get: function () {\n            return this._version;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FullTextDocument.prototype.getText = function (range) {\n        if (range) {\n            var start = this.offsetAt(range.start);\n            var end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    };\n    FullTextDocument.prototype.update = function (event, version) {\n        this._content = event.text;\n        this._version = version;\n        this._lineOffsets = undefined;\n    };\n    FullTextDocument.prototype.getLineOffsets = function () {\n        if (this._lineOffsets === undefined) {\n            var lineOffsets = [];\n            var text = this._content;\n            var isLineStart = true;\n            for (var i = 0; i < text.length; i++) {\n                if (isLineStart) {\n                    lineOffsets.push(i);\n                    isLineStart = false;\n                }\n                var ch = text.charAt(i);\n                isLineStart = (ch === '\\r' || ch === '\\n');\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                    i++;\n                }\n            }\n            if (isLineStart && text.length > 0) {\n                lineOffsets.push(text.length);\n            }\n            this._lineOffsets = lineOffsets;\n        }\n        return this._lineOffsets;\n    };\n    FullTextDocument.prototype.positionAt = function (offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        var lineOffsets = this.getLineOffsets();\n        var low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return Position.create(0, offset);\n        }\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        var line = low - 1;\n        return Position.create(line, offset - lineOffsets[line]);\n    };\n    FullTextDocument.prototype.offsetAt = function (position) {\n        var lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        var lineOffset = lineOffsets[position.line];\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    };\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n        get: function () {\n            return this.getLineOffsets().length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return FullTextDocument;\n}());\nvar Is;\n(function (Is) {\n    var toString = Object.prototype.toString;\n    function defined(value) {\n        return typeof value !== 'undefined';\n    }\n    Is.defined = defined;\n    function undefined(value) {\n        return typeof value === 'undefined';\n    }\n    Is.undefined = undefined;\n    function boolean(value) {\n        return value === true || value === false;\n    }\n    Is.boolean = boolean;\n    function string(value) {\n        return toString.call(value) === '[object String]';\n    }\n    Is.string = string;\n    function number(value) {\n        return toString.call(value) === '[object Number]';\n    }\n    Is.number = number;\n    function numberRange(value, min, max) {\n        return toString.call(value) === '[object Number]' && min <= value && value <= max;\n    }\n    Is.numberRange = numberRange;\n    function integer(value) {\n        return toString.call(value) === '[object Number]' && -2147483648 <= value && value <= 2147483647;\n    }\n    Is.integer = integer;\n    function uinteger(value) {\n        return toString.call(value) === '[object Number]' && 0 <= value && value <= 2147483647;\n    }\n    Is.uinteger = uinteger;\n    function func(value) {\n        return toString.call(value) === '[object Function]';\n    }\n    Is.func = func;\n    function objectLiteral(value) {\n        // Strictly speaking class instances pass this check as well. Since the LSP\n        // doesn't use classes we ignore this for now. If we do we need to add something\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n        return value !== null && typeof value === 'object';\n    }\n    Is.objectLiteral = objectLiteral;\n    function typedArray(value, check) {\n        return Array.isArray(value) && value.every(check);\n    }\n    Is.typedArray = typedArray;\n})(Is || (Is = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProposedFeatures = exports.NotebookDocuments = exports.TextDocuments = exports.SemanticTokensBuilder = void 0;\nconst semanticTokens_1 = require(\"./semanticTokens\");\nObject.defineProperty(exports, \"SemanticTokensBuilder\", { enumerable: true, get: function () { return semanticTokens_1.SemanticTokensBuilder; } });\n__exportStar(require(\"vscode-languageserver-protocol/\"), exports);\nconst textDocuments_1 = require(\"./textDocuments\");\nObject.defineProperty(exports, \"TextDocuments\", { enumerable: true, get: function () { return textDocuments_1.TextDocuments; } });\nconst notebook_1 = require(\"./notebook\");\nObject.defineProperty(exports, \"NotebookDocuments\", { enumerable: true, get: function () { return notebook_1.NotebookDocuments; } });\n__exportStar(require(\"./server\"), exports);\nvar ProposedFeatures;\n(function (ProposedFeatures) {\n    ProposedFeatures.all = {\n        __brand: 'features',\n    };\n})(ProposedFeatures = exports.ProposedFeatures || (exports.ProposedFeatures = {}));\n//# sourceMappingURL=api.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst CallHierarchyFeature = (Base) => {\n    return class extends Base {\n        get callHierarchy() {\n            return {\n                onPrepare: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n                    });\n                },\n                onIncomingCalls: (handler) => {\n                    const type = vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onOutgoingCalls: (handler) => {\n                    const type = vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.CallHierarchyFeature = CallHierarchyFeature;\n//# sourceMappingURL=callHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst ConfigurationFeature = (Base) => {\n    return class extends Base {\n        getConfiguration(arg) {\n            if (!arg) {\n                return this._getConfiguration({});\n            }\n            else if (Is.string(arg)) {\n                return this._getConfiguration({ section: arg });\n            }\n            else {\n                return this._getConfiguration(arg);\n            }\n        }\n        _getConfiguration(arg) {\n            let params = {\n                items: Array.isArray(arg) ? arg : [arg]\n            };\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type, params).then((result) => {\n                if (Array.isArray(result)) {\n                    return Array.isArray(arg) ? result : result[0];\n                }\n                else {\n                    return Array.isArray(arg) ? [] : null;\n                }\n            });\n        }\n    };\n};\nexports.ConfigurationFeature = ConfigurationFeature;\n//# sourceMappingURL=configuration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst DiagnosticFeature = (Base) => {\n    return class extends Base {\n        get diagnostics() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.DiagnosticRefreshRequest.type);\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.partialResult, params));\n                    });\n                },\n                onWorkspace: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.partialResult, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.DiagnosticFeature = DiagnosticFeature;\n//# sourceMappingURL=diagnostic.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileOperationsFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst FileOperationsFeature = (Base) => {\n    return class extends Base {\n        onDidCreateFiles(handler) {\n            return this.connection.onNotification(vscode_languageserver_protocol_1.DidCreateFilesNotification.type, (params) => {\n                handler(params);\n            });\n        }\n        onDidRenameFiles(handler) {\n            return this.connection.onNotification(vscode_languageserver_protocol_1.DidRenameFilesNotification.type, (params) => {\n                handler(params);\n            });\n        }\n        onDidDeleteFiles(handler) {\n            return this.connection.onNotification(vscode_languageserver_protocol_1.DidDeleteFilesNotification.type, (params) => {\n                handler(params);\n            });\n        }\n        onWillCreateFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillCreateFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n        onWillRenameFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillRenameFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n        onWillDeleteFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillDeleteFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n    };\n};\nexports.FileOperationsFeature = FileOperationsFeature;\n//# sourceMappingURL=fileOperations.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst InlayHintFeature = (Base) => {\n    return class extends Base {\n        get inlayHint() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.InlayHintRefreshRequest.type);\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlayHintRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params));\n                    });\n                },\n                resolve: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlayHintResolveRequest.type, (params, cancel) => {\n                        return handler(params, cancel);\n                    });\n                }\n            };\n        }\n    };\n};\nexports.InlayHintFeature = InlayHintFeature;\n//# sourceMappingURL=inlayHint.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst InlineValueFeature = (Base) => {\n    return class extends Base {\n        get inlineValue() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.InlineValueRefreshRequest.type);\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlineValueRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.InlineValueFeature = InlineValueFeature;\n//# sourceMappingURL=inlineValue.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst LinkedEditingRangeFeature = (Base) => {\n    return class extends Base {\n        onLinkedEditingRange(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.LinkedEditingRangeRequest.type, (params, cancel) => {\n                return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n            });\n        }\n    };\n};\nexports.LinkedEditingRangeFeature = LinkedEditingRangeFeature;\n//# sourceMappingURL=linkedEditingRange.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst MonikerFeature = (Base) => {\n    return class extends Base {\n        get moniker() {\n            return {\n                on: (handler) => {\n                    const type = vscode_languageserver_protocol_1.MonikerRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n            };\n        }\n    };\n};\nexports.MonikerFeature = MonikerFeature;\n//# sourceMappingURL=moniker.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NotebookDocuments = exports.NotebookSyncFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst textDocuments_1 = require(\"./textDocuments\");\nconst NotebookSyncFeature = (Base) => {\n    return class extends Base {\n        get synchronization() {\n            return {\n                onDidOpenNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidOpenNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                },\n                onDidChangeNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidChangeNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                },\n                onDidSaveNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidSaveNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                },\n                onDidCloseNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidCloseNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                }\n            };\n        }\n    };\n};\nexports.NotebookSyncFeature = NotebookSyncFeature;\nclass CellTextDocumentConnection {\n    onDidOpenTextDocument(handler) {\n        this.openHandler = handler;\n        return vscode_languageserver_protocol_1.Disposable.create(() => { this.openHandler = undefined; });\n    }\n    openTextDocument(params) {\n        this.openHandler && this.openHandler(params);\n    }\n    onDidChangeTextDocument(handler) {\n        this.changeHandler = handler;\n        return vscode_languageserver_protocol_1.Disposable.create(() => { this.changeHandler = handler; });\n    }\n    changeTextDocument(params) {\n        this.changeHandler && this.changeHandler(params);\n    }\n    onDidCloseTextDocument(handler) {\n        this.closeHandler = handler;\n        return vscode_languageserver_protocol_1.Disposable.create(() => { this.closeHandler = undefined; });\n    }\n    closeTextDocument(params) {\n        this.closeHandler && this.closeHandler(params);\n    }\n    onWillSaveTextDocument() {\n        return CellTextDocumentConnection.NULL_DISPOSE;\n    }\n    onWillSaveTextDocumentWaitUntil() {\n        return CellTextDocumentConnection.NULL_DISPOSE;\n    }\n    onDidSaveTextDocument() {\n        return CellTextDocumentConnection.NULL_DISPOSE;\n    }\n}\nCellTextDocumentConnection.NULL_DISPOSE = Object.freeze({ dispose: () => { } });\nclass NotebookDocuments {\n    constructor(configurationOrTextDocuments) {\n        if (configurationOrTextDocuments instanceof textDocuments_1.TextDocuments) {\n            this._cellTextDocuments = configurationOrTextDocuments;\n        }\n        else {\n            this._cellTextDocuments = new textDocuments_1.TextDocuments(configurationOrTextDocuments);\n        }\n        this.notebookDocuments = new Map();\n        this.notebookCellMap = new Map();\n        this._onDidOpen = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidChange = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidSave = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidClose = new vscode_languageserver_protocol_1.Emitter();\n    }\n    get cellTextDocuments() {\n        return this._cellTextDocuments;\n    }\n    getCellTextDocument(cell) {\n        return this._cellTextDocuments.get(cell.document);\n    }\n    getNotebookDocument(uri) {\n        return this.notebookDocuments.get(uri);\n    }\n    getNotebookCell(uri) {\n        const value = this.notebookCellMap.get(uri);\n        return value && value[0];\n    }\n    findNotebookDocumentForCell(cell) {\n        const key = typeof cell === 'string' ? cell : cell.document;\n        const value = this.notebookCellMap.get(key);\n        return value && value[1];\n    }\n    get onDidOpen() {\n        return this._onDidOpen.event;\n    }\n    get onDidSave() {\n        return this._onDidSave.event;\n    }\n    get onDidChange() {\n        return this._onDidChange.event;\n    }\n    get onDidClose() {\n        return this._onDidClose.event;\n    }\n    /**\n     * Listens for `low level` notification on the given connection to\n     * update the notebook documents managed by this instance.\n     *\n     * Please note that the connection only provides handlers not an event model. Therefore\n     * listening on a connection will overwrite the following handlers on a connection:\n     * `onDidOpenNotebookDocument`, `onDidChangeNotebookDocument`, `onDidSaveNotebookDocument`,\n     *  and `onDidCloseNotebookDocument`.\n     *\n     * @param connection The connection to listen on.\n     */\n    listen(connection) {\n        const cellTextDocumentConnection = new CellTextDocumentConnection();\n        const disposables = [];\n        disposables.push(this.cellTextDocuments.listen(cellTextDocumentConnection));\n        disposables.push(connection.notebooks.synchronization.onDidOpenNotebookDocument((params) => {\n            this.notebookDocuments.set(params.notebookDocument.uri, params.notebookDocument);\n            for (const cellTextDocument of params.cellTextDocuments) {\n                cellTextDocumentConnection.openTextDocument({ textDocument: cellTextDocument });\n            }\n            this.updateCellMap(params.notebookDocument);\n            this._onDidOpen.fire(params.notebookDocument);\n        }));\n        disposables.push(connection.notebooks.synchronization.onDidChangeNotebookDocument((params) => {\n            const notebookDocument = this.notebookDocuments.get(params.notebookDocument.uri);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            notebookDocument.version = params.notebookDocument.version;\n            const oldMetadata = notebookDocument.metadata;\n            let metadataChanged = false;\n            const change = params.change;\n            if (change.metadata !== undefined) {\n                metadataChanged = true;\n                notebookDocument.metadata = change.metadata;\n            }\n            const opened = [];\n            const closed = [];\n            const data = [];\n            const text = [];\n            if (change.cells !== undefined) {\n                const changedCells = change.cells;\n                if (changedCells.structure !== undefined) {\n                    const array = changedCells.structure.array;\n                    notebookDocument.cells.splice(array.start, array.deleteCount, ...(array.cells !== undefined ? array.cells : []));\n                    // Additional open cell text documents.\n                    if (changedCells.structure.didOpen !== undefined) {\n                        for (const open of changedCells.structure.didOpen) {\n                            cellTextDocumentConnection.openTextDocument({ textDocument: open });\n                            opened.push(open.uri);\n                        }\n                    }\n                    // Additional closed cell test documents.\n                    if (changedCells.structure.didClose) {\n                        for (const close of changedCells.structure.didClose) {\n                            cellTextDocumentConnection.closeTextDocument({ textDocument: close });\n                            closed.push(close.uri);\n                        }\n                    }\n                }\n                if (changedCells.data !== undefined) {\n                    const cellUpdates = new Map(changedCells.data.map(cell => [cell.document, cell]));\n                    for (let i = 0; i <= notebookDocument.cells.length; i++) {\n                        const change = cellUpdates.get(notebookDocument.cells[i].document);\n                        if (change !== undefined) {\n                            const old = notebookDocument.cells.splice(i, 1, change);\n                            data.push({ old: old[0], new: change });\n                            cellUpdates.delete(change.document);\n                            if (cellUpdates.size === 0) {\n                                break;\n                            }\n                        }\n                    }\n                }\n                if (changedCells.textContent !== undefined) {\n                    for (const cellTextDocument of changedCells.textContent) {\n                        cellTextDocumentConnection.changeTextDocument({ textDocument: cellTextDocument.document, contentChanges: cellTextDocument.changes });\n                        text.push(cellTextDocument.document.uri);\n                    }\n                }\n            }\n            // Update internal data structure.\n            this.updateCellMap(notebookDocument);\n            const changeEvent = { notebookDocument };\n            if (metadataChanged) {\n                changeEvent.metadata = { old: oldMetadata, new: notebookDocument.metadata };\n            }\n            const added = [];\n            for (const open of opened) {\n                added.push(this.getNotebookCell(open));\n            }\n            const removed = [];\n            for (const close of closed) {\n                removed.push(this.getNotebookCell(close));\n            }\n            const textContent = [];\n            for (const change of text) {\n                textContent.push(this.getNotebookCell(change));\n            }\n            if (added.length > 0 || removed.length > 0 || data.length > 0 || textContent.length > 0) {\n                changeEvent.cells = { added, removed, changed: { data, textContent } };\n            }\n            if (changeEvent.metadata !== undefined || changeEvent.cells !== undefined) {\n                this._onDidChange.fire(changeEvent);\n            }\n        }));\n        disposables.push(connection.notebooks.synchronization.onDidSaveNotebookDocument((params) => {\n            const notebookDocument = this.notebookDocuments.get(params.notebookDocument.uri);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            this._onDidSave.fire(notebookDocument);\n        }));\n        disposables.push(connection.notebooks.synchronization.onDidCloseNotebookDocument((params) => {\n            const notebookDocument = this.notebookDocuments.get(params.notebookDocument.uri);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            this._onDidClose.fire(notebookDocument);\n            for (const cellTextDocument of params.cellTextDocuments) {\n                cellTextDocumentConnection.closeTextDocument({ textDocument: cellTextDocument });\n            }\n            this.notebookDocuments.delete(params.notebookDocument.uri);\n            for (const cell of notebookDocument.cells) {\n                this.notebookCellMap.delete(cell.document);\n            }\n        }));\n        return vscode_languageserver_protocol_1.Disposable.create(() => { disposables.forEach(disposable => disposable.dispose()); });\n    }\n    updateCellMap(notebookDocument) {\n        for (const cell of notebookDocument.cells) {\n            this.notebookCellMap.set(cell.document, [cell, notebookDocument]);\n        }\n    }\n}\nexports.NotebookDocuments = NotebookDocuments;\n//# sourceMappingURL=notebook.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.attachPartialResult = exports.ProgressFeature = exports.attachWorkDone = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst uuid_1 = require(\"./utils/uuid\");\nclass WorkDoneProgressReporterImpl {\n    constructor(_connection, _token) {\n        this._connection = _connection;\n        this._token = _token;\n        WorkDoneProgressReporterImpl.Instances.set(this._token, this);\n    }\n    begin(title, percentage, message, cancellable) {\n        let param = {\n            kind: 'begin',\n            title,\n            percentage,\n            message,\n            cancellable\n        };\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\n    }\n    report(arg0, arg1) {\n        let param = {\n            kind: 'report'\n        };\n        if (typeof arg0 === 'number') {\n            param.percentage = arg0;\n            if (arg1 !== undefined) {\n                param.message = arg1;\n            }\n        }\n        else {\n            param.message = arg0;\n        }\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\n    }\n    done() {\n        WorkDoneProgressReporterImpl.Instances.delete(this._token);\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, { kind: 'end' });\n    }\n}\nWorkDoneProgressReporterImpl.Instances = new Map();\nclass WorkDoneProgressServerReporterImpl extends WorkDoneProgressReporterImpl {\n    constructor(connection, token) {\n        super(connection, token);\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\n    }\n    get token() {\n        return this._source.token;\n    }\n    done() {\n        this._source.dispose();\n        super.done();\n    }\n    cancel() {\n        this._source.cancel();\n    }\n}\nclass NullProgressReporter {\n    constructor() {\n    }\n    begin() {\n    }\n    report() {\n    }\n    done() {\n    }\n}\nclass NullProgressServerReporter extends NullProgressReporter {\n    constructor() {\n        super();\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\n    }\n    get token() {\n        return this._source.token;\n    }\n    done() {\n        this._source.dispose();\n    }\n    cancel() {\n        this._source.cancel();\n    }\n}\nfunction attachWorkDone(connection, params) {\n    if (params === undefined || params.workDoneToken === undefined) {\n        return new NullProgressReporter();\n    }\n    const token = params.workDoneToken;\n    delete params.workDoneToken;\n    return new WorkDoneProgressReporterImpl(connection, token);\n}\nexports.attachWorkDone = attachWorkDone;\nconst ProgressFeature = (Base) => {\n    return class extends Base {\n        constructor() {\n            super();\n            this._progressSupported = false;\n        }\n        initialize(capabilities) {\n            super.initialize(capabilities);\n            if (capabilities?.window?.workDoneProgress === true) {\n                this._progressSupported = true;\n                this.connection.onNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type, (params) => {\n                    let progress = WorkDoneProgressReporterImpl.Instances.get(params.token);\n                    if (progress instanceof WorkDoneProgressServerReporterImpl || progress instanceof NullProgressServerReporter) {\n                        progress.cancel();\n                    }\n                });\n            }\n        }\n        attachWorkDoneProgress(token) {\n            if (token === undefined) {\n                return new NullProgressReporter();\n            }\n            else {\n                return new WorkDoneProgressReporterImpl(this.connection, token);\n            }\n        }\n        createWorkDoneProgress() {\n            if (this._progressSupported) {\n                const token = (0, uuid_1.generateUuid)();\n                return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.type, { token }).then(() => {\n                    const result = new WorkDoneProgressServerReporterImpl(this.connection, token);\n                    return result;\n                });\n            }\n            else {\n                return Promise.resolve(new NullProgressServerReporter());\n            }\n        }\n    };\n};\nexports.ProgressFeature = ProgressFeature;\nvar ResultProgress;\n(function (ResultProgress) {\n    ResultProgress.type = new vscode_languageserver_protocol_1.ProgressType();\n})(ResultProgress || (ResultProgress = {}));\nclass ResultProgressReporterImpl {\n    constructor(_connection, _token) {\n        this._connection = _connection;\n        this._token = _token;\n    }\n    report(data) {\n        this._connection.sendProgress(ResultProgress.type, this._token, data);\n    }\n}\nfunction attachPartialResult(connection, params) {\n    if (params === undefined || params.partialResultToken === undefined) {\n        return undefined;\n    }\n    const token = params.partialResultToken;\n    delete params.partialResultToken;\n    return new ResultProgressReporterImpl(connection, token);\n}\nexports.attachPartialResult = attachPartialResult;\n//# sourceMappingURL=progress.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensBuilder = exports.SemanticTokensDiff = exports.SemanticTokensFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst SemanticTokensFeature = (Base) => {\n    return class extends Base {\n        get semanticTokens() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRefreshRequest.type);\n                },\n                on: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onDelta: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onRange: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.SemanticTokensFeature = SemanticTokensFeature;\nclass SemanticTokensDiff {\n    constructor(originalSequence, modifiedSequence) {\n        this.originalSequence = originalSequence;\n        this.modifiedSequence = modifiedSequence;\n    }\n    computeDiff() {\n        const originalLength = this.originalSequence.length;\n        const modifiedLength = this.modifiedSequence.length;\n        let startIndex = 0;\n        while (startIndex < modifiedLength && startIndex < originalLength && this.originalSequence[startIndex] === this.modifiedSequence[startIndex]) {\n            startIndex++;\n        }\n        if (startIndex < modifiedLength && startIndex < originalLength) {\n            let originalEndIndex = originalLength - 1;\n            let modifiedEndIndex = modifiedLength - 1;\n            while (originalEndIndex >= startIndex && modifiedEndIndex >= startIndex && this.originalSequence[originalEndIndex] === this.modifiedSequence[modifiedEndIndex]) {\n                originalEndIndex--;\n                modifiedEndIndex--;\n            }\n            // if one moved behind the start index move them forward again\n            if (originalEndIndex < startIndex || modifiedEndIndex < startIndex) {\n                originalEndIndex++;\n                modifiedEndIndex++;\n            }\n            const deleteCount = originalEndIndex - startIndex + 1;\n            const newData = this.modifiedSequence.slice(startIndex, modifiedEndIndex + 1);\n            // If we moved behind the start index we could have missed a simple delete.\n            if (newData.length === 1 && newData[0] === this.originalSequence[originalEndIndex]) {\n                return [\n                    { start: startIndex, deleteCount: deleteCount - 1 }\n                ];\n            }\n            else {\n                return [\n                    { start: startIndex, deleteCount, data: newData }\n                ];\n            }\n        }\n        else if (startIndex < modifiedLength) {\n            return [\n                { start: startIndex, deleteCount: 0, data: this.modifiedSequence.slice(startIndex) }\n            ];\n        }\n        else if (startIndex < originalLength) {\n            return [\n                { start: startIndex, deleteCount: originalLength - startIndex }\n            ];\n        }\n        else {\n            // The two arrays are the same.\n            return [];\n        }\n    }\n}\nexports.SemanticTokensDiff = SemanticTokensDiff;\nclass SemanticTokensBuilder {\n    constructor() {\n        this._prevData = undefined;\n        this.initialize();\n    }\n    initialize() {\n        this._id = Date.now();\n        this._prevLine = 0;\n        this._prevChar = 0;\n        this._data = [];\n        this._dataLen = 0;\n    }\n    push(line, char, length, tokenType, tokenModifiers) {\n        let pushLine = line;\n        let pushChar = char;\n        if (this._dataLen > 0) {\n            pushLine -= this._prevLine;\n            if (pushLine === 0) {\n                pushChar -= this._prevChar;\n            }\n        }\n        this._data[this._dataLen++] = pushLine;\n        this._data[this._dataLen++] = pushChar;\n        this._data[this._dataLen++] = length;\n        this._data[this._dataLen++] = tokenType;\n        this._data[this._dataLen++] = tokenModifiers;\n        this._prevLine = line;\n        this._prevChar = char;\n    }\n    get id() {\n        return this._id.toString();\n    }\n    previousResult(id) {\n        if (this.id === id) {\n            this._prevData = this._data;\n        }\n        this.initialize();\n    }\n    build() {\n        this._prevData = undefined;\n        return {\n            resultId: this.id,\n            data: this._data\n        };\n    }\n    canBuildEdits() {\n        return this._prevData !== undefined;\n    }\n    buildEdits() {\n        if (this._prevData !== undefined) {\n            return {\n                resultId: this.id,\n                edits: (new SemanticTokensDiff(this._prevData, this._data)).computeDiff()\n            };\n        }\n        else {\n            return this.build();\n        }\n    }\n}\nexports.SemanticTokensBuilder = SemanticTokensBuilder;\n//# sourceMappingURL=semanticTokens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConnection = exports.combineFeatures = exports.combineNotebooksFeatures = exports.combineLanguagesFeatures = exports.combineWorkspaceFeatures = exports.combineWindowFeatures = exports.combineClientFeatures = exports.combineTracerFeatures = exports.combineTelemetryFeatures = exports.combineConsoleFeatures = exports._NotebooksImpl = exports._LanguagesImpl = exports.BulkUnregistration = exports.BulkRegistration = exports.ErrorMessageTracker = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst UUID = require(\"./utils/uuid\");\nconst progress_1 = require(\"./progress\");\nconst configuration_1 = require(\"./configuration\");\nconst workspaceFolder_1 = require(\"./workspaceFolder\");\nconst callHierarchy_1 = require(\"./callHierarchy\");\nconst semanticTokens_1 = require(\"./semanticTokens\");\nconst showDocument_1 = require(\"./showDocument\");\nconst fileOperations_1 = require(\"./fileOperations\");\nconst linkedEditingRange_1 = require(\"./linkedEditingRange\");\nconst typeHierarchy_1 = require(\"./typeHierarchy\");\nconst inlineValue_1 = require(\"./inlineValue\");\nconst inlayHint_1 = require(\"./inlayHint\");\nconst diagnostic_1 = require(\"./diagnostic\");\nconst notebook_1 = require(\"./notebook\");\nconst moniker_1 = require(\"./moniker\");\nfunction null2Undefined(value) {\n    if (value === null) {\n        return undefined;\n    }\n    return value;\n}\n/**\n * Helps tracking error message. Equal occurrences of the same\n * message are only stored once. This class is for example\n * useful if text documents are validated in a loop and equal\n * error message should be folded into one.\n */\nclass ErrorMessageTracker {\n    constructor() {\n        this._messages = Object.create(null);\n    }\n    /**\n     * Add a message to the tracker.\n     *\n     * @param message The message to add.\n     */\n    add(message) {\n        let count = this._messages[message];\n        if (!count) {\n            count = 0;\n        }\n        count++;\n        this._messages[message] = count;\n    }\n    /**\n     * Send all tracked messages to the connection's window.\n     *\n     * @param connection The connection established between client and server.\n     */\n    sendErrors(connection) {\n        Object.keys(this._messages).forEach(message => {\n            connection.window.showErrorMessage(message);\n        });\n    }\n}\nexports.ErrorMessageTracker = ErrorMessageTracker;\nclass RemoteConsoleImpl {\n    constructor() {\n    }\n    rawAttach(connection) {\n        this._rawConnection = connection;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    initialize(_capabilities) {\n    }\n    error(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Error, message);\n    }\n    warn(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Warning, message);\n    }\n    info(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Info, message);\n    }\n    log(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Log, message);\n    }\n    send(type, message) {\n        if (this._rawConnection) {\n            this._rawConnection.sendNotification(vscode_languageserver_protocol_1.LogMessageNotification.type, { type, message }).catch(() => {\n                (0, vscode_languageserver_protocol_1.RAL)().console.error(`Sending log message failed`);\n            });\n        }\n    }\n}\nclass _RemoteWindowImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    showErrorMessage(message, ...actions) {\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Error, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n    showWarningMessage(message, ...actions) {\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Warning, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n    showInformationMessage(message, ...actions) {\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Info, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n}\nconst RemoteWindowImpl = (0, showDocument_1.ShowDocumentFeature)((0, progress_1.ProgressFeature)(_RemoteWindowImpl));\nvar BulkRegistration;\n(function (BulkRegistration) {\n    /**\n     * Creates a new bulk registration.\n     * @return an empty bulk registration.\n     */\n    function create() {\n        return new BulkRegistrationImpl();\n    }\n    BulkRegistration.create = create;\n})(BulkRegistration = exports.BulkRegistration || (exports.BulkRegistration = {}));\nclass BulkRegistrationImpl {\n    constructor() {\n        this._registrations = [];\n        this._registered = new Set();\n    }\n    add(type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        if (this._registered.has(method)) {\n            throw new Error(`${method} is already added to this registration`);\n        }\n        const id = UUID.generateUuid();\n        this._registrations.push({\n            id: id,\n            method: method,\n            registerOptions: registerOptions || {}\n        });\n        this._registered.add(method);\n    }\n    asRegistrationParams() {\n        return {\n            registrations: this._registrations\n        };\n    }\n}\nvar BulkUnregistration;\n(function (BulkUnregistration) {\n    function create() {\n        return new BulkUnregistrationImpl(undefined, []);\n    }\n    BulkUnregistration.create = create;\n})(BulkUnregistration = exports.BulkUnregistration || (exports.BulkUnregistration = {}));\nclass BulkUnregistrationImpl {\n    constructor(_connection, unregistrations) {\n        this._connection = _connection;\n        this._unregistrations = new Map();\n        unregistrations.forEach(unregistration => {\n            this._unregistrations.set(unregistration.method, unregistration);\n        });\n    }\n    get isAttached() {\n        return !!this._connection;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    add(unregistration) {\n        this._unregistrations.set(unregistration.method, unregistration);\n    }\n    dispose() {\n        let unregistrations = [];\n        for (let unregistration of this._unregistrations.values()) {\n            unregistrations.push(unregistration);\n        }\n        let params = {\n            unregisterations: unregistrations\n        };\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).catch(() => {\n            this._connection.console.info(`Bulk unregistration failed.`);\n        });\n    }\n    disposeSingle(arg) {\n        const method = Is.string(arg) ? arg : arg.method;\n        const unregistration = this._unregistrations.get(method);\n        if (!unregistration) {\n            return false;\n        }\n        let params = {\n            unregisterations: [unregistration]\n        };\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).then(() => {\n            this._unregistrations.delete(method);\n        }, (_error) => {\n            this._connection.console.info(`Un-registering request handler for ${unregistration.id} failed.`);\n        });\n        return true;\n    }\n}\nclass RemoteClientImpl {\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    register(typeOrRegistrations, registerOptionsOrType, registerOptions) {\n        if (typeOrRegistrations instanceof BulkRegistrationImpl) {\n            return this.registerMany(typeOrRegistrations);\n        }\n        else if (typeOrRegistrations instanceof BulkUnregistrationImpl) {\n            return this.registerSingle1(typeOrRegistrations, registerOptionsOrType, registerOptions);\n        }\n        else {\n            return this.registerSingle2(typeOrRegistrations, registerOptionsOrType);\n        }\n    }\n    registerSingle1(unregistration, type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        const id = UUID.generateUuid();\n        let params = {\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\n        };\n        if (!unregistration.isAttached) {\n            unregistration.attach(this.connection);\n        }\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\n            unregistration.add({ id: id, method: method });\n            return unregistration;\n        }, (_error) => {\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\n            return Promise.reject(_error);\n        });\n    }\n    registerSingle2(type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        const id = UUID.generateUuid();\n        let params = {\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\n        };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\n            return vscode_languageserver_protocol_1.Disposable.create(() => {\n                this.unregisterSingle(id, method).catch(() => { this.connection.console.info(`Un-registering capability with id ${id} failed.`); });\n            });\n        }, (_error) => {\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\n            return Promise.reject(_error);\n        });\n    }\n    unregisterSingle(id, method) {\n        let params = {\n            unregisterations: [{ id, method }]\n        };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).catch(() => {\n            this.connection.console.info(`Un-registering request handler for ${id} failed.`);\n        });\n    }\n    registerMany(registrations) {\n        let params = registrations.asRegistrationParams();\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then(() => {\n            return new BulkUnregistrationImpl(this._connection, params.registrations.map(registration => { return { id: registration.id, method: registration.method }; }));\n        }, (_error) => {\n            this.connection.console.info(`Bulk registration failed.`);\n            return Promise.reject(_error);\n        });\n    }\n}\nclass _RemoteWorkspaceImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    applyEdit(paramOrEdit) {\n        function isApplyWorkspaceEditParams(value) {\n            return value && !!value.edit;\n        }\n        let params = isApplyWorkspaceEditParams(paramOrEdit) ? paramOrEdit : { edit: paramOrEdit };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type, params);\n    }\n}\nconst RemoteWorkspaceImpl = (0, fileOperations_1.FileOperationsFeature)((0, workspaceFolder_1.WorkspaceFoldersFeature)((0, configuration_1.ConfigurationFeature)(_RemoteWorkspaceImpl)));\nclass TracerImpl {\n    constructor() {\n        this._trace = vscode_languageserver_protocol_1.Trace.Off;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    set trace(value) {\n        this._trace = value;\n    }\n    log(message, verbose) {\n        if (this._trace === vscode_languageserver_protocol_1.Trace.Off) {\n            return;\n        }\n        this.connection.sendNotification(vscode_languageserver_protocol_1.LogTraceNotification.type, {\n            message: message,\n            verbose: this._trace === vscode_languageserver_protocol_1.Trace.Verbose ? verbose : undefined\n        }).catch(() => {\n            // Very hard to decide what to do. We tried to send a log\n            // message which failed so we can't simply send another :-(.\n        });\n    }\n}\nclass TelemetryImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    logEvent(data) {\n        this.connection.sendNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type, data).catch(() => {\n            this.connection.console.log(`Sending TelemetryEventNotification failed`);\n        });\n    }\n}\nclass _LanguagesImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    attachWorkDoneProgress(params) {\n        return (0, progress_1.attachWorkDone)(this.connection, params);\n    }\n    attachPartialResultProgress(_type, params) {\n        return (0, progress_1.attachPartialResult)(this.connection, params);\n    }\n}\nexports._LanguagesImpl = _LanguagesImpl;\nconst LanguagesImpl = (0, moniker_1.MonikerFeature)((0, diagnostic_1.DiagnosticFeature)((0, inlayHint_1.InlayHintFeature)((0, inlineValue_1.InlineValueFeature)((0, typeHierarchy_1.TypeHierarchyFeature)((0, linkedEditingRange_1.LinkedEditingRangeFeature)((0, semanticTokens_1.SemanticTokensFeature)((0, callHierarchy_1.CallHierarchyFeature)(_LanguagesImpl))))))));\nclass _NotebooksImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    attachWorkDoneProgress(params) {\n        return (0, progress_1.attachWorkDone)(this.connection, params);\n    }\n    attachPartialResultProgress(_type, params) {\n        return (0, progress_1.attachPartialResult)(this.connection, params);\n    }\n}\nexports._NotebooksImpl = _NotebooksImpl;\nconst NotebooksImpl = (0, notebook_1.NotebookSyncFeature)(_NotebooksImpl);\nfunction combineConsoleFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineConsoleFeatures = combineConsoleFeatures;\nfunction combineTelemetryFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineTelemetryFeatures = combineTelemetryFeatures;\nfunction combineTracerFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineTracerFeatures = combineTracerFeatures;\nfunction combineClientFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineClientFeatures = combineClientFeatures;\nfunction combineWindowFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineWindowFeatures = combineWindowFeatures;\nfunction combineWorkspaceFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineWorkspaceFeatures = combineWorkspaceFeatures;\nfunction combineLanguagesFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineLanguagesFeatures = combineLanguagesFeatures;\nfunction combineNotebooksFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineNotebooksFeatures = combineNotebooksFeatures;\nfunction combineFeatures(one, two) {\n    function combine(one, two, func) {\n        if (one && two) {\n            return func(one, two);\n        }\n        else if (one) {\n            return one;\n        }\n        else {\n            return two;\n        }\n    }\n    let result = {\n        __brand: 'features',\n        console: combine(one.console, two.console, combineConsoleFeatures),\n        tracer: combine(one.tracer, two.tracer, combineTracerFeatures),\n        telemetry: combine(one.telemetry, two.telemetry, combineTelemetryFeatures),\n        client: combine(one.client, two.client, combineClientFeatures),\n        window: combine(one.window, two.window, combineWindowFeatures),\n        workspace: combine(one.workspace, two.workspace, combineWorkspaceFeatures),\n        languages: combine(one.languages, two.languages, combineLanguagesFeatures),\n        notebooks: combine(one.notebooks, two.notebooks, combineNotebooksFeatures)\n    };\n    return result;\n}\nexports.combineFeatures = combineFeatures;\nfunction createConnection(connectionFactory, watchDog, factories) {\n    const logger = (factories && factories.console ? new (factories.console(RemoteConsoleImpl))() : new RemoteConsoleImpl());\n    const connection = connectionFactory(logger);\n    logger.rawAttach(connection);\n    const tracer = (factories && factories.tracer ? new (factories.tracer(TracerImpl))() : new TracerImpl());\n    const telemetry = (factories && factories.telemetry ? new (factories.telemetry(TelemetryImpl))() : new TelemetryImpl());\n    const client = (factories && factories.client ? new (factories.client(RemoteClientImpl))() : new RemoteClientImpl());\n    const remoteWindow = (factories && factories.window ? new (factories.window(RemoteWindowImpl))() : new RemoteWindowImpl());\n    const workspace = (factories && factories.workspace ? new (factories.workspace(RemoteWorkspaceImpl))() : new RemoteWorkspaceImpl());\n    const languages = (factories && factories.languages ? new (factories.languages(LanguagesImpl))() : new LanguagesImpl());\n    const notebooks = (factories && factories.notebooks ? new (factories.notebooks(NotebooksImpl))() : new NotebooksImpl());\n    const allRemotes = [logger, tracer, telemetry, client, remoteWindow, workspace, languages, notebooks];\n    function asPromise(value) {\n        if (value instanceof Promise) {\n            return value;\n        }\n        else if (Is.thenable(value)) {\n            return new Promise((resolve, reject) => {\n                value.then((resolved) => resolve(resolved), (error) => reject(error));\n            });\n        }\n        else {\n            return Promise.resolve(value);\n        }\n    }\n    let shutdownHandler = undefined;\n    let initializeHandler = undefined;\n    let exitHandler = undefined;\n    let protocolConnection = {\n        listen: () => connection.listen(),\n        sendRequest: (type, ...params) => connection.sendRequest(Is.string(type) ? type : type.method, ...params),\n        onRequest: (type, handler) => connection.onRequest(type, handler),\n        sendNotification: (type, param) => {\n            const method = Is.string(type) ? type : type.method;\n            if (arguments.length === 1) {\n                return connection.sendNotification(method);\n            }\n            else {\n                return connection.sendNotification(method, param);\n            }\n        },\n        onNotification: (type, handler) => connection.onNotification(type, handler),\n        onProgress: connection.onProgress,\n        sendProgress: connection.sendProgress,\n        onInitialize: (handler) => {\n            initializeHandler = handler;\n            return {\n                dispose: () => {\n                    initializeHandler = undefined;\n                }\n            };\n        },\n        onInitialized: (handler) => connection.onNotification(vscode_languageserver_protocol_1.InitializedNotification.type, handler),\n        onShutdown: (handler) => {\n            shutdownHandler = handler;\n            return {\n                dispose: () => {\n                    shutdownHandler = undefined;\n                }\n            };\n        },\n        onExit: (handler) => {\n            exitHandler = handler;\n            return {\n                dispose: () => {\n                    exitHandler = undefined;\n                }\n            };\n        },\n        get console() { return logger; },\n        get telemetry() { return telemetry; },\n        get tracer() { return tracer; },\n        get client() { return client; },\n        get window() { return remoteWindow; },\n        get workspace() { return workspace; },\n        get languages() { return languages; },\n        get notebooks() { return notebooks; },\n        onDidChangeConfiguration: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, handler),\n        onDidChangeWatchedFiles: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type, handler),\n        __textDocumentSync: undefined,\n        onDidOpenTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, handler),\n        onDidChangeTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, handler),\n        onDidCloseTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, handler),\n        onWillSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type, handler),\n        onWillSaveTextDocumentWaitUntil: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type, handler),\n        onDidSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, handler),\n        sendDiagnostics: (params) => connection.sendNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type, params),\n        onHover: (handler) => connection.onRequest(vscode_languageserver_protocol_1.HoverRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onCompletion: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onCompletionResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, handler),\n        onSignatureHelp: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onDeclaration: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onTypeDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onImplementation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onReferences: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDocumentHighlight: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDocumentSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onWorkspaceSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onWorkspaceSymbolResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WorkspaceSymbolResolveRequest.type, handler),\n        onCodeAction: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onCodeActionResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onCodeLens: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onCodeLensResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onDocumentRangeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onDocumentOnTypeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onRenameRequest: (handler) => connection.onRequest(vscode_languageserver_protocol_1.RenameRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onPrepareRename: (handler) => connection.onRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentLinks: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDocumentLinkResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentColor: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onColorPresentation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onFoldingRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onSelectionRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onExecuteCommand: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        dispose: () => connection.dispose()\n    };\n    for (let remote of allRemotes) {\n        remote.attach(protocolConnection);\n    }\n    connection.onRequest(vscode_languageserver_protocol_1.InitializeRequest.type, (params) => {\n        watchDog.initialize(params);\n        if (Is.string(params.trace)) {\n            tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.trace);\n        }\n        for (let remote of allRemotes) {\n            remote.initialize(params.capabilities);\n        }\n        if (initializeHandler) {\n            let result = initializeHandler(params, new vscode_languageserver_protocol_1.CancellationTokenSource().token, (0, progress_1.attachWorkDone)(connection, params), undefined);\n            return asPromise(result).then((value) => {\n                if (value instanceof vscode_languageserver_protocol_1.ResponseError) {\n                    return value;\n                }\n                let result = value;\n                if (!result) {\n                    result = { capabilities: {} };\n                }\n                let capabilities = result.capabilities;\n                if (!capabilities) {\n                    capabilities = {};\n                    result.capabilities = capabilities;\n                }\n                if (capabilities.textDocumentSync === undefined || capabilities.textDocumentSync === null) {\n                    capabilities.textDocumentSync = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n                }\n                else if (!Is.number(capabilities.textDocumentSync) && !Is.number(capabilities.textDocumentSync.change)) {\n                    capabilities.textDocumentSync.change = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n                }\n                for (let remote of allRemotes) {\n                    remote.fillServerCapabilities(capabilities);\n                }\n                return result;\n            });\n        }\n        else {\n            let result = { capabilities: { textDocumentSync: vscode_languageserver_protocol_1.TextDocumentSyncKind.None } };\n            for (let remote of allRemotes) {\n                remote.fillServerCapabilities(result.capabilities);\n            }\n            return result;\n        }\n    });\n    connection.onRequest(vscode_languageserver_protocol_1.ShutdownRequest.type, () => {\n        watchDog.shutdownReceived = true;\n        if (shutdownHandler) {\n            return shutdownHandler(new vscode_languageserver_protocol_1.CancellationTokenSource().token);\n        }\n        else {\n            return undefined;\n        }\n    });\n    connection.onNotification(vscode_languageserver_protocol_1.ExitNotification.type, () => {\n        try {\n            if (exitHandler) {\n                exitHandler();\n            }\n        }\n        finally {\n            if (watchDog.shutdownReceived) {\n                watchDog.exit(0);\n            }\n            else {\n                watchDog.exit(1);\n            }\n        }\n    });\n    connection.onNotification(vscode_languageserver_protocol_1.SetTraceNotification.type, (params) => {\n        tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.value);\n    });\n    return protocolConnection;\n}\nexports.createConnection = createConnection;\n//# sourceMappingURL=server.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst ShowDocumentFeature = (Base) => {\n    return class extends Base {\n        showDocument(params) {\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowDocumentRequest.type, params);\n        }\n    };\n};\nexports.ShowDocumentFeature = ShowDocumentFeature;\n//# sourceMappingURL=showDocument.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextDocuments = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\n/**\n * A manager for simple text documents. The manager requires at a minimum that\n * the server registered for the following text document sync events in the\n * initialize handler or via dynamic registration:\n *\n * - open and close events.\n * - change events.\n *\n * Registering for save and will save events is optional.\n */\nclass TextDocuments {\n    /**\n     * Create a new text document manager.\n     */\n    constructor(configuration) {\n        this._configuration = configuration;\n        this._syncedDocuments = new Map();\n        this._onDidChangeContent = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidOpen = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidClose = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidSave = new vscode_languageserver_protocol_1.Emitter();\n        this._onWillSave = new vscode_languageserver_protocol_1.Emitter();\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been opened.\n     */\n    get onDidOpen() {\n        return this._onDidOpen.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been opened or the content changes.\n     */\n    get onDidChangeContent() {\n        return this._onDidChangeContent.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * will be saved.\n     */\n    get onWillSave() {\n        return this._onWillSave.event;\n    }\n    /**\n     * Sets a handler that will be called if a participant wants to provide\n     * edits during a text document save.\n     */\n    onWillSaveWaitUntil(handler) {\n        this._willSaveWaitUntil = handler;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been saved.\n     */\n    get onDidSave() {\n        return this._onDidSave.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been closed.\n     */\n    get onDidClose() {\n        return this._onDidClose.event;\n    }\n    /**\n     * Returns the document for the given URI. Returns undefined if\n     * the document is not managed by this instance.\n     *\n     * @param uri The text document's URI to retrieve.\n     * @return the text document or `undefined`.\n     */\n    get(uri) {\n        return this._syncedDocuments.get(uri);\n    }\n    /**\n     * Returns all text documents managed by this instance.\n     *\n     * @return all text documents.\n     */\n    all() {\n        return Array.from(this._syncedDocuments.values());\n    }\n    /**\n     * Returns the URIs of all text documents managed by this instance.\n     *\n     * @return the URI's of all text documents.\n     */\n    keys() {\n        return Array.from(this._syncedDocuments.keys());\n    }\n    /**\n     * Listens for `low level` notification on the given connection to\n     * update the text documents managed by this instance.\n     *\n     * Please note that the connection only provides handlers not an event model. Therefore\n     * listening on a connection will overwrite the following handlers on a connection:\n     * `onDidOpenTextDocument`, `onDidChangeTextDocument`, `onDidCloseTextDocument`,\n     * `onWillSaveTextDocument`, `onWillSaveTextDocumentWaitUntil` and `onDidSaveTextDocument`.\n     *\n     * Use the corresponding events on the TextDocuments instance instead.\n     *\n     * @param connection The connection to listen on.\n     */\n    listen(connection) {\n        connection.__textDocumentSync = vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental;\n        const disposables = [];\n        disposables.push(connection.onDidOpenTextDocument((event) => {\n            const td = event.textDocument;\n            const document = this._configuration.create(td.uri, td.languageId, td.version, td.text);\n            this._syncedDocuments.set(td.uri, document);\n            const toFire = Object.freeze({ document });\n            this._onDidOpen.fire(toFire);\n            this._onDidChangeContent.fire(toFire);\n        }));\n        disposables.push(connection.onDidChangeTextDocument((event) => {\n            const td = event.textDocument;\n            const changes = event.contentChanges;\n            if (changes.length === 0) {\n                return;\n            }\n            const { version } = td;\n            if (version === null || version === undefined) {\n                throw new Error(`Received document change event for ${td.uri} without valid version identifier`);\n            }\n            let syncedDocument = this._syncedDocuments.get(td.uri);\n            if (syncedDocument !== undefined) {\n                syncedDocument = this._configuration.update(syncedDocument, changes, version);\n                this._syncedDocuments.set(td.uri, syncedDocument);\n                this._onDidChangeContent.fire(Object.freeze({ document: syncedDocument }));\n            }\n        }));\n        disposables.push(connection.onDidCloseTextDocument((event) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined) {\n                this._syncedDocuments.delete(event.textDocument.uri);\n                this._onDidClose.fire(Object.freeze({ document: syncedDocument }));\n            }\n        }));\n        disposables.push(connection.onWillSaveTextDocument((event) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined) {\n                this._onWillSave.fire(Object.freeze({ document: syncedDocument, reason: event.reason }));\n            }\n        }));\n        disposables.push(connection.onWillSaveTextDocumentWaitUntil((event, token) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined && this._willSaveWaitUntil) {\n                return this._willSaveWaitUntil(Object.freeze({ document: syncedDocument, reason: event.reason }), token);\n            }\n            else {\n                return [];\n            }\n        }));\n        disposables.push(connection.onDidSaveTextDocument((event) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined) {\n                this._onDidSave.fire(Object.freeze({ document: syncedDocument }));\n            }\n        }));\n        return vscode_languageserver_protocol_1.Disposable.create(() => { disposables.forEach(disposable => disposable.dispose()); });\n    }\n}\nexports.TextDocuments = TextDocuments;\n//# sourceMappingURL=textDocuments.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchyFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst TypeHierarchyFeature = (Base) => {\n    return class extends Base {\n        get typeHierarchy() {\n            return {\n                onPrepare: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.TypeHierarchyPrepareRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n                    });\n                },\n                onSupertypes: (handler) => {\n                    const type = vscode_languageserver_protocol_1.TypeHierarchySupertypesRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onSubtypes: (handler) => {\n                    const type = vscode_languageserver_protocol_1.TypeHierarchySubtypesRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.TypeHierarchyFeature = TypeHierarchyFeature;\n//# sourceMappingURL=typeHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.thenable = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction thenable(value) {\n    return value && func(value.then);\n}\nexports.thenable = thenable;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateUuid = exports.parse = exports.isUUID = exports.v4 = exports.empty = void 0;\nclass ValueUUID {\n    constructor(_value) {\n        this._value = _value;\n        // empty\n    }\n    asHex() {\n        return this._value;\n    }\n    equals(other) {\n        return this.asHex() === other.asHex();\n    }\n}\nclass V4UUID extends ValueUUID {\n    constructor() {\n        super([\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            '4',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._oneOf(V4UUID._timeHighBits),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n        ].join(''));\n    }\n    static _oneOf(array) {\n        return array[Math.floor(array.length * Math.random())];\n    }\n    static _randomHex() {\n        return V4UUID._oneOf(V4UUID._chars);\n    }\n}\nV4UUID._chars = ['0', '1', '2', '3', '4', '5', '6', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\nV4UUID._timeHighBits = ['8', '9', 'a', 'b'];\n/**\n * An empty UUID that contains only zeros.\n */\nexports.empty = new ValueUUID('00000000-0000-0000-0000-000000000000');\nfunction v4() {\n    return new V4UUID();\n}\nexports.v4 = v4;\nconst _UUIDPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\nfunction isUUID(value) {\n    return _UUIDPattern.test(value);\n}\nexports.isUUID = isUUID;\n/**\n * Parses a UUID that is of the format xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.\n * @param value A uuid string.\n */\nfunction parse(value) {\n    if (!isUUID(value)) {\n        throw new Error('invalid uuid');\n    }\n    return new ValueUUID(value);\n}\nexports.parse = parse;\nfunction generateUuid() {\n    return v4().asHex();\n}\nexports.generateUuid = generateUuid;\n//# sourceMappingURL=uuid.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceFoldersFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst WorkspaceFoldersFeature = (Base) => {\n    return class extends Base {\n        constructor() {\n            super();\n            this._notificationIsAutoRegistered = false;\n        }\n        initialize(capabilities) {\n            super.initialize(capabilities);\n            let workspaceCapabilities = capabilities.workspace;\n            if (workspaceCapabilities && workspaceCapabilities.workspaceFolders) {\n                this._onDidChangeWorkspaceFolders = new vscode_languageserver_protocol_1.Emitter();\n                this.connection.onNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type, (params) => {\n                    this._onDidChangeWorkspaceFolders.fire(params.event);\n                });\n            }\n        }\n        fillServerCapabilities(capabilities) {\n            super.fillServerCapabilities(capabilities);\n            const changeNotifications = capabilities.workspace?.workspaceFolders?.changeNotifications;\n            this._notificationIsAutoRegistered = changeNotifications === true || typeof changeNotifications === 'string';\n        }\n        getWorkspaceFolders() {\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type);\n        }\n        get onDidChangeWorkspaceFolders() {\n            if (!this._onDidChangeWorkspaceFolders) {\n                throw new Error('Client doesn\\'t support sending workspace folder change events.');\n            }\n            if (!this._notificationIsAutoRegistered && !this._unregistration) {\n                this._unregistration = this.connection.client.register(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type);\n            }\n            return this._onDidChangeWorkspaceFolders.event;\n        }\n    };\n};\nexports.WorkspaceFoldersFeature = WorkspaceFoldersFeature;\n//# sourceMappingURL=workspaceFolder.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveModulePath = exports.FileSystem = exports.resolveGlobalYarnPath = exports.resolveGlobalNodePath = exports.resolve = exports.uriToFilePath = void 0;\nconst url = require(\"url\");\nconst path = require(\"path\");\nconst fs = require(\"fs\");\nconst child_process_1 = require(\"child_process\");\n/**\n * @deprecated Use the `vscode-uri` npm module which provides a more\n * complete implementation of handling VS Code URIs.\n */\nfunction uriToFilePath(uri) {\n    let parsed = url.parse(uri);\n    if (parsed.protocol !== 'file:' || !parsed.path) {\n        return undefined;\n    }\n    let segments = parsed.path.split('/');\n    for (var i = 0, len = segments.length; i < len; i++) {\n        segments[i] = decodeURIComponent(segments[i]);\n    }\n    if (process.platform === 'win32' && segments.length > 1) {\n        let first = segments[0];\n        let second = segments[1];\n        // Do we have a drive letter and we started with a / which is the\n        // case if the first segement is empty (see split above)\n        if (first.length === 0 && second.length > 1 && second[1] === ':') {\n            // Remove first slash\n            segments.shift();\n        }\n    }\n    return path.normalize(segments.join('/'));\n}\nexports.uriToFilePath = uriToFilePath;\nfunction isWindows() {\n    return process.platform === 'win32';\n}\nfunction resolve(moduleName, nodePath, cwd, tracer) {\n    const nodePathKey = 'NODE_PATH';\n    const app = [\n        'var p = process;',\n        'p.on(\\'message\\',function(m){',\n        'if(m.c===\\'e\\'){',\n        'p.exit(0);',\n        '}',\n        'else if(m.c===\\'rs\\'){',\n        'try{',\n        'var r=require.resolve(m.a);',\n        'p.send({c:\\'r\\',s:true,r:r});',\n        '}',\n        'catch(err){',\n        'p.send({c:\\'r\\',s:false});',\n        '}',\n        '}',\n        '});'\n    ].join('');\n    return new Promise((resolve, reject) => {\n        let env = process.env;\n        let newEnv = Object.create(null);\n        Object.keys(env).forEach(key => newEnv[key] = env[key]);\n        if (nodePath && fs.existsSync(nodePath) /* see issue 545 */) {\n            if (newEnv[nodePathKey]) {\n                newEnv[nodePathKey] = nodePath + path.delimiter + newEnv[nodePathKey];\n            }\n            else {\n                newEnv[nodePathKey] = nodePath;\n            }\n            if (tracer) {\n                tracer(`NODE_PATH value is: ${newEnv[nodePathKey]}`);\n            }\n        }\n        newEnv['ELECTRON_RUN_AS_NODE'] = '1';\n        try {\n            let cp = (0, child_process_1.fork)('', [], {\n                cwd: cwd,\n                env: newEnv,\n                execArgv: ['-e', app]\n            });\n            if (cp.pid === void 0) {\n                reject(new Error(`Starting process to resolve node module  ${moduleName} failed`));\n                return;\n            }\n            cp.on('error', (error) => {\n                reject(error);\n            });\n            cp.on('message', (message) => {\n                if (message.c === 'r') {\n                    cp.send({ c: 'e' });\n                    if (message.s) {\n                        resolve(message.r);\n                    }\n                    else {\n                        reject(new Error(`Failed to resolve module: ${moduleName}`));\n                    }\n                }\n            });\n            let message = {\n                c: 'rs',\n                a: moduleName\n            };\n            cp.send(message);\n        }\n        catch (error) {\n            reject(error);\n        }\n    });\n}\nexports.resolve = resolve;\n/**\n * Resolve the global npm package path.\n * @deprecated Since this depends on the used package manager and their version the best is that servers\n * implement this themselves since they know best what kind of package managers to support.\n * @param tracer the tracer to use\n */\nfunction resolveGlobalNodePath(tracer) {\n    let npmCommand = 'npm';\n    const env = Object.create(null);\n    Object.keys(process.env).forEach(key => env[key] = process.env[key]);\n    env['NO_UPDATE_NOTIFIER'] = 'true';\n    const options = {\n        encoding: 'utf8',\n        env\n    };\n    if (isWindows()) {\n        npmCommand = 'npm.cmd';\n        options.shell = true;\n    }\n    let handler = () => { };\n    try {\n        process.on('SIGPIPE', handler);\n        let stdout = (0, child_process_1.spawnSync)(npmCommand, ['config', 'get', 'prefix'], options).stdout;\n        if (!stdout) {\n            if (tracer) {\n                tracer(`'npm config get prefix' didn't return a value.`);\n            }\n            return undefined;\n        }\n        let prefix = stdout.trim();\n        if (tracer) {\n            tracer(`'npm config get prefix' value is: ${prefix}`);\n        }\n        if (prefix.length > 0) {\n            if (isWindows()) {\n                return path.join(prefix, 'node_modules');\n            }\n            else {\n                return path.join(prefix, 'lib', 'node_modules');\n            }\n        }\n        return undefined;\n    }\n    catch (err) {\n        return undefined;\n    }\n    finally {\n        process.removeListener('SIGPIPE', handler);\n    }\n}\nexports.resolveGlobalNodePath = resolveGlobalNodePath;\n/*\n * Resolve the global yarn pakage path.\n * @deprecated Since this depends on the used package manager and their version the best is that servers\n * implement this themselves since they know best what kind of package managers to support.\n * @param tracer the tracer to use\n */\nfunction resolveGlobalYarnPath(tracer) {\n    let yarnCommand = 'yarn';\n    let options = {\n        encoding: 'utf8'\n    };\n    if (isWindows()) {\n        yarnCommand = 'yarn.cmd';\n        options.shell = true;\n    }\n    let handler = () => { };\n    try {\n        process.on('SIGPIPE', handler);\n        let results = (0, child_process_1.spawnSync)(yarnCommand, ['global', 'dir', '--json'], options);\n        let stdout = results.stdout;\n        if (!stdout) {\n            if (tracer) {\n                tracer(`'yarn global dir' didn't return a value.`);\n                if (results.stderr) {\n                    tracer(results.stderr);\n                }\n            }\n            return undefined;\n        }\n        let lines = stdout.trim().split(/\\r?\\n/);\n        for (let line of lines) {\n            try {\n                let yarn = JSON.parse(line);\n                if (yarn.type === 'log') {\n                    return path.join(yarn.data, 'node_modules');\n                }\n            }\n            catch (e) {\n                // Do nothing. Ignore the line\n            }\n        }\n        return undefined;\n    }\n    catch (err) {\n        return undefined;\n    }\n    finally {\n        process.removeListener('SIGPIPE', handler);\n    }\n}\nexports.resolveGlobalYarnPath = resolveGlobalYarnPath;\nvar FileSystem;\n(function (FileSystem) {\n    let _isCaseSensitive = undefined;\n    function isCaseSensitive() {\n        if (_isCaseSensitive !== void 0) {\n            return _isCaseSensitive;\n        }\n        if (process.platform === 'win32') {\n            _isCaseSensitive = false;\n        }\n        else {\n            // convert current file name to upper case / lower case and check if file exists\n            // (guards against cases when name is already all uppercase or lowercase)\n            _isCaseSensitive = !fs.existsSync(__filename.toUpperCase()) || !fs.existsSync(__filename.toLowerCase());\n        }\n        return _isCaseSensitive;\n    }\n    FileSystem.isCaseSensitive = isCaseSensitive;\n    function isParent(parent, child) {\n        if (isCaseSensitive()) {\n            return path.normalize(child).indexOf(path.normalize(parent)) === 0;\n        }\n        else {\n            return path.normalize(child).toLowerCase().indexOf(path.normalize(parent).toLowerCase()) === 0;\n        }\n    }\n    FileSystem.isParent = isParent;\n})(FileSystem = exports.FileSystem || (exports.FileSystem = {}));\nfunction resolveModulePath(workspaceRoot, moduleName, nodePath, tracer) {\n    if (nodePath) {\n        if (!path.isAbsolute(nodePath)) {\n            nodePath = path.join(workspaceRoot, nodePath);\n        }\n        return resolve(moduleName, nodePath, nodePath, tracer).then((value) => {\n            if (FileSystem.isParent(nodePath, value)) {\n                return value;\n            }\n            else {\n                return Promise.reject(new Error(`Failed to load ${moduleName} from node path location.`));\n            }\n        }).then(undefined, (_error) => {\n            return resolve(moduleName, resolveGlobalNodePath(tracer), workspaceRoot, tracer);\n        });\n    }\n    else {\n        return resolve(moduleName, resolveGlobalNodePath(tracer), workspaceRoot, tracer);\n    }\n}\nexports.resolveModulePath = resolveModulePath;\n//# sourceMappingURL=files.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConnection = exports.Files = void 0;\nconst Is = require(\"../common/utils/is\");\nconst server_1 = require(\"../common/server\");\nconst fm = require(\"./files\");\nconst node_1 = require(\"vscode-languageserver-protocol/node\");\n__exportStar(require(\"vscode-languageserver-protocol/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nvar Files;\n(function (Files) {\n    Files.uriToFilePath = fm.uriToFilePath;\n    Files.resolveGlobalNodePath = fm.resolveGlobalNodePath;\n    Files.resolveGlobalYarnPath = fm.resolveGlobalYarnPath;\n    Files.resolve = fm.resolve;\n    Files.resolveModulePath = fm.resolveModulePath;\n})(Files = exports.Files || (exports.Files = {}));\nlet _protocolConnection;\nfunction endProtocolConnection() {\n    if (_protocolConnection === undefined) {\n        return;\n    }\n    try {\n        _protocolConnection.end();\n    }\n    catch (_err) {\n        // Ignore. The client process could have already\n        // did and we can't send an end into the connection.\n    }\n}\nlet _shutdownReceived = false;\nlet exitTimer = undefined;\nfunction setupExitTimer() {\n    const argName = '--clientProcessId';\n    function runTimer(value) {\n        try {\n            let processId = parseInt(value);\n            if (!isNaN(processId)) {\n                exitTimer = setInterval(() => {\n                    try {\n                        process.kill(processId, 0);\n                    }\n                    catch (ex) {\n                        // Parent process doesn't exist anymore. Exit the server.\n                        endProtocolConnection();\n                        process.exit(_shutdownReceived ? 0 : 1);\n                    }\n                }, 3000);\n            }\n        }\n        catch (e) {\n            // Ignore errors;\n        }\n    }\n    for (let i = 2; i < process.argv.length; i++) {\n        let arg = process.argv[i];\n        if (arg === argName && i + 1 < process.argv.length) {\n            runTimer(process.argv[i + 1]);\n            return;\n        }\n        else {\n            let args = arg.split('=');\n            if (args[0] === argName) {\n                runTimer(args[1]);\n            }\n        }\n    }\n}\nsetupExitTimer();\nconst watchDog = {\n    initialize: (params) => {\n        const processId = params.processId;\n        if (Is.number(processId) && exitTimer === undefined) {\n            // We received a parent process id. Set up a timer to periodically check\n            // if the parent is still alive.\n            setInterval(() => {\n                try {\n                    process.kill(processId, 0);\n                }\n                catch (ex) {\n                    // Parent process doesn't exist anymore. Exit the server.\n                    process.exit(_shutdownReceived ? 0 : 1);\n                }\n            }, 3000);\n        }\n    },\n    get shutdownReceived() {\n        return _shutdownReceived;\n    },\n    set shutdownReceived(value) {\n        _shutdownReceived = value;\n    },\n    exit: (code) => {\n        endProtocolConnection();\n        process.exit(code);\n    }\n};\nfunction createConnection(arg1, arg2, arg3, arg4) {\n    let factories;\n    let input;\n    let output;\n    let options;\n    if (arg1 !== void 0 && arg1.__brand === 'features') {\n        factories = arg1;\n        arg1 = arg2;\n        arg2 = arg3;\n        arg3 = arg4;\n    }\n    if (node_1.ConnectionStrategy.is(arg1) || node_1.ConnectionOptions.is(arg1)) {\n        options = arg1;\n    }\n    else {\n        input = arg1;\n        output = arg2;\n        options = arg3;\n    }\n    return _createConnection(input, output, options, factories);\n}\nexports.createConnection = createConnection;\nfunction _createConnection(input, output, options, factories) {\n    if (!input && !output && process.argv.length > 2) {\n        let port = void 0;\n        let pipeName = void 0;\n        let argv = process.argv.slice(2);\n        for (let i = 0; i < argv.length; i++) {\n            let arg = argv[i];\n            if (arg === '--node-ipc') {\n                input = new node_1.IPCMessageReader(process);\n                output = new node_1.IPCMessageWriter(process);\n                break;\n            }\n            else if (arg === '--stdio') {\n                input = process.stdin;\n                output = process.stdout;\n                break;\n            }\n            else if (arg === '--socket') {\n                port = parseInt(argv[i + 1]);\n                break;\n            }\n            else if (arg === '--pipe') {\n                pipeName = argv[i + 1];\n                break;\n            }\n            else {\n                var args = arg.split('=');\n                if (args[0] === '--socket') {\n                    port = parseInt(args[1]);\n                    break;\n                }\n                else if (args[0] === '--pipe') {\n                    pipeName = args[1];\n                    break;\n                }\n            }\n        }\n        if (port) {\n            let transport = (0, node_1.createServerSocketTransport)(port);\n            input = transport[0];\n            output = transport[1];\n        }\n        else if (pipeName) {\n            let transport = (0, node_1.createServerPipeTransport)(pipeName);\n            input = transport[0];\n            output = transport[1];\n        }\n    }\n    var commandLineMessage = 'Use arguments of createConnection or set command line parameters: \\'--node-ipc\\', \\'--stdio\\' or \\'--socket={number}\\'';\n    if (!input) {\n        throw new Error('Connection input stream is not set. ' + commandLineMessage);\n    }\n    if (!output) {\n        throw new Error('Connection output stream is not set. ' + commandLineMessage);\n    }\n    // Backwards compatibility\n    if (Is.func(input.read) && Is.func(input.on)) {\n        let inputStream = input;\n        inputStream.on('end', () => {\n            endProtocolConnection();\n            process.exit(_shutdownReceived ? 0 : 1);\n        });\n        inputStream.on('close', () => {\n            endProtocolConnection();\n            process.exit(_shutdownReceived ? 0 : 1);\n        });\n    }\n    const connectionFactory = (logger) => {\n        const result = (0, node_1.createProtocolConnection)(input, output, logger, options);\n        return result;\n    };\n    return (0, server_1.createConnection)(connectionFactory, watchDog, factories);\n}\n//# sourceMappingURL=main.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isExcludedPath = exports.getLsConfiguration = exports.defaultMarkdownFileExtension = void 0;\nconst picomatch = require(\"picomatch\");\nexports.defaultMarkdownFileExtension = 'md';\nconst defaultConfig = {\n    markdownFileExtensions: [exports.defaultMarkdownFileExtension],\n    knownLinkedToFileExtensions: [\n        'jpg',\n        'jpeg',\n        'png',\n        'gif',\n        'webp',\n        'bmp',\n        'tiff',\n    ],\n    excludePaths: [\n        '**/.*',\n        '**/node_modules/**',\n    ]\n};\nfunction getLsConfiguration(overrides) {\n    return {\n        ...defaultConfig,\n        ...overrides,\n    };\n}\nexports.getLsConfiguration = getLsConfiguration;\nfunction isExcludedPath(configuration, uri) {\n    return configuration.excludePaths.some(excludePath => picomatch.isMatch(uri.path, excludePath));\n}\nexports.isExcludedPath = isExcludedPath;\n//# sourceMappingURL=config.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createLanguageService = exports.githubSlugifier = exports.LogLevel = exports.RenameNotSupportedAtLocationError = exports.DiagnosticLevel = exports.DiagnosticCode = void 0;\nconst config_1 = require(\"./config\");\nconst extractLinkDef_1 = require(\"./languageFeatures/codeActions/extractLinkDef\");\nconst definitions_1 = require(\"./languageFeatures/definitions\");\nconst diagnostics_1 = require(\"./languageFeatures/diagnostics\");\nconst documentLinks_1 = require(\"./languageFeatures/documentLinks\");\nconst documentSymbols_1 = require(\"./languageFeatures/documentSymbols\");\nconst fileRename_1 = require(\"./languageFeatures/fileRename\");\nconst folding_1 = require(\"./languageFeatures/folding\");\nconst organizeLinkDefs_1 = require(\"./languageFeatures/organizeLinkDefs\");\nconst pathCompletions_1 = require(\"./languageFeatures/pathCompletions\");\nconst references_1 = require(\"./languageFeatures/references\");\nconst rename_1 = require(\"./languageFeatures/rename\");\nconst smartSelect_1 = require(\"./languageFeatures/smartSelect\");\nconst workspaceSymbols_1 = require(\"./languageFeatures/workspaceSymbols\");\nconst tableOfContents_1 = require(\"./tableOfContents\");\nconst workspace_1 = require(\"./workspace\");\nvar diagnostics_2 = require(\"./languageFeatures/diagnostics\");\nObject.defineProperty(exports, \"DiagnosticCode\", { enumerable: true, get: function () { return diagnostics_2.DiagnosticCode; } });\nObject.defineProperty(exports, \"DiagnosticLevel\", { enumerable: true, get: function () { return diagnostics_2.DiagnosticLevel; } });\nvar rename_2 = require(\"./languageFeatures/rename\");\nObject.defineProperty(exports, \"RenameNotSupportedAtLocationError\", { enumerable: true, get: function () { return rename_2.RenameNotSupportedAtLocationError; } });\nvar logging_1 = require(\"./logging\");\nObject.defineProperty(exports, \"LogLevel\", { enumerable: true, get: function () { return logging_1.LogLevel; } });\nvar slugify_1 = require(\"./slugify\");\nObject.defineProperty(exports, \"githubSlugifier\", { enumerable: true, get: function () { return slugify_1.githubSlugifier; } });\n/**\n * Create a new instance of the {@link IMdLanguageService language service}.\n */\nfunction createLanguageService(init) {\n    const config = (0, config_1.getLsConfiguration)(init);\n    const logger = init.logger;\n    const tocProvider = new tableOfContents_1.MdTableOfContentsProvider(init.parser, init.workspace, logger);\n    const smartSelectProvider = new smartSelect_1.MdSelectionRangeProvider(init.parser, tocProvider, logger);\n    const foldingProvider = new folding_1.MdFoldingProvider(init.parser, tocProvider, logger);\n    const linkProvider = new documentLinks_1.MdLinkProvider(config, init.parser, init.workspace, tocProvider, logger);\n    const pathCompletionProvider = new pathCompletions_1.MdPathCompletionProvider(config, init.workspace, init.parser, linkProvider);\n    const linkCache = (0, documentLinks_1.createWorkspaceLinkCache)(init.parser, init.workspace);\n    const referencesProvider = new references_1.MdReferencesProvider(config, init.parser, init.workspace, tocProvider, linkCache, logger);\n    const definitionsProvider = new definitions_1.MdDefinitionProvider(config, init.workspace, tocProvider, linkCache);\n    const renameProvider = new rename_1.MdRenameProvider(config, init.workspace, referencesProvider, init.parser.slugifier, logger);\n    const fileRenameProvider = new fileRename_1.MdFileRenameProvider(config, init.workspace, linkCache, referencesProvider);\n    const diagnosticsComputer = new diagnostics_1.DiagnosticComputer(config, init.workspace, linkProvider, tocProvider);\n    const docSymbolProvider = new documentSymbols_1.MdDocumentSymbolProvider(tocProvider, linkProvider, logger);\n    const workspaceSymbolProvider = new workspaceSymbols_1.MdWorkspaceSymbolProvider(init.workspace, docSymbolProvider);\n    const organizeLinkDefinitions = new organizeLinkDefs_1.MdOrganizeLinkDefinitionProvider(linkProvider);\n    const extractCodeActionProvider = new extractLinkDef_1.MdExtractLinkDefinitionCodeActionProvider(linkProvider);\n    return Object.freeze({\n        dispose: () => {\n            linkCache.dispose();\n            tocProvider.dispose();\n            workspaceSymbolProvider.dispose();\n            linkProvider.dispose();\n            referencesProvider.dispose();\n        },\n        getDocumentLinks: linkProvider.provideDocumentLinks.bind(linkProvider),\n        resolveDocumentLink: linkProvider.resolveDocumentLink.bind(linkProvider),\n        resolveLinkTarget: linkProvider.resolveLinkTarget.bind(linkProvider),\n        getDocumentSymbols: docSymbolProvider.provideDocumentSymbols.bind(docSymbolProvider),\n        getFoldingRanges: foldingProvider.provideFoldingRanges.bind(foldingProvider),\n        getSelectionRanges: smartSelectProvider.provideSelectionRanges.bind(smartSelectProvider),\n        getWorkspaceSymbols: workspaceSymbolProvider.provideWorkspaceSymbols.bind(workspaceSymbolProvider),\n        getCompletionItems: pathCompletionProvider.provideCompletionItems.bind(pathCompletionProvider),\n        getReferences: referencesProvider.provideReferences.bind(referencesProvider),\n        getFileReferences: async (resource, token) => {\n            return (await referencesProvider.getReferencesToFileInWorkspace(resource, token)).map(x => x.location);\n        },\n        getDefinition: definitionsProvider.provideDefinition.bind(definitionsProvider),\n        organizeLinkDefinitions: organizeLinkDefinitions.getOrganizeLinkDefinitionEdits.bind(organizeLinkDefinitions),\n        prepareRename: renameProvider.prepareRename.bind(renameProvider),\n        getRenameEdit: renameProvider.provideRenameEdits.bind(renameProvider),\n        getRenameFilesInWorkspaceEdit: fileRenameProvider.getRenameFilesInWorkspaceEdit.bind(fileRenameProvider),\n        getCodeActions: async (doc, range, context, token) => {\n            return extractCodeActionProvider.getActions(doc, range, context, token);\n        },\n        computeDiagnostics: async (doc, options, token) => {\n            return (await diagnosticsComputer.compute(doc, options, token))?.diagnostics;\n        },\n        createPullDiagnosticsManager: () => {\n            if (!(0, workspace_1.isWorkspaceWithFileWatching)(init.workspace)) {\n                throw new Error(`Workspace does not support file watching. Diagnostics manager not supported`);\n            }\n            return new diagnostics_1.DiagnosticsManager(config, init.workspace, linkProvider, tocProvider);\n        }\n    });\n}\nexports.createLanguageService = createLanguageService;\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdExtractLinkDefinitionCodeActionProvider = void 0;\nconst lsp = require(\"vscode-languageserver-types\");\nconst nls = require(\"vscode-nls\");\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst position_1 = require(\"../../types/position\");\nconst range_1 = require(\"../../types/range\");\nconst textDocument_1 = require(\"../../types/textDocument\");\nconst editBuilder_1 = require(\"../../util/editBuilder\");\nconst documentLinks_1 = require(\"../documentLinks\");\nconst organizeLinkDefs_1 = require(\"../organizeLinkDefs\");\nconst localize = nls.loadMessageBundle();\nclass MdExtractLinkDefinitionCodeActionProvider {\n    constructor(_linkProvider) {\n        this._linkProvider = _linkProvider;\n    }\n    async getActions(doc, range, context, token) {\n        if (!this.isEnabled(context)) {\n            return [];\n        }\n        const linkInfo = await this._linkProvider.getLinks(doc);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const linksInRange = linkInfo.links.filter(link => link.kind !== documentLinks_1.MdLinkKind.Definition && (0, range_1.rangeIntersects)(range, link.source.range));\n        if (!linksInRange.length) {\n            return [MdExtractLinkDefinitionCodeActionProvider.notOnLinkAction];\n        }\n        // Even though multiple links may be in the selection, we only generate an action for the first link we find.\n        // Creating actions for every link is overwhelming when users select all in a file\n        const targetLink = linksInRange.find(link => link.href.kind === documentLinks_1.HrefKind.External || link.href.kind === documentLinks_1.HrefKind.Internal);\n        if (!targetLink) {\n            return [MdExtractLinkDefinitionCodeActionProvider.alreadyRefLinkAction];\n        }\n        return [this.getExtractLinkAction(doc, linkInfo, targetLink)];\n    }\n    isEnabled(context) {\n        if (typeof context.only === 'undefined') {\n            return true;\n        }\n        return context.only.some(kind => codeActionKindContains(lsp.CodeActionKind.Refactor, kind));\n    }\n    getExtractLinkAction(doc, linkInfo, targetLink) {\n        const builder = new editBuilder_1.WorkspaceEditBuilder();\n        const resource = vscode_uri_1.URI.parse(doc.uri);\n        const placeholder = this.getPlaceholder(linkInfo.definitions);\n        // Rewrite all inline occurrences of the link\n        for (const link of linkInfo.links) {\n            if (link.kind === documentLinks_1.MdLinkKind.Link && this.matchesHref(targetLink.href, link)) {\n                builder.replace(resource, link.source.targetRange, `[${placeholder}]`);\n            }\n        }\n        // And append new definition to link definition block\n        const definitionText = this.getLinkTargetText(doc, targetLink).trim();\n        const definitions = linkInfo.links.filter(link => link.kind === documentLinks_1.MdLinkKind.Definition);\n        const defBlock = (0, organizeLinkDefs_1.getExistingDefinitionBlock)(doc, definitions);\n        if (!defBlock) {\n            builder.insert(resource, { line: doc.lineCount, character: 0 }, `\\n\\n[${placeholder}]: ${definitionText}`);\n        }\n        else {\n            const line = (0, textDocument_1.getLine)(doc, defBlock.endLine);\n            builder.insert(resource, { line: defBlock.endLine, character: line.length }, `\\n[${placeholder}]: ${definitionText}`);\n        }\n        const renamePosition = (0, position_1.translatePosition)(targetLink.source.targetRange.start, { characterDelta: 1 });\n        return {\n            title: MdExtractLinkDefinitionCodeActionProvider.genericTitle,\n            kind: MdExtractLinkDefinitionCodeActionProvider.kind,\n            edit: builder.getEdit(),\n            command: {\n                command: 'vscodeMarkdownLanguageservice.rename',\n                title: 'Rename',\n                arguments: [vscode_uri_1.URI.parse(doc.uri), renamePosition],\n            }\n        };\n    }\n    getLinkTargetText(doc, link) {\n        const afterHrefRange = (0, range_1.makeRange)((0, position_1.translatePosition)(link.source.targetRange.start, { characterDelta: 1 }), (0, position_1.translatePosition)(link.source.targetRange.end, { characterDelta: -1 }));\n        return doc.getText(afterHrefRange);\n    }\n    getPlaceholder(definitions) {\n        const base = 'def';\n        for (let i = 1;; ++i) {\n            const name = i === 1 ? base : `${base}${i}`;\n            if (typeof definitions.lookup(name) === 'undefined') {\n                return name;\n            }\n        }\n    }\n    matchesHref(href, link) {\n        if (link.href.kind === documentLinks_1.HrefKind.External && href.kind === documentLinks_1.HrefKind.External) {\n            return link.href.uri.toString() === href.uri.toString();\n        }\n        if (link.href.kind === documentLinks_1.HrefKind.Internal && href.kind === documentLinks_1.HrefKind.Internal) {\n            return link.href.path.toString() === href.path.toString() && link.href.fragment === href.fragment;\n        }\n        return false;\n    }\n}\nexports.MdExtractLinkDefinitionCodeActionProvider = MdExtractLinkDefinitionCodeActionProvider;\nMdExtractLinkDefinitionCodeActionProvider.genericTitle = localize('genericTitle', 'Extract to link definition');\nMdExtractLinkDefinitionCodeActionProvider.kind = lsp.CodeActionKind.RefactorExtract + '.linkDefinition';\nMdExtractLinkDefinitionCodeActionProvider.notOnLinkAction = {\n    title: MdExtractLinkDefinitionCodeActionProvider.genericTitle,\n    kind: MdExtractLinkDefinitionCodeActionProvider.kind,\n    disabled: {\n        reason: localize('disabled.notOnLink', 'Not on link'),\n    }\n};\nMdExtractLinkDefinitionCodeActionProvider.alreadyRefLinkAction = {\n    title: MdExtractLinkDefinitionCodeActionProvider.genericTitle,\n    kind: MdExtractLinkDefinitionCodeActionProvider.kind,\n    disabled: {\n        reason: localize('disabled.alreadyRefLink', 'Link is already a reference'),\n    }\n};\nfunction codeActionKindContains(kindA, kindB) {\n    return kindA === kindB || kindB.startsWith(kindA + '.');\n}\n//# sourceMappingURL=extractLinkDef.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdDefinitionProvider = void 0;\nconst range_1 = require(\"../types/range\");\nconst workspace_1 = require(\"../workspace\");\nconst documentLinks_1 = require(\"./documentLinks\");\nclass MdDefinitionProvider {\n    constructor(configuration, workspace, tocProvider, linkCache) {\n        this.configuration = configuration;\n        this.workspace = workspace;\n        this.tocProvider = tocProvider;\n        this.linkCache = linkCache;\n    }\n    async provideDefinition(document, position, token) {\n        const toc = await this.tocProvider.getForDocument(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const header = toc.entries.find(entry => entry.line === position.line);\n        if (header) {\n            return header.headerLocation;\n        }\n        return this.getDefinitionOfLinkAtPosition(document, position, token);\n    }\n    async getDefinitionOfLinkAtPosition(document, position, token) {\n        const docLinks = (await this.linkCache.getForDocs([document]))[0];\n        for (const link of docLinks) {\n            if (link.kind === documentLinks_1.MdLinkKind.Definition && (0, range_1.rangeContains)(link.ref.range, position)) {\n                return this.getDefinitionOfRef(link.ref.text, docLinks);\n            }\n            if ((0, range_1.rangeContains)(link.source.hrefRange, position)) {\n                return this.getDefinitionOfLink(link, docLinks, token);\n            }\n        }\n        return undefined;\n    }\n    async getDefinitionOfLink(sourceLink, allLinksInFile, token) {\n        if (sourceLink.href.kind === documentLinks_1.HrefKind.Reference) {\n            return this.getDefinitionOfRef(sourceLink.href.ref, allLinksInFile);\n        }\n        if (sourceLink.href.kind === documentLinks_1.HrefKind.External || !sourceLink.href.fragment) {\n            return undefined;\n        }\n        const resolvedResource = await (0, workspace_1.statLinkToMarkdownFile)(this.configuration, this.workspace, sourceLink.href.path);\n        if (!resolvedResource || token.isCancellationRequested) {\n            return undefined;\n        }\n        const toc = await this.tocProvider.get(resolvedResource);\n        return toc.lookup(sourceLink.href.fragment)?.headerLocation;\n    }\n    getDefinitionOfRef(ref, allLinksInFile) {\n        const allDefinitions = new documentLinks_1.LinkDefinitionSet(allLinksInFile);\n        const def = allDefinitions.lookup(ref);\n        return def ? { range: def.source.range, uri: def.source.resource.toString() } : undefined;\n    }\n}\nexports.MdDefinitionProvider = MdDefinitionProvider;\n//# sourceMappingURL=definitions.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticsManager = exports.DiagnosticComputer = exports.DiagnosticCode = exports.DiagnosticLevel = void 0;\nconst picomatch = require(\"picomatch\");\nconst vscode_languageserver_1 = require(\"vscode-languageserver\");\nconst nls = require(\"vscode-nls\");\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst dispose_1 = require(\"../util/dispose\");\nconst file_1 = require(\"../util/file\");\nconst limiter_1 = require(\"../util/limiter\");\nconst resourceMap_1 = require(\"../util/resourceMap\");\nconst workspace_1 = require(\"../workspace\");\nconst documentLinks_1 = require(\"./documentLinks\");\nconst localize = nls.loadMessageBundle();\n/**\n * The severity at which diagnostics are reported\n */\nvar DiagnosticLevel;\n(function (DiagnosticLevel) {\n    /** Don't report this diagnostic. */\n    DiagnosticLevel[\"ignore\"] = \"ignore\";\n    /** Report the diagnostic as a warning. */\n    DiagnosticLevel[\"warning\"] = \"warning\";\n    /** Report the diagnostic as an error. */\n    DiagnosticLevel[\"error\"] = \"error\";\n})(DiagnosticLevel = exports.DiagnosticLevel || (exports.DiagnosticLevel = {}));\nfunction toSeverity(level) {\n    switch (level) {\n        case DiagnosticLevel.error: return vscode_languageserver_1.DiagnosticSeverity.Error;\n        case DiagnosticLevel.warning: return vscode_languageserver_1.DiagnosticSeverity.Warning;\n        case DiagnosticLevel.ignore: return undefined;\n        case undefined: return undefined;\n    }\n}\n/**\n * Error codes of Markdown diagnostics\n */\nvar DiagnosticCode;\n(function (DiagnosticCode) {\n    /** The linked to reference does not exist. */\n    DiagnosticCode[\"link_noSuchReferences\"] = \"link.no-such-reference\";\n    /** The linked to heading does not exist in the current file. */\n    DiagnosticCode[\"link_noSuchHeaderInOwnFile\"] = \"link.no-such-header-in-own-file\";\n    /** The linked to local file does not exist. */\n    DiagnosticCode[\"link_noSuchFile\"] = \"link.no-such-file\";\n    /** The linked to heading does not exist in the another file. */\n    DiagnosticCode[\"link_noSuchHeaderInFile\"] = \"link.no-such-header-in-file\";\n})(DiagnosticCode = exports.DiagnosticCode || (exports.DiagnosticCode = {}));\n/**\n * Map of file paths to markdown links to that file.\n */\nclass FileLinkMap {\n    constructor(links) {\n        this._filesToLinksMap = new resourceMap_1.ResourceMap();\n        for (const link of links) {\n            if (link.href.kind !== documentLinks_1.HrefKind.Internal) {\n                continue;\n            }\n            const existingFileEntry = this._filesToLinksMap.get(link.href.path);\n            const linkData = { source: link.source, fragment: link.href.fragment };\n            if (existingFileEntry) {\n                existingFileEntry.outgoingLinks.push(linkData);\n            }\n            else {\n                this._filesToLinksMap.set(link.href.path, { outgoingLinks: [linkData] });\n            }\n        }\n    }\n    get size() {\n        return this._filesToLinksMap.size;\n    }\n    entries() {\n        return this._filesToLinksMap.entries();\n    }\n}\nclass DiagnosticComputer {\n    constructor(configuration, workspace, linkProvider, tocProvider) {\n        this.configuration = configuration;\n        this.workspace = workspace;\n        this.linkProvider = linkProvider;\n        this.tocProvider = tocProvider;\n    }\n    async compute(doc, options, token) {\n        const { links, definitions } = await this.linkProvider.getLinks(doc);\n        const statCache = new resourceMap_1.ResourceMap();\n        if (token.isCancellationRequested) {\n            return { links, diagnostics: [], statCache };\n        }\n        // Current doc always implicitly exists\n        statCache.set(vscode_uri_1.URI.parse(doc.uri), { exists: true });\n        return {\n            links: links,\n            statCache,\n            diagnostics: (await Promise.all([\n                this.validateFileLinks(options, links, statCache, token),\n                Array.from(this.validateReferenceLinks(options, links, definitions)),\n                this.validateFragmentLinks(doc, options, links, token),\n            ])).flat()\n        };\n    }\n    async validateFragmentLinks(doc, options, links, token) {\n        const severity = toSeverity(options.validateFragmentLinks);\n        if (typeof severity === 'undefined') {\n            return [];\n        }\n        const toc = await this.tocProvider.getForDocument(doc);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const diagnostics = [];\n        for (const link of links) {\n            if (link.href.kind === documentLinks_1.HrefKind.Internal\n                && link.source.hrefText.startsWith('#')\n                && link.href.path.toString() === doc.uri.toString()\n                && link.href.fragment\n                && !toc.lookup(link.href.fragment)) {\n                // Don't validate line number links\n                if ((0, documentLinks_1.parseLocationInfoFromFragment)(link.href.fragment)) {\n                    continue;\n                }\n                if (!this.isIgnoredLink(options, link.source.hrefText)) {\n                    diagnostics.push({\n                        code: DiagnosticCode.link_noSuchHeaderInOwnFile,\n                        message: localize('invalidHeaderLink', 'No header found: \\'{0}\\'', link.href.fragment),\n                        range: link.source.hrefRange,\n                        severity,\n                        data: {\n                            hrefText: link.source.hrefText\n                        }\n                    });\n                }\n            }\n        }\n        return diagnostics;\n    }\n    *validateReferenceLinks(options, links, definitions) {\n        const severity = toSeverity(options.validateReferences);\n        if (typeof severity === 'undefined') {\n            return [];\n        }\n        for (const link of links) {\n            if (link.href.kind === documentLinks_1.HrefKind.Reference && !definitions.lookup(link.href.ref)) {\n                yield {\n                    code: DiagnosticCode.link_noSuchReferences,\n                    message: localize('invalidReferenceLink', 'No link definition found: \\'{0}\\'', link.href.ref),\n                    range: link.source.hrefRange,\n                    severity,\n                    data: {\n                        ref: link.href.ref,\n                    },\n                };\n            }\n        }\n    }\n    async validateFileLinks(options, links, statCache, token) {\n        const pathErrorSeverity = toSeverity(options.validateFileLinks);\n        if (typeof pathErrorSeverity === 'undefined') {\n            return [];\n        }\n        const fragmentErrorSeverity = toSeverity(typeof options.validateMarkdownFileLinkFragments === 'undefined' ? options.validateFragmentLinks : options.validateMarkdownFileLinkFragments);\n        // We've already validated our own fragment links in `validateOwnHeaderLinks`\n        const linkSet = new FileLinkMap(links.filter(link => !link.source.hrefText.startsWith('#')));\n        if (linkSet.size === 0) {\n            return [];\n        }\n        const limiter = new limiter_1.Limiter(10);\n        const diagnostics = [];\n        await Promise.all(Array.from(linkSet.entries()).map(([path, { outgoingLinks: links }]) => {\n            return limiter.queue(async () => {\n                if (token.isCancellationRequested) {\n                    return;\n                }\n                const resolvedHrefPath = await (0, workspace_1.statLinkToMarkdownFile)(this.configuration, this.workspace, path, statCache);\n                if (!resolvedHrefPath) {\n                    for (const link of links) {\n                        if (!this.isIgnoredLink(options, link.source.pathText)) {\n                            diagnostics.push({\n                                code: DiagnosticCode.link_noSuchFile,\n                                message: localize('invalidPathLink', 'File does not exist at path: {0}', path.fsPath),\n                                range: link.source.hrefRange,\n                                severity: pathErrorSeverity,\n                                data: {\n                                    fsPath: path.fsPath,\n                                    hrefText: link.source.pathText,\n                                }\n                            });\n                        }\n                    }\n                }\n                else if (typeof fragmentErrorSeverity !== 'undefined' && this.isMarkdownPath(resolvedHrefPath)) {\n                    // Validate each of the links to headers in the file\n                    const fragmentLinks = links.filter(x => x.fragment);\n                    if (fragmentLinks.length) {\n                        const toc = await this.tocProvider.get(resolvedHrefPath);\n                        for (const link of fragmentLinks) {\n                            // Don't validate line number links\n                            if ((0, documentLinks_1.parseLocationInfoFromFragment)(link.fragment)) {\n                                continue;\n                            }\n                            if (!toc.lookup(link.fragment) && !this.isIgnoredLink(options, link.source.pathText) && !this.isIgnoredLink(options, link.source.hrefText)) {\n                                const range = (link.source.fragmentRange && (0, range_1.modifyRange)(link.source.fragmentRange, (0, position_1.translatePosition)(link.source.fragmentRange.start, { characterDelta: -1 }), undefined)) ?? link.source.hrefRange;\n                                diagnostics.push({\n                                    code: DiagnosticCode.link_noSuchHeaderInFile,\n                                    message: localize('invalidLinkToHeaderInOtherFile', 'Header does not exist in file: {0}', link.fragment),\n                                    range: range,\n                                    severity: fragmentErrorSeverity,\n                                    data: {\n                                        fragment: link.fragment,\n                                        hrefText: link.source.hrefText\n                                    },\n                                });\n                            }\n                        }\n                    }\n                }\n            });\n        }));\n        return diagnostics;\n    }\n    isMarkdownPath(resolvedHrefPath) {\n        return this.workspace.hasMarkdownDocument(resolvedHrefPath) || (0, file_1.looksLikeMarkdownPath)(this.configuration, resolvedHrefPath);\n    }\n    isIgnoredLink(options, link) {\n        return options.ignoreLinks.some(glob => picomatch.isMatch(link, glob));\n    }\n}\nexports.DiagnosticComputer = DiagnosticComputer;\nclass FileLinkState extends dispose_1.Disposable {\n    constructor(_workspace) {\n        super();\n        this._workspace = _workspace;\n        this._onDidChangeLinkedToFile = this._register(new vscode_languageserver_1.Emitter);\n        /**\n         * Event fired with a list of document uri when one of the links in the document changes\n         */\n        this.onDidChangeLinkedToFile = this._onDidChangeLinkedToFile.event;\n        this._linkedToFile = new resourceMap_1.ResourceMap();\n    }\n    dispose() {\n        super.dispose();\n        for (const entry of this._linkedToFile.values()) {\n            entry.watcher.dispose();\n        }\n        this._linkedToFile.clear();\n    }\n    /**\n     * Set the known links in a markdown document, adding and removing file watchers as needed\n     */\n    updateLinksForDocument(document, links, statCache) {\n        const linkedToResource = new Set(links\n            .filter(link => link.href.kind === documentLinks_1.HrefKind.Internal)\n            .map(link => ({ path: link.href.path, exists: !!(statCache.get(link.href.path)?.exists) })));\n        // First decrement watcher counter for previous document state\n        for (const entry of this._linkedToFile.values()) {\n            entry.documents.delete(document);\n        }\n        // Then create/update watchers for new document state\n        for (const { path, exists } of linkedToResource) {\n            let entry = this._linkedToFile.get(path);\n            if (!entry) {\n                entry = {\n                    watcher: this.startWatching(path),\n                    documents: new resourceMap_1.ResourceMap(),\n                    exists\n                };\n                this._linkedToFile.set(path, entry);\n            }\n            entry.documents.set(document, document);\n        }\n        // Finally clean up watchers for links that are no longer are referenced anywhere\n        for (const [key, value] of this._linkedToFile) {\n            if (value.documents.size === 0) {\n                value.watcher.dispose();\n                this._linkedToFile.delete(key);\n            }\n        }\n    }\n    deleteDocument(resource) {\n        this.updateLinksForDocument(resource, [], new resourceMap_1.ResourceMap());\n    }\n    tryStatFileLink(link) {\n        const entry = this._linkedToFile.get(link);\n        if (!entry) {\n            return undefined;\n        }\n        return { exists: entry.exists };\n    }\n    startWatching(path) {\n        const watcher = this._workspace.watchFile(path, { ignoreChange: true });\n        const deleteReg = watcher.onDidDelete((resource) => this.onLinkedResourceChanged(resource, false));\n        const createReg = watcher.onDidCreate((resource) => this.onLinkedResourceChanged(resource, true));\n        return {\n            dispose: () => {\n                watcher.dispose();\n                deleteReg.dispose();\n                createReg.dispose();\n            }\n        };\n    }\n    onLinkedResourceChanged(resource, exists) {\n        const entry = this._linkedToFile.get(resource);\n        if (entry) {\n            entry.exists = exists;\n            this._onDidChangeLinkedToFile.fire({\n                changedResource: resource,\n                linkingFiles: entry.documents.values(),\n                exists,\n            });\n        }\n    }\n}\nclass DiagnosticsManager extends dispose_1.Disposable {\n    constructor(configuration, workspace, linkProvider, tocProvider) {\n        super();\n        this._onLinkedToFileChanged = this._register(new vscode_languageserver_1.Emitter());\n        this.onLinkedToFileChanged = this._onLinkedToFileChanged.event;\n        const linkWatcher = new FileLinkState(workspace);\n        this._linkWatcher = this._register(linkWatcher);\n        this._register(this._linkWatcher.onDidChangeLinkedToFile(e => {\n            this._onLinkedToFileChanged.fire({\n                changedResource: e.changedResource,\n                linkingResources: Array.from(e.linkingFiles),\n            });\n        }));\n        const stateCachedWorkspace = new Proxy(workspace, {\n            get(target, p, receiver) {\n                if (p !== 'stat') {\n                    return workspace[p];\n                }\n                return async function (resource) {\n                    const stat = linkWatcher.tryStatFileLink(resource);\n                    if (stat) {\n                        if (stat.exists) {\n                            return { isDirectory: false };\n                        }\n                        else {\n                            return undefined;\n                        }\n                    }\n                    return workspace.stat.call(this === receiver ? target : this, resource);\n                };\n            },\n        });\n        this._computer = new DiagnosticComputer(configuration, stateCachedWorkspace, linkProvider, tocProvider);\n        this._register(workspace.onDidDeleteMarkdownDocument(uri => {\n            this._linkWatcher.deleteDocument(uri);\n        }));\n    }\n    async computeDiagnostics(doc, options, token) {\n        const uri = vscode_uri_1.URI.parse(doc.uri);\n        const results = await this._computer.compute(doc, options, token);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        this._linkWatcher.updateLinksForDocument(uri, results.links, results.statCache);\n        return results.diagnostics;\n    }\n    disposeDocumentResources(uri) {\n        this._linkWatcher.deleteDocument(uri);\n    }\n}\nexports.DiagnosticsManager = DiagnosticsManager;\n//# sourceMappingURL=diagnostics.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createWorkspaceLinkCache = exports.parseLocationInfoFromFragment = exports.MdLinkProvider = exports.LinkDefinitionSet = exports.MdLinkComputer = exports.MdLinkKind = exports.resolveInternalDocumentLink = exports.HrefKind = void 0;\nconst nls = require(\"vscode-nls\");\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst logging_1 = require(\"../logging\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst textDocument_1 = require(\"../types/textDocument\");\nconst arrays_1 = require(\"../util/arrays\");\nconst cancellation_1 = require(\"../util/cancellation\");\nconst dispose_1 = require(\"../util/dispose\");\nconst string_1 = require(\"../util/string\");\nconst uri_1 = require(\"../util/uri\");\nconst workspace_1 = require(\"../workspace\");\nconst workspaceCache_1 = require(\"../workspaceCache\");\nconst localize = nls.loadMessageBundle();\nvar HrefKind;\n(function (HrefKind) {\n    HrefKind[HrefKind[\"External\"] = 0] = \"External\";\n    HrefKind[HrefKind[\"Internal\"] = 1] = \"Internal\";\n    HrefKind[HrefKind[\"Reference\"] = 2] = \"Reference\";\n})(HrefKind = exports.HrefKind || (exports.HrefKind = {}));\nfunction resolveInternalDocumentLink(sourceDocUri, linkText, workspace) {\n    // Assume it must be an relative or absolute file path\n    // Use a fake scheme to avoid parse warnings\n    const tempUri = vscode_uri_1.URI.parse(`vscode-resource:${linkText}`);\n    const docUri = workspace.getContainingDocument?.(sourceDocUri)?.uri ?? sourceDocUri;\n    let resourceUri;\n    if (!tempUri.path) {\n        // Looks like a fragment only link\n        if (typeof tempUri.fragment !== 'string') {\n            return undefined;\n        }\n        resourceUri = sourceDocUri;\n    }\n    else if (tempUri.path[0] === '/') {\n        const root = (0, workspace_1.getWorkspaceFolder)(workspace, docUri);\n        if (root) {\n            resourceUri = vscode_uri_1.Utils.joinPath(root, tempUri.path);\n        }\n    }\n    else {\n        if (docUri.scheme === 'untitled') {\n            const root = (0, workspace_1.getWorkspaceFolder)(workspace, docUri);\n            if (root) {\n                resourceUri = vscode_uri_1.Utils.joinPath(root, tempUri.path);\n            }\n        }\n        else {\n            const base = vscode_uri_1.Utils.dirname(docUri);\n            resourceUri = vscode_uri_1.Utils.joinPath(base, tempUri.path);\n        }\n    }\n    if (!resourceUri) {\n        return undefined;\n    }\n    return {\n        resource: resourceUri,\n        linkFragment: tempUri.fragment,\n    };\n}\nexports.resolveInternalDocumentLink = resolveInternalDocumentLink;\nvar MdLinkKind;\n(function (MdLinkKind) {\n    MdLinkKind[MdLinkKind[\"Link\"] = 1] = \"Link\";\n    MdLinkKind[MdLinkKind[\"Definition\"] = 2] = \"Definition\";\n})(MdLinkKind = exports.MdLinkKind || (exports.MdLinkKind = {}));\nfunction createHref(sourceDocUri, link, workspace) {\n    if (/^[a-z\\-][a-z\\-]+:/i.test(link)) {\n        // Looks like a uri\n        return { kind: HrefKind.External, uri: vscode_uri_1.URI.parse((0, uri_1.tryDecodeUri)(link)) };\n    }\n    const resolved = resolveInternalDocumentLink(sourceDocUri, link, workspace);\n    if (!resolved) {\n        return undefined;\n    }\n    return {\n        kind: HrefKind.Internal,\n        path: resolved.resource,\n        fragment: resolved.linkFragment,\n    };\n}\nfunction createMdLink(document, targetText, preHrefText, rawLink, matchIndex, fullMatch, workspace) {\n    const isAngleBracketLink = rawLink.startsWith('<');\n    const link = stripAngleBrackets(rawLink);\n    let linkTarget;\n    try {\n        linkTarget = createHref(vscode_uri_1.URI.parse(document.uri), link, workspace);\n    }\n    catch {\n        return undefined;\n    }\n    if (!linkTarget) {\n        return undefined;\n    }\n    const pre = targetText + preHrefText;\n    const linkStart = document.positionAt(matchIndex);\n    const linkEnd = (0, position_1.translatePosition)(linkStart, { characterDelta: fullMatch.length });\n    const targetStart = (0, position_1.translatePosition)(linkStart, { characterDelta: targetText.length });\n    const targetRange = { start: targetStart, end: linkEnd };\n    const hrefStart = (0, position_1.translatePosition)(linkStart, { characterDelta: pre.length + (isAngleBracketLink ? 1 : 0) });\n    const hrefEnd = (0, position_1.translatePosition)(hrefStart, { characterDelta: link.length });\n    const hrefRange = { start: hrefStart, end: hrefEnd };\n    return {\n        kind: MdLinkKind.Link,\n        href: linkTarget,\n        source: {\n            hrefText: link,\n            resource: vscode_uri_1.URI.parse(document.uri),\n            range: { start: linkStart, end: linkEnd },\n            targetRange,\n            hrefRange,\n            ...getLinkSourceFragmentInfo(document, link, hrefStart, hrefEnd),\n        }\n    };\n}\nfunction getFragmentRange(text, start, end) {\n    const index = text.indexOf('#');\n    if (index < 0) {\n        return undefined;\n    }\n    return { start: (0, position_1.translatePosition)(start, { characterDelta: index + 1 }), end };\n}\nfunction getLinkSourceFragmentInfo(document, link, linkStart, linkEnd) {\n    const fragmentRange = getFragmentRange(link, linkStart, linkEnd);\n    return {\n        pathText: document.getText({ start: linkStart, end: fragmentRange ? (0, position_1.translatePosition)(fragmentRange.start, { characterDelta: -1 }) : linkEnd }),\n        fragmentRange,\n    };\n}\nconst angleBracketLinkRe = /^<(.*)>$/;\n/**\n * Used to strip brackets from the markdown link\n *\n * <http://example.com> will be transformed to http://example.com\n*/\nfunction stripAngleBrackets(link) {\n    return link.replace(angleBracketLinkRe, '$1');\n}\n/**\n * Matches `[text](link)` or `[text](<link>)`\n */\nconst linkPattern = new RegExp(\n// text\n(0, string_1.r) `(\\[` + // open prefix match -->\n    /**/ (0, string_1.r) `(?:` +\n    /*****/ (0, string_1.r) `[^\\[\\]\\\\]|` + // Non-bracket chars, or...\n    /*****/ (0, string_1.r) `\\\\.|` + // Escaped char, or...\n    /*****/ (0, string_1.r) `\\[[^\\[\\]]*\\]` + // Matched bracket pair\n    /**/ (0, string_1.r) `)*` +\n    (0, string_1.r) `\\])` + // <-- close prefix match\n    // Destination\n    (0, string_1.r) `(\\(\\s*)` + // Pre href\n    /**/ (0, string_1.r) `(` +\n    /*****/ (0, string_1.r) `[^\\s\\(\\)\\<](?:[^\\s\\(\\)]|\\([^\\s\\(\\)]*?\\))*|` + // Link without whitespace, or...\n    /*****/ (0, string_1.r) `<[^<>]+>` + // In angle brackets\n    /**/ (0, string_1.r) `)` +\n    // Title\n    /**/ (0, string_1.r) `\\s*(?:\"[^\"]*\"|'[^']*'|\\([^\\(\\)]*\\))?\\s*` +\n    (0, string_1.r) `\\)`, 'g');\n/**\n* Matches `[text][ref]` or `[shorthand]`\n*/\nconst referenceLinkPattern = new RegExp((0, string_1.r) `(^|[^\\]\\\\])` + // Must not start with another bracket (workaround for lack of support for negative look behinds)\n    (0, string_1.r) `(?:` +\n    /**/ (0, string_1.r) `(?:` +\n    /****/ (0, string_1.r) `(` + // Start link prefix\n    /******/ (0, string_1.r) `!?` + // Optional image ref\n    /******/ (0, string_1.r) `\\[((?:\\\\\\]|[^\\]])*)\\]` + // Link text\n    /******/ (0, string_1.r) `\\[\\s*?` + // Start of link def\n    /****/ (0, string_1.r) `)` + // end link prefix\n    /****/ (0, string_1.r) `(` +\n    /******/ (0, string_1.r) `[^\\]]*?)\\]` + //link def\n    /******/ (0, string_1.r) `|` +\n    /******/ (0, string_1.r) `\\[\\s*?([^\\s\\\\\\]]*?)\\])(?![\\:\\(])` +\n    (0, string_1.r) `)`, 'gm');\n/**\n * Matches `<http://example.com>`\n */\nconst autoLinkPattern = /\\<(\\w+:[^\\>\\s]+)\\>/g;\n/**\n * Matches `[text]: link`\n */\nconst definitionPattern = /^([\\t ]*\\[(?!\\^)((?:\\\\\\]|[^\\]])+)\\]:\\s*)([^<]\\S*|<[^>]+>)/gm;\nconst inlineCodePattern = /(?:^|[^`])(`+)(?:.+?|.*?(?:(?:\\r?\\n).+?)*?)(?:\\r?\\n)?\\1(?:$|[^`])/gm;\nclass NoLinkRanges {\n    constructor(\n    /**\n     * code blocks and fences each represented by [line_start,line_end).\n     */\n    multiline, \n    /**\n     * Inline code spans where links should not be detected\n     */\n    inline) {\n        this.multiline = multiline;\n        this.inline = inline;\n    }\n    static async compute(tokenizer, document) {\n        const tokens = await tokenizer.tokenize(document);\n        const multiline = tokens.filter(t => (t.type === 'code_block' || t.type === 'fence' || t.type === 'html_block') && !!t.map).map(t => t.map);\n        const inlineRanges = new Map();\n        const text = document.getText();\n        for (const match of text.matchAll(inlineCodePattern)) {\n            const startOffset = match.index ?? 0;\n            const startPosition = document.positionAt(startOffset);\n            const range = { start: startPosition, end: document.positionAt(startOffset + match[0].length) };\n            for (let line = range.start.line; line <= range.end.line; ++line) {\n                let entry = inlineRanges.get(line);\n                if (!entry) {\n                    entry = [];\n                    inlineRanges.set(line, entry);\n                }\n                entry.push(range);\n            }\n        }\n        return new NoLinkRanges(multiline, inlineRanges);\n    }\n    contains(position) {\n        return this.multiline.some(interval => position.line >= interval[0] && position.line < interval[1]) ||\n            !!this.inline.get(position.line)?.some(inlineRange => (0, range_1.rangeContains)(inlineRange, position));\n    }\n    concatInline(inlineRanges) {\n        const newInline = new Map(this.inline);\n        for (const range of inlineRanges) {\n            for (let line = range.start.line; line <= range.end.line; ++line) {\n                let entry = newInline.get(line);\n                if (!entry) {\n                    entry = [];\n                    newInline.set(line, entry);\n                }\n                entry.push(range);\n            }\n        }\n        return new NoLinkRanges(this.multiline, newInline);\n    }\n}\n/**\n * Stateless object that extracts link information from markdown files.\n */\nclass MdLinkComputer {\n    constructor(tokenizer, workspace) {\n        this.tokenizer = tokenizer;\n        this.workspace = workspace;\n    }\n    async getAllLinks(document, token) {\n        const noLinkRanges = await NoLinkRanges.compute(this.tokenizer, document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const inlineLinks = Array.from(this.getInlineLinks(document, noLinkRanges));\n        return Array.from([\n            ...inlineLinks,\n            ...this.getReferenceLinks(document, noLinkRanges.concatInline(inlineLinks.map(x => x.source.range))),\n            ...this.getLinkDefinitions(document, noLinkRanges),\n            ...this.getAutoLinks(document, noLinkRanges),\n        ]);\n    }\n    *getInlineLinks(document, noLinkRanges) {\n        const text = document.getText();\n        for (const match of text.matchAll(linkPattern)) {\n            const matchLinkData = createMdLink(document, match[1], match[2], match[3], match.index ?? 0, match[0], this.workspace);\n            if (matchLinkData && !noLinkRanges.contains(matchLinkData.source.hrefRange.start)) {\n                yield matchLinkData;\n                // Also check link destination for links\n                for (const innerMatch of match[1].matchAll(linkPattern)) {\n                    const innerData = createMdLink(document, innerMatch[1], innerMatch[2], innerMatch[3], (match.index ?? 0) + (innerMatch.index ?? 0), innerMatch[0], this.workspace);\n                    if (innerData) {\n                        yield innerData;\n                    }\n                }\n            }\n        }\n    }\n    *getAutoLinks(document, noLinkRanges) {\n        const text = document.getText();\n        const docUri = vscode_uri_1.URI.parse(document.uri);\n        for (const match of text.matchAll(autoLinkPattern)) {\n            const linkOffset = (match.index ?? 0);\n            const linkStart = document.positionAt(linkOffset);\n            if (noLinkRanges.contains(linkStart)) {\n                continue;\n            }\n            const link = match[1];\n            const linkTarget = createHref(docUri, link, this.workspace);\n            if (!linkTarget) {\n                continue;\n            }\n            const linkEnd = (0, position_1.translatePosition)(linkStart, { characterDelta: match[0].length });\n            const hrefStart = (0, position_1.translatePosition)(linkStart, { characterDelta: 1 });\n            const hrefEnd = (0, position_1.translatePosition)(hrefStart, { characterDelta: link.length });\n            const hrefRange = { start: hrefStart, end: hrefEnd };\n            yield {\n                kind: MdLinkKind.Link,\n                href: linkTarget,\n                source: {\n                    hrefText: link,\n                    resource: docUri,\n                    targetRange: hrefRange,\n                    hrefRange: hrefRange,\n                    range: { start: linkStart, end: linkEnd },\n                    ...getLinkSourceFragmentInfo(document, link, hrefStart, hrefEnd),\n                }\n            };\n        }\n    }\n    *getReferenceLinks(document, noLinkRanges) {\n        const text = document.getText();\n        for (const match of text.matchAll(referenceLinkPattern)) {\n            const linkStartOffset = (match.index ?? 0) + match[1].length;\n            const linkStart = document.positionAt(linkStartOffset);\n            if (noLinkRanges.contains(linkStart)) {\n                continue;\n            }\n            let hrefStart;\n            let hrefEnd;\n            let reference = match[4];\n            if (reference === '') { // [ref][],\n                reference = match[3];\n                if (!reference) {\n                    continue;\n                }\n                const offset = linkStartOffset + 1;\n                hrefStart = document.positionAt(offset);\n                hrefEnd = document.positionAt(offset + reference.length);\n            }\n            else if (reference) { // [text][ref]\n                const text = match[3];\n                if (!text) {\n                    // Handle the case ![][cat]\n                    if (match[0].startsWith('!')) {\n                        //\n                    }\n                    else {\n                        continue;\n                    }\n                }\n                const pre = match[2];\n                const offset = linkStartOffset + pre.length;\n                hrefStart = document.positionAt(offset);\n                hrefEnd = document.positionAt(offset + reference.length);\n            }\n            else if (match[5]) { // [ref]\n                reference = match[5];\n                const offset = linkStartOffset + 1;\n                hrefStart = document.positionAt(offset);\n                const line = (0, textDocument_1.getLine)(document, hrefStart.line);\n                // See if link looks like a checkbox\n                const checkboxMatch = line.match(/^\\s*[\\-\\*]\\s*\\[x\\]/i);\n                if (checkboxMatch && hrefStart.character <= checkboxMatch[0].length) {\n                    continue;\n                }\n                hrefEnd = document.positionAt(offset + reference.length);\n            }\n            else {\n                continue;\n            }\n            const linkEnd = (0, position_1.translatePosition)(linkStart, { characterDelta: match[0].length - match[1].length });\n            const hrefRange = { start: hrefStart, end: hrefEnd };\n            yield {\n                kind: MdLinkKind.Link,\n                source: {\n                    hrefText: reference,\n                    pathText: reference,\n                    resource: vscode_uri_1.URI.parse(document.uri),\n                    range: { start: linkStart, end: linkEnd },\n                    targetRange: hrefRange,\n                    hrefRange: hrefRange,\n                    fragmentRange: undefined,\n                },\n                href: {\n                    kind: HrefKind.Reference,\n                    ref: reference,\n                }\n            };\n        }\n    }\n    *getLinkDefinitions(document, noLinkRanges) {\n        const text = document.getText();\n        const docUri = vscode_uri_1.URI.parse(document.uri);\n        for (const match of text.matchAll(definitionPattern)) {\n            const offset = (match.index ?? 0);\n            const linkStart = document.positionAt(offset);\n            if (noLinkRanges.contains(linkStart)) {\n                continue;\n            }\n            const pre = match[1];\n            const reference = match[2];\n            const rawLinkText = match[3].trim();\n            const isAngleBracketLink = angleBracketLinkRe.test(rawLinkText);\n            const linkText = stripAngleBrackets(rawLinkText);\n            const target = createHref(docUri, linkText, this.workspace);\n            if (!target) {\n                continue;\n            }\n            const hrefStart = (0, position_1.translatePosition)(linkStart, { characterDelta: pre.length + (isAngleBracketLink ? 1 : 0) });\n            const hrefEnd = (0, position_1.translatePosition)(hrefStart, { characterDelta: linkText.length });\n            const hrefRange = { start: hrefStart, end: hrefEnd };\n            const refStart = (0, position_1.translatePosition)(linkStart, { characterDelta: 1 });\n            const refRange = { start: refStart, end: (0, position_1.translatePosition)(refStart, { characterDelta: reference.length }) };\n            const linkEnd = (0, position_1.translatePosition)(linkStart, { characterDelta: match[0].length });\n            yield {\n                kind: MdLinkKind.Definition,\n                source: {\n                    hrefText: linkText,\n                    resource: docUri,\n                    range: { start: linkStart, end: linkEnd },\n                    targetRange: hrefRange,\n                    hrefRange,\n                    ...getLinkSourceFragmentInfo(document, rawLinkText, hrefStart, hrefEnd),\n                },\n                ref: { text: reference, range: refRange },\n                href: target,\n            };\n        }\n    }\n}\nexports.MdLinkComputer = MdLinkComputer;\nclass LinkDefinitionSet {\n    constructor(links) {\n        this._map = new Map();\n        for (const link of links) {\n            if (link.kind === MdLinkKind.Definition) {\n                this._map.set(link.ref.text, link);\n            }\n        }\n    }\n    [Symbol.iterator]() {\n        return this._map.entries();\n    }\n    lookup(ref) {\n        return this._map.get(ref);\n    }\n}\nexports.LinkDefinitionSet = LinkDefinitionSet;\n/**\n * Stateful object which provides links for markdown files the workspace.\n */\nclass MdLinkProvider extends dispose_1.Disposable {\n    constructor(_config, tokenizer, _workspace, _tocProvider, logger) {\n        super();\n        this._config = _config;\n        this._workspace = _workspace;\n        this._tocProvider = _tocProvider;\n        this._linkComputer = new MdLinkComputer(tokenizer, _workspace);\n        this._linkCache = this._register(new workspaceCache_1.MdDocumentInfoCache(this._workspace, async (doc) => {\n            logger.log(logging_1.LogLevel.Debug, 'LinkProvider', `compute - ${doc.uri}`);\n            const links = await this._linkComputer.getAllLinks(doc, cancellation_1.noopToken);\n            return {\n                links,\n                definitions: new LinkDefinitionSet(links),\n            };\n        }));\n    }\n    getLinks(document) {\n        return this._linkCache.getForDocument(document);\n    }\n    async provideDocumentLinks(document, token) {\n        const { links, definitions } = await this.getLinks(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        return (0, arrays_1.coalesce)(links.map(data => this.toValidDocumentLink(data, definitions)));\n    }\n    async resolveDocumentLink(link, token) {\n        const href = this.reviveLinkHrefData(link);\n        if (!href) {\n            return undefined;\n        }\n        const target = await this.resolveInternalLinkTarget(href.path, href.fragment, token);\n        switch (target.kind) {\n            case 'folder':\n                link.target = this.createCommandUri('revealInExplorer', href);\n                break;\n            case 'external':\n                link.target = target.uri.toString(true);\n                break;\n            case 'file':\n                if (target.position) {\n                    link.target = this.createOpenAtPosCommand(target.uri, target.position);\n                }\n                else {\n                    link.target = target.uri.toString(true);\n                }\n                break;\n        }\n        return link;\n    }\n    async resolveLinkTarget(linkText, sourceDoc, token) {\n        const href = createHref(sourceDoc, linkText, this._workspace);\n        if (href?.kind !== HrefKind.Internal) {\n            return undefined;\n        }\n        const resolved = resolveInternalDocumentLink(sourceDoc, linkText, this._workspace);\n        if (!resolved) {\n            return undefined;\n        }\n        return this.resolveInternalLinkTarget(resolved.resource, resolved.linkFragment, token);\n    }\n    async resolveInternalLinkTarget(linkPath, linkFragment, token) {\n        let target = linkPath;\n        // If there's a containing document, don't bother with trying to resolve the\n        // link to a workspace file as one will not exist\n        const containingContext = this._workspace.getContainingDocument?.(target);\n        if (!containingContext) {\n            const stat = await this._workspace.stat(target);\n            if (stat?.isDirectory) {\n                return { kind: 'folder', uri: target };\n            }\n            if (token.isCancellationRequested) {\n                return { kind: 'folder', uri: target };\n            }\n            if (!stat) {\n                // We don't think the file exists. If it doesn't already have an extension, try tacking on a `.md` and using that instead\n                let found = false;\n                const dotMdResource = (0, workspace_1.tryAppendMarkdownFileExtension)(this._config, target);\n                if (dotMdResource) {\n                    if (await this._workspace.stat(dotMdResource)) {\n                        target = dotMdResource;\n                        found = true;\n                    }\n                }\n                if (!found) {\n                    return { kind: 'file', uri: target };\n                }\n            }\n        }\n        if (!linkFragment) {\n            return { kind: 'file', uri: target };\n        }\n        // Try navigating with fragment that sets line number\n        const locationLinkPosition = parseLocationInfoFromFragment(linkFragment);\n        if (locationLinkPosition) {\n            return { kind: 'file', uri: target, position: locationLinkPosition };\n        }\n        // Try navigating to header in file\n        const doc = await this._workspace.openMarkdownDocument(target);\n        if (doc) {\n            const toc = await this._tocProvider.getForContainingDoc(doc);\n            const entry = toc.lookup(linkFragment);\n            if (entry) {\n                return { kind: 'file', uri: vscode_uri_1.URI.parse(entry.headerLocation.uri), position: entry.headerLocation.range.start, fragment: linkFragment };\n            }\n        }\n        return { kind: 'file', uri: target };\n    }\n    reviveLinkHrefData(link) {\n        if (!link.data) {\n            return undefined;\n        }\n        const mdLink = link.data;\n        if (mdLink.href.kind !== HrefKind.Internal) {\n            return undefined;\n        }\n        return { path: vscode_uri_1.URI.from(mdLink.href.path), fragment: mdLink.href.fragment };\n    }\n    toValidDocumentLink(link, definitionSet) {\n        switch (link.href.kind) {\n            case HrefKind.External: {\n                return {\n                    range: link.source.hrefRange,\n                    target: link.href.uri.toString(true),\n                };\n            }\n            case HrefKind.Internal: {\n                return {\n                    range: link.source.hrefRange,\n                    target: undefined,\n                    tooltip: localize('tooltip.link', 'Follow link'),\n                    data: link,\n                };\n            }\n            case HrefKind.Reference: {\n                // We only render reference links in the editor if they are actually defined.\n                // This matches how reference links are rendered by markdown-it.\n                const def = definitionSet.lookup(link.href.ref);\n                if (!def) {\n                    return undefined;\n                }\n                const target = this.createOpenAtPosCommand(link.source.resource, def.source.hrefRange.start);\n                return {\n                    range: link.source.hrefRange,\n                    tooltip: localize('tooltip.definition', 'Go to link definition'),\n                    target: target,\n                    data: link\n                };\n            }\n        }\n    }\n    createCommandUri(command, ...args) {\n        return `command:${command}?${encodeURIComponent(JSON.stringify(args))}`;\n    }\n    createOpenAtPosCommand(resource, pos) {\n        // If the resource itself already has a fragment, we need to handle opening specially \n        // instead of using `file://path.md#L123` style uris\n        if (resource.fragment) {\n            // Match the args of `vscode.open`\n            return this.createCommandUri('vscodeMarkdownLanguageservice.open', resource, {\n                selection: (0, range_1.makeRange)(pos, pos),\n            });\n        }\n        return resource.with({\n            fragment: `L${pos.line + 1},${pos.character + 1}`\n        }).toString(true);\n    }\n}\nexports.MdLinkProvider = MdLinkProvider;\n/**\n * Extract position info from link fragments that look like `#L5,3`\n */\nfunction parseLocationInfoFromFragment(fragment) {\n    const match = fragment.match(/^L(\\d+)(?:,(\\d+))?$/i);\n    if (!match) {\n        return undefined;\n    }\n    const line = +match[1] - 1;\n    if (isNaN(line)) {\n        return undefined;\n    }\n    const column = +match[2] - 1;\n    return { line, character: isNaN(column) ? 0 : column };\n}\nexports.parseLocationInfoFromFragment = parseLocationInfoFromFragment;\nfunction createWorkspaceLinkCache(parser, workspace) {\n    const linkComputer = new MdLinkComputer(parser, workspace);\n    return new workspaceCache_1.MdWorkspaceInfoCache(workspace, doc => linkComputer.getAllLinks(doc, cancellation_1.noopToken));\n}\nexports.createWorkspaceLinkCache = createWorkspaceLinkCache;\n//# sourceMappingURL=documentLinks.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdDocumentSymbolProvider = void 0;\nconst lsp = require(\"vscode-languageserver-types\");\nconst logging_1 = require(\"../logging\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst documentLinks_1 = require(\"./documentLinks\");\nclass MdDocumentSymbolProvider {\n    constructor(tocProvider, linkProvider, logger) {\n        this.tocProvider = tocProvider;\n        this.linkProvider = linkProvider;\n        this.logger = logger;\n    }\n    async provideDocumentSymbols(document, options, token) {\n        this.logger.log(logging_1.LogLevel.Trace, 'DocumentSymbolProvider', `provideDocumentSymbols  ${document.uri} ${document.version}`);\n        const linkSymbols = await (options.includeLinkDefinitions ? this.provideLinkDefinitionSymbols(document, token) : []);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const toc = await this.tocProvider.getForDocument(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        return this.toSymbolTree(document, linkSymbols, toc);\n    }\n    toSymbolTree(document, linkSymbols, toc) {\n        const root = {\n            level: -Infinity,\n            children: [],\n            parent: undefined,\n            range: (0, range_1.makeRange)(0, 0, document.lineCount + 1, 0),\n        };\n        const additionalSymbols = [...linkSymbols];\n        this.buildTocSymbolTree(root, toc.entries, additionalSymbols);\n        // Put remaining link definitions into top level document instead of last header\n        root.children.push(...additionalSymbols);\n        return root.children;\n    }\n    async provideLinkDefinitionSymbols(document, token) {\n        const { links } = await this.linkProvider.getLinks(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        return links\n            .filter(link => link.kind === documentLinks_1.MdLinkKind.Definition)\n            .map((link) => this.definitionToDocumentSymbol(link));\n    }\n    definitionToDocumentSymbol(def) {\n        return {\n            kind: lsp.SymbolKind.Constant,\n            name: `[${def.ref.text}]`,\n            selectionRange: def.ref.range,\n            range: def.source.range,\n        };\n    }\n    buildTocSymbolTree(parent, entries, additionalSymbols) {\n        if (entries.length) {\n            while (additionalSymbols.length && (0, position_1.isBefore)(additionalSymbols[0].range.end, entries[0].sectionLocation.range.start)) {\n                parent.children.push(additionalSymbols.shift());\n            }\n        }\n        if (!entries.length) {\n            return;\n        }\n        const entry = entries[0];\n        const symbol = this.tocToDocumentSymbol(entry);\n        symbol.children = [];\n        while (entry.level <= parent.level) {\n            parent = parent.parent;\n        }\n        parent.children.push(symbol);\n        this.buildTocSymbolTree({ level: entry.level, children: symbol.children, parent, range: entry.sectionLocation.range }, entries.slice(1), additionalSymbols);\n    }\n    tocToDocumentSymbol(entry) {\n        return {\n            name: this.getTocSymbolName(entry),\n            kind: lsp.SymbolKind.String,\n            range: entry.sectionLocation.range,\n            selectionRange: entry.sectionLocation.range\n        };\n    }\n    getTocSymbolName(entry) {\n        return '#'.repeat(entry.level) + ' ' + entry.text;\n    }\n}\nexports.MdDocumentSymbolProvider = MdDocumentSymbolProvider;\n//# sourceMappingURL=documentSymbols.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdFileRenameProvider = void 0;\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst config_1 = require(\"../config\");\nconst dispose_1 = require(\"../util/dispose\");\nconst editBuilder_1 = require(\"../util/editBuilder\");\nconst file_1 = require(\"../util/file\");\nconst path_1 = require(\"../util/path\");\nconst documentLinks_1 = require(\"./documentLinks\");\nconst references_1 = require(\"./references\");\nconst rename_1 = require(\"./rename\");\nconst path = require(\"path\");\nclass MdFileRenameProvider extends dispose_1.Disposable {\n    constructor(config, workspace, linkCache, referencesProvider) {\n        super();\n        this.config = config;\n        this.workspace = workspace;\n        this.linkCache = linkCache;\n        this.referencesProvider = referencesProvider;\n    }\n    async getRenameFilesInWorkspaceEdit(edits, token) {\n        const builder = new editBuilder_1.WorkspaceEditBuilder();\n        const participatingRenames = [];\n        for (const edit of edits) {\n            const stat = await this.workspace.stat(edit.newUri);\n            if (token.isCancellationRequested) {\n                return undefined;\n            }\n            if (await (stat?.isDirectory ? this.addDirectoryRenameEdits(edit, builder, token) : this.addSingleFileRenameEdits(edit, builder, token))) {\n                participatingRenames.push(edit);\n            }\n            if (token.isCancellationRequested) {\n                return undefined;\n            }\n        }\n        return { participatingRenames, edit: builder.getEdit() };\n    }\n    async addSingleFileRenameEdits(edit, builder, token) {\n        let didParticipate = false;\n        // Update all references to the file\n        if (await this.addEditsForReferencesToFile(edit, builder, token)) {\n            didParticipate = true;\n        }\n        if (token.isCancellationRequested) {\n            return false;\n        }\n        // If the file moved was markdown, we also need to update links in the file itself\n        if (await this.tryAddEditsInSelf(edit, builder)) {\n            didParticipate = true;\n        }\n        return didParticipate;\n    }\n    async addDirectoryRenameEdits(edit, builder, token) {\n        // First update every link that points to something in the moved dir\n        const allLinksInWorkspace = await this.linkCache.entries();\n        if (token.isCancellationRequested) {\n            return false;\n        }\n        let didParticipate = false;\n        for (const [docUri, links] of allLinksInWorkspace) {\n            for (const link of links) {\n                if (link.href.kind !== documentLinks_1.HrefKind.Internal) {\n                    continue;\n                }\n                // Update links to the moved dir\n                if ((0, path_1.isParentDir)(edit.oldUri, link.href.path)) {\n                    const relative = path.relative(edit.oldUri.path, link.href.path.path);\n                    const newUri = edit.newUri.with({\n                        path: path.join(edit.newUri.path, relative)\n                    });\n                    if (await this.addLinkRenameEdit(docUri, link, newUri, builder)) {\n                        didParticipate = true;\n                    }\n                }\n                // If the link was within a file in the moved dir but traversed out of it, we also need to update the path\n                if (link.source.pathText.startsWith('..') && (0, path_1.isParentDir)(edit.newUri, docUri)) {\n                    // Resolve the link relative to the old file path\n                    const oldDocUri = docUri.with({\n                        path: vscode_uri_1.Utils.joinPath(edit.oldUri, path.relative(edit.newUri.path, docUri.path)).path\n                    });\n                    const oldLink = (0, documentLinks_1.resolveInternalDocumentLink)(oldDocUri, link.source.hrefText, this.workspace);\n                    if (oldLink && !(0, path_1.isParentDir)(edit.oldUri, oldLink.resource)) {\n                        const rootDir = vscode_uri_1.Utils.dirname(docUri);\n                        const newPath = path.relative(rootDir.path, oldLink.resource.path);\n                        didParticipate = true;\n                        builder.replace(docUri, (0, rename_1.getFilePathRange)(link), encodeURI(newPath.replace(/\\\\/g, '/')));\n                    }\n                }\n            }\n        }\n        return didParticipate;\n    }\n    /**\n     * Try to add edits for when a markdown file has been renamed.\n     * In this case we also need to update links within the file.\n     */\n    async tryAddEditsInSelf(edit, builder) {\n        if (!(0, file_1.looksLikeMarkdownPath)(this.config, edit.newUri)) {\n            return false;\n        }\n        if ((0, config_1.isExcludedPath)(this.config, edit.newUri)) {\n            return false;\n        }\n        const doc = await this.workspace.openMarkdownDocument(edit.newUri);\n        if (!doc) {\n            return false;\n        }\n        const links = (await this.linkCache.getForDocs([doc]))[0];\n        let didParticipate = false;\n        for (const link of links) {\n            if (this.addEditsForLinksInSelf(link, edit, builder)) {\n                didParticipate = true;\n            }\n        }\n        return didParticipate;\n    }\n    addEditsForLinksInSelf(link, edit, builder) {\n        if (link.href.kind !== documentLinks_1.HrefKind.Internal) {\n            return false;\n        }\n        if (link.source.hrefText.startsWith('/')) {\n            // We likely don't need to update anything since an absolute path is used\n            return false;\n        }\n        else {\n            // Resolve the link relative to the old file path\n            const oldLink = (0, documentLinks_1.resolveInternalDocumentLink)(edit.oldUri, link.source.hrefText, this.workspace);\n            if (oldLink) {\n                const rootDir = vscode_uri_1.Utils.dirname(edit.newUri);\n                const newPath = path.relative(rootDir.toString(true), oldLink.resource.toString(true));\n                builder.replace(edit.newUri, (0, rename_1.getFilePathRange)(link), encodeURI(newPath.replace(/\\\\/g, '/')));\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\n     * Update links across the workspace for the new file name\n     */\n    async addEditsForReferencesToFile(edit, builder, token) {\n        if ((0, config_1.isExcludedPath)(this.config, edit.newUri)) {\n            return false;\n        }\n        const refs = await this.referencesProvider.getReferencesToFileInWorkspace(edit.oldUri, token);\n        if (token.isCancellationRequested) {\n            return false;\n        }\n        let didParticipate = false;\n        for (const ref of refs) {\n            if (ref.kind === references_1.MdReferenceKind.Link) {\n                if (await this.addLinkRenameEdit(vscode_uri_1.URI.parse(ref.location.uri), ref.link, edit.newUri, builder)) {\n                    didParticipate = true;\n                }\n            }\n        }\n        return didParticipate;\n    }\n    async addLinkRenameEdit(doc, link, newUri, builder) {\n        if (link.href.kind !== documentLinks_1.HrefKind.Internal) {\n            return false;\n        }\n        let newFilePath = newUri;\n        // If the original markdown link did not use a file extension, remove ours too\n        if (!vscode_uri_1.Utils.extname(link.href.path)) {\n            const editExt = vscode_uri_1.Utils.extname(newUri);\n            if (this.config.markdownFileExtensions.includes(editExt.replace('.', ''))) {\n                newFilePath = newUri.with({\n                    path: newUri.path.slice(0, newUri.path.length - editExt.length)\n                });\n            }\n        }\n        const newLinkText = (0, rename_1.getLinkRenameText)(this.workspace, link.source, newFilePath, link.source.pathText.startsWith('.'));\n        if (typeof newLinkText === 'string') {\n            builder.replace(doc, (0, rename_1.getFilePathRange)(link), encodeURI(newLinkText.replace(/\\\\/g, '/')));\n            return true;\n        }\n        return false;\n    }\n}\nexports.MdFileRenameProvider = MdFileRenameProvider;\n//# sourceMappingURL=fileRename.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdFoldingProvider = void 0;\nconst lsp = require(\"vscode-languageserver-types\");\nconst logging_1 = require(\"../logging\");\nconst textDocument_1 = require(\"../types/textDocument\");\nconst string_1 = require(\"../util/string\");\nconst rangeLimit = 5000;\nclass MdFoldingProvider {\n    constructor(parser, tocProvider, logger) {\n        this.parser = parser;\n        this.tocProvider = tocProvider;\n        this.logger = logger;\n    }\n    async provideFoldingRanges(document, _token) {\n        this.logger.log(logging_1.LogLevel.Debug, 'MdFoldingProvider', `provideFoldingRanges  ${document.uri} ${document.version}`);\n        const foldables = await Promise.all([\n            this.getRegions(document),\n            this.getHeaderFoldingRanges(document),\n            this.getBlockFoldingRanges(document)\n        ]);\n        return foldables.flat().slice(0, rangeLimit);\n    }\n    async getRegions(document) {\n        const tokens = await this.parser.tokenize(document);\n        const regionMarkers = tokens.filter(isRegionMarker)\n            .map(token => ({ line: token.map[0], isStart: isStartRegion(token.content) }));\n        const nestingStack = [];\n        return regionMarkers\n            .map((marker) => {\n            if (marker.isStart) {\n                nestingStack.push(marker);\n            }\n            else if (nestingStack.length && nestingStack[nestingStack.length - 1].isStart) {\n                return { startLine: nestingStack.pop().line, endLine: marker.line, kind: lsp.FoldingRangeKind.Region };\n            }\n            else {\n                // noop: invalid nesting (i.e. [end, start] or [start, end, end])\n            }\n            return null;\n        })\n            .filter((region) => !!region);\n    }\n    async getHeaderFoldingRanges(document) {\n        const toc = await this.tocProvider.getForDocument(document);\n        return toc.entries.map((entry) => {\n            let endLine = entry.sectionLocation.range.end.line;\n            if ((0, string_1.isEmptyOrWhitespace)((0, textDocument_1.getLine)(document, endLine)) && endLine >= entry.line + 1) {\n                endLine = endLine - 1;\n            }\n            return { startLine: entry.line, endLine };\n        });\n    }\n    async getBlockFoldingRanges(document) {\n        const tokens = await this.parser.tokenize(document);\n        const multiLineListItems = tokens.filter(isFoldableToken);\n        return multiLineListItems.map(listItem => {\n            const start = listItem.map[0];\n            let end = listItem.map[1] - 1;\n            if ((0, string_1.isEmptyOrWhitespace)((0, textDocument_1.getLine)(document, end)) && end >= start + 1) {\n                end = end - 1;\n            }\n            return { startLine: start, endLine: end, kind: this.getFoldingRangeKind(listItem) };\n        });\n    }\n    getFoldingRangeKind(listItem) {\n        return listItem.type === 'html_block' && listItem.content.startsWith('<!--')\n            ? lsp.FoldingRangeKind.Comment\n            : undefined;\n    }\n}\nexports.MdFoldingProvider = MdFoldingProvider;\nconst isStartRegion = (t) => /^\\s*<!--\\s*#?region\\b.*-->/.test(t);\nconst isEndRegion = (t) => /^\\s*<!--\\s*#?endregion\\b.*-->/.test(t);\nconst isRegionMarker = (token) => !!token.map && token.type === 'html_block' && (isStartRegion(token.content) || isEndRegion(token.content));\nconst isFoldableToken = (token) => {\n    if (!token.map) {\n        return false;\n    }\n    switch (token.type) {\n        case 'fence':\n        case 'list_item_open':\n            return token.map[1] > token.map[0];\n        case 'html_block':\n            if (isRegionMarker(token)) {\n                return false;\n            }\n            return token.map[1] > token.map[0] + 1;\n        default:\n            return false;\n    }\n};\n//# sourceMappingURL=folding.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getExistingDefinitionBlock = exports.MdOrganizeLinkDefinitionProvider = void 0;\nconst range_1 = require(\"../types/range\");\nconst textDocument_1 = require(\"../types/textDocument\");\nconst string_1 = require(\"../util/string\");\nconst documentLinks_1 = require(\"./documentLinks\");\nclass MdOrganizeLinkDefinitionProvider {\n    constructor(_linkProvider) {\n        this._linkProvider = _linkProvider;\n    }\n    async getOrganizeLinkDefinitionEdits(doc, options, token) {\n        const links = await this._linkProvider.getLinks(doc);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const definitions = links.links.filter(link => link.kind === documentLinks_1.MdLinkKind.Definition);\n        if (!definitions.length) {\n            return [];\n        }\n        const existingDefBlockRange = getExistingDefinitionBlock(doc, definitions);\n        const edits = [];\n        // First replace all inline definitions that are not the definition block\n        for (const group of this.getDefinitionBlockGroups(doc, definitions)) {\n            if (!existingDefBlockRange || group.startLine < existingDefBlockRange.startLine) {\n                // Don't replace trailing newline of last definition in group\n                edits.push({\n                    newText: '',\n                    range: (0, range_1.makeRange)(group.startLine, 0, group.endLine, (0, textDocument_1.getLine)(doc, group.endLine).length),\n                });\n            }\n        }\n        // Then replace the actual block\n        const sortedDefs = [...definitions];\n        sortedDefs.sort((a, b) => a.ref.text.localeCompare(b.ref.text));\n        const newDefs = sortedDefs\n            .filter(def => {\n            if (!options.removeUnused) {\n                return true;\n            }\n            return links.links.some(link => {\n                return link.kind === documentLinks_1.MdLinkKind.Link && link.href.kind === documentLinks_1.HrefKind.Reference && link.href.ref === def.ref.text;\n            });\n        });\n        const defBlock = newDefs\n            .map((def => `[${def.ref.text}]: ${def.source.hrefText}`))\n            .join('\\n');\n        if (existingDefBlockRange) {\n            // We still may need to insert a newline\n            const hasLeadingWhiteSpace = existingDefBlockRange.startLine <= 0\n                || (0, string_1.isEmptyOrWhitespace)((0, textDocument_1.getLine)(doc, existingDefBlockRange.startLine - 1));\n            // See if we already have the expected definitions in order\n            if (!edits.length && newDefs.length === definitions.length && definitions.every((def, i) => def.ref === newDefs[i].ref)) {\n                return [];\n            }\n            edits.push({\n                newText: (hasLeadingWhiteSpace ? '' : '\\n') + defBlock,\n                range: (0, range_1.makeRange)(existingDefBlockRange.startLine, 0, existingDefBlockRange.endLine, (0, textDocument_1.getLine)(doc, existingDefBlockRange.endLine).length)\n            });\n        }\n        else {\n            const line = this.getLastNonWhitespaceLine(doc, definitions);\n            edits.push({\n                newText: (line === doc.lineCount - 1 ? '\\n\\n' : '\\n') + defBlock,\n                range: (0, range_1.makeRange)(line + 1, 0, doc.lineCount, 0),\n            });\n        }\n        return edits;\n    }\n    *getDefinitionBlockGroups(doc, definitions) {\n        if (!definitions.length) {\n            return;\n        }\n        let i = 0;\n        const startDef = definitions[i];\n        let endDef = startDef;\n        for (; i < definitions.length - 1; ++i) {\n            const nextDef = definitions[i + 1];\n            if (nextDef.source.range.start.line === endDef.source.range.start.line + 1) {\n                endDef = nextDef;\n            }\n            else {\n                break;\n            }\n        }\n        yield { startLine: startDef.source.range.start.line, endLine: endDef.source.range.start.line };\n        yield* this.getDefinitionBlockGroups(doc, definitions.slice(i + 1));\n    }\n    getLastNonWhitespaceLine(doc, orderedDefinitions) {\n        const lastDef = orderedDefinitions[orderedDefinitions.length - 1];\n        const textAfter = doc.getText((0, range_1.makeRange)(lastDef.source.range.end.line + 1, 0, Infinity, 0));\n        const lines = textAfter.split(/\\r\\n|\\n/g);\n        for (let i = lines.length - 1; i >= 0; --i) {\n            if (!(0, string_1.isEmptyOrWhitespace)(lines[i])) {\n                return lastDef.source.range.start.line + 1 + i;\n            }\n        }\n        return lastDef.source.range.start.line;\n    }\n}\nexports.MdOrganizeLinkDefinitionProvider = MdOrganizeLinkDefinitionProvider;\nfunction getExistingDefinitionBlock(doc, orderedDefinitions) {\n    if (!orderedDefinitions.length) {\n        return undefined;\n    }\n    const lastDef = orderedDefinitions[orderedDefinitions.length - 1];\n    const textAfter = doc.getText((0, range_1.makeRange)(lastDef.source.range.end.line + 1, 0, Infinity, 0));\n    if ((0, string_1.isEmptyOrWhitespace)(textAfter)) {\n        let prevDef = lastDef;\n        for (let i = orderedDefinitions.length - 1; i >= 0; --i) {\n            const def = orderedDefinitions[i];\n            if (def.source.range.start.line < prevDef.source.range.start.line - 1) {\n                break;\n            }\n            prevDef = def;\n        }\n        return {\n            startLine: prevDef.source.range.start.line,\n            endLine: lastDef.source.range.start.line\n        };\n    }\n    return undefined;\n}\nexports.getExistingDefinitionBlock = getExistingDefinitionBlock;\n//# sourceMappingURL=organizeLinkDefs.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdPathCompletionProvider = void 0;\nconst path_1 = require(\"path\");\nconst lsp = require(\"vscode-languageserver-types\");\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst config_1 = require(\"../config\");\nconst tableOfContents_1 = require(\"../tableOfContents\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst textDocument_1 = require(\"../types/textDocument\");\nconst schemes_1 = require(\"../util/schemes\");\nconst string_1 = require(\"../util/string\");\nconst workspace_1 = require(\"../workspace\");\nvar CompletionContextKind;\n(function (CompletionContextKind) {\n    /** `[...](|)` */\n    CompletionContextKind[CompletionContextKind[\"Link\"] = 0] = \"Link\";\n    /** `[...][|]` */\n    CompletionContextKind[CompletionContextKind[\"ReferenceLink\"] = 1] = \"ReferenceLink\";\n    /** `[]: |` */\n    CompletionContextKind[CompletionContextKind[\"LinkDefinition\"] = 2] = \"LinkDefinition\";\n})(CompletionContextKind || (CompletionContextKind = {}));\nfunction tryDecodeUriComponent(str) {\n    try {\n        return decodeURIComponent(str);\n    }\n    catch {\n        return str;\n    }\n}\n/**\n * Adds path completions in markdown files.\n */\nclass MdPathCompletionProvider {\n    constructor(configuration, workspace, parser, linkProvider) {\n        this.configuration = configuration;\n        this.workspace = workspace;\n        this.parser = parser;\n        this.linkProvider = linkProvider;\n        /// [...](...|\n        this.linkStartPattern = new RegExp(\n        // text\n        (0, string_1.r) `\\[` +\n            /**/ (0, string_1.r) `(?:` +\n            /*****/ (0, string_1.r) `[^\\[\\]\\\\]|` + // Non-bracket chars, or...\n            /*****/ (0, string_1.r) `\\\\.|` + // Escaped char, or...\n            /*****/ (0, string_1.r) `\\[[^\\[\\]]*\\]` + // Matched bracket pair\n            /**/ (0, string_1.r) `)*` +\n            (0, string_1.r) `\\]` +\n            // Destination start\n            (0, string_1.r) `\\(\\s*(<[^\\>\\)]*|[^\\s\\(\\)]*)` +\n            (0, string_1.r) `$` // Must match cursor position\n        );\n        /// [...][...|\n        this.referenceLinkStartPattern = /\\[([^\\]]*?)\\]\\[\\s*([^\\s\\(\\)]*)$/;\n        /// [id]: |\n        this.definitionPattern = /^\\s*\\[[\\w\\-]+\\]:\\s*([^\\s]*)$/m;\n    }\n    async provideCompletionItems(document, position, _context, _token) {\n        const context = this.getPathCompletionContext(document, position);\n        if (!context) {\n            return [];\n        }\n        switch (context.kind) {\n            case CompletionContextKind.ReferenceLink: {\n                const items = [];\n                for await (const item of this.provideReferenceSuggestions(document, position, context)) {\n                    items.push(item);\n                }\n                return items;\n            }\n            case CompletionContextKind.LinkDefinition:\n            case CompletionContextKind.Link: {\n                const items = [];\n                const isAnchorInCurrentDoc = context.anchorInfo && context.anchorInfo.beforeAnchor.length === 0;\n                // Add anchor #links in current doc\n                if (context.linkPrefix.length === 0 || isAnchorInCurrentDoc) {\n                    const insertRange = (0, range_1.makeRange)(context.linkTextStartPosition, position);\n                    for await (const item of this.provideHeaderSuggestions(document, position, context, insertRange)) {\n                        items.push(item);\n                    }\n                }\n                if (!isAnchorInCurrentDoc) {\n                    if (context.anchorInfo) { // Anchor to a different document\n                        const rawUri = this.resolveReference(document, context.anchorInfo.beforeAnchor);\n                        if (rawUri) {\n                            const otherDoc = await (0, workspace_1.openLinkToMarkdownFile)(this.configuration, this.workspace, rawUri);\n                            if (otherDoc) {\n                                const anchorStartPosition = (0, position_1.translatePosition)(position, { characterDelta: -(context.anchorInfo.anchorPrefix.length + 1) });\n                                const range = (0, range_1.makeRange)(anchorStartPosition, position);\n                                for await (const item of this.provideHeaderSuggestions(otherDoc, position, context, range)) {\n                                    items.push(item);\n                                }\n                            }\n                        }\n                    }\n                    else { // Normal path suggestions\n                        for await (const item of this.providePathSuggestions(document, position, context)) {\n                            items.push(item);\n                        }\n                    }\n                }\n                return items;\n            }\n        }\n    }\n    getPathCompletionContext(document, position) {\n        const line = (0, textDocument_1.getLine)(document, position.line);\n        const linePrefixText = line.slice(0, position.character);\n        const lineSuffixText = line.slice(position.character);\n        const linkPrefixMatch = linePrefixText.match(this.linkStartPattern);\n        if (linkPrefixMatch) {\n            const isAngleBracketLink = linkPrefixMatch[1].startsWith('<');\n            const prefix = linkPrefixMatch[1].slice(isAngleBracketLink ? 1 : 0);\n            if (this.refLooksLikeUrl(prefix)) {\n                return undefined;\n            }\n            const suffix = lineSuffixText.match(/^[^\\)\\s][^\\)\\s\\>]*/);\n            return {\n                kind: CompletionContextKind.Link,\n                linkPrefix: tryDecodeUriComponent(prefix),\n                linkTextStartPosition: (0, position_1.translatePosition)(position, { characterDelta: -prefix.length }),\n                linkSuffix: suffix ? suffix[0] : '',\n                anchorInfo: this.getAnchorContext(prefix),\n                skipEncoding: isAngleBracketLink,\n            };\n        }\n        const definitionLinkPrefixMatch = linePrefixText.match(this.definitionPattern);\n        if (definitionLinkPrefixMatch) {\n            const isAngleBracketLink = definitionLinkPrefixMatch[1].startsWith('<');\n            const prefix = definitionLinkPrefixMatch[1].slice(isAngleBracketLink ? 1 : 0);\n            if (this.refLooksLikeUrl(prefix)) {\n                return undefined;\n            }\n            const suffix = lineSuffixText.match(/^[^\\s]*/);\n            return {\n                kind: CompletionContextKind.LinkDefinition,\n                linkPrefix: tryDecodeUriComponent(prefix),\n                linkTextStartPosition: (0, position_1.translatePosition)(position, { characterDelta: -prefix.length }),\n                linkSuffix: suffix ? suffix[0] : '',\n                anchorInfo: this.getAnchorContext(prefix),\n                skipEncoding: isAngleBracketLink,\n            };\n        }\n        const referenceLinkPrefixMatch = linePrefixText.match(this.referenceLinkStartPattern);\n        if (referenceLinkPrefixMatch) {\n            const prefix = referenceLinkPrefixMatch[2];\n            const suffix = lineSuffixText.match(/^[^\\]\\s]*/);\n            return {\n                kind: CompletionContextKind.ReferenceLink,\n                linkPrefix: prefix,\n                linkTextStartPosition: (0, position_1.translatePosition)(position, { characterDelta: -prefix.length }),\n                linkSuffix: suffix ? suffix[0] : '',\n            };\n        }\n        return undefined;\n    }\n    /**\n     * Check if {@param ref} looks like a 'http:' style url.\n     */\n    refLooksLikeUrl(prefix) {\n        return /^\\s*[\\w\\d\\-]+:/.test(prefix);\n    }\n    getAnchorContext(prefix) {\n        const anchorMatch = prefix.match(/^(.*)#([\\w\\d\\-]*)$/);\n        if (!anchorMatch) {\n            return undefined;\n        }\n        return {\n            beforeAnchor: anchorMatch[1],\n            anchorPrefix: anchorMatch[2],\n        };\n    }\n    async *provideReferenceSuggestions(document, position, context) {\n        const insertionRange = (0, range_1.makeRange)(context.linkTextStartPosition, position);\n        const replacementRange = (0, range_1.makeRange)(insertionRange.start, (0, position_1.translatePosition)(position, { characterDelta: context.linkSuffix.length }));\n        const { definitions } = await this.linkProvider.getLinks(document);\n        for (const [_, def] of definitions) {\n            yield {\n                kind: lsp.CompletionItemKind.Reference,\n                label: def.ref.text,\n                textEdit: {\n                    newText: def.ref.text,\n                    insert: insertionRange,\n                    replace: replacementRange,\n                }\n            };\n        }\n    }\n    async *provideHeaderSuggestions(document, position, context, insertionRange) {\n        const toc = await tableOfContents_1.TableOfContents.createForContainingDoc(this.parser, this.workspace, document);\n        for (const entry of toc.entries) {\n            const replacementRange = (0, range_1.makeRange)(insertionRange.start, (0, position_1.translatePosition)(position, { characterDelta: context.linkSuffix.length }));\n            const label = '#' + decodeURIComponent(entry.slug.value);\n            yield {\n                kind: lsp.CompletionItemKind.Reference,\n                label,\n                textEdit: {\n                    newText: label,\n                    insert: insertionRange,\n                    replace: replacementRange,\n                },\n            };\n        }\n    }\n    async *providePathSuggestions(document, position, context) {\n        const valueBeforeLastSlash = context.linkPrefix.substring(0, context.linkPrefix.lastIndexOf('/') + 1); // keep the last slash\n        const parentDir = this.resolveReference(document, valueBeforeLastSlash || '.');\n        if (!parentDir) {\n            return;\n        }\n        const pathSegmentStart = (0, position_1.translatePosition)(position, { characterDelta: valueBeforeLastSlash.length - context.linkPrefix.length });\n        const insertRange = (0, range_1.makeRange)(pathSegmentStart, position);\n        const pathSegmentEnd = (0, position_1.translatePosition)(position, { characterDelta: context.linkSuffix.length });\n        const replacementRange = (0, range_1.makeRange)(pathSegmentStart, pathSegmentEnd);\n        let dirInfo;\n        try {\n            dirInfo = await this.workspace.readDirectory(parentDir);\n        }\n        catch {\n            return;\n        }\n        for (const [name, type] of dirInfo) {\n            const uri = vscode_uri_1.Utils.joinPath(parentDir, name);\n            if ((0, config_1.isExcludedPath)(this.configuration, uri)) {\n                continue;\n            }\n            const isDir = type.isDirectory;\n            const newText = (context.skipEncoding ? name : encodeURIComponent(name)) + (isDir ? '/' : '');\n            yield {\n                label: isDir ? name + '/' : name,\n                kind: isDir ? lsp.CompletionItemKind.Folder : lsp.CompletionItemKind.File,\n                textEdit: {\n                    newText,\n                    insert: insertRange,\n                    replace: replacementRange,\n                },\n                command: isDir ? { command: 'editor.action.triggerSuggest', title: '' } : undefined,\n            };\n        }\n    }\n    resolveReference(document, ref) {\n        const docUri = this.getFileUriOfTextDocument(document);\n        if (ref.startsWith('/')) {\n            const workspaceFolder = (0, workspace_1.getWorkspaceFolder)(this.workspace, docUri);\n            if (workspaceFolder) {\n                return vscode_uri_1.Utils.joinPath(workspaceFolder, ref);\n            }\n            else {\n                return this.resolvePath(docUri, ref.slice(1));\n            }\n        }\n        return this.resolvePath(docUri, ref);\n    }\n    resolvePath(root, ref) {\n        try {\n            if (root.scheme === schemes_1.Schemes.file) {\n                return vscode_uri_1.URI.file((0, path_1.resolve)((0, path_1.dirname)(root.fsPath), ref));\n            }\n            else {\n                return root.with({\n                    path: (0, path_1.resolve)((0, path_1.dirname)(root.path), ref),\n                });\n            }\n        }\n        catch {\n            return undefined;\n        }\n    }\n    getFileUriOfTextDocument(document) {\n        return this.workspace.getContainingDocument?.(vscode_uri_1.URI.parse(document.uri))?.uri ?? vscode_uri_1.URI.parse(document.uri);\n    }\n}\nexports.MdPathCompletionProvider = MdPathCompletionProvider;\n//# sourceMappingURL=pathCompletions.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdReferencesProvider = exports.MdReferenceKind = void 0;\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst logging_1 = require(\"../logging\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst dispose_1 = require(\"../util/dispose\");\nconst file_1 = require(\"../util/file\");\nconst workspace_1 = require(\"../workspace\");\nconst documentLinks_1 = require(\"./documentLinks\");\nvar MdReferenceKind;\n(function (MdReferenceKind) {\n    MdReferenceKind[MdReferenceKind[\"Link\"] = 1] = \"Link\";\n    MdReferenceKind[MdReferenceKind[\"Header\"] = 2] = \"Header\";\n})(MdReferenceKind = exports.MdReferenceKind || (exports.MdReferenceKind = {}));\n/**\n * Stateful object that computes references for markdown files.\n */\nclass MdReferencesProvider extends dispose_1.Disposable {\n    constructor(configuration, parser, workspace, tocProvider, linkCache, logger) {\n        super();\n        this.configuration = configuration;\n        this.parser = parser;\n        this.workspace = workspace;\n        this.tocProvider = tocProvider;\n        this.linkCache = linkCache;\n        this.logger = logger;\n    }\n    async provideReferences(document, position, context, token) {\n        const allRefs = await this.getReferencesAtPosition(document, position, token);\n        return allRefs\n            .filter(ref => context.includeDeclaration || !ref.isDefinition)\n            .map(ref => ref.location);\n    }\n    async getReferencesAtPosition(document, position, token) {\n        this.logger.log(logging_1.LogLevel.Trace, 'ReferencesProvider', `getReferencesAtPosition  ${document.uri} ${document.version}`);\n        const toc = await this.tocProvider.getForDocument(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const header = toc.entries.find(entry => entry.line === position.line);\n        if (header) {\n            return this.getReferencesToHeader(document, header);\n        }\n        else {\n            return this.getReferencesToLinkAtPosition(document, position, token);\n        }\n    }\n    async getReferencesToFileInWorkspace(resource, token) {\n        this.logger.log(logging_1.LogLevel.Trace, 'ReferencesProvider', `getAllReferencesToFileInWorkspace  ${resource}`);\n        const allLinksInWorkspace = (await this.linkCache.values()).flat();\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        return Array.from(this.findLinksToFile(resource, allLinksInWorkspace, undefined));\n    }\n    async getReferencesToHeader(document, header) {\n        const links = (await this.linkCache.values()).flat();\n        const references = [];\n        references.push({\n            kind: MdReferenceKind.Header,\n            isTriggerLocation: true,\n            isDefinition: true,\n            location: header.headerLocation,\n            headerText: header.text,\n            headerTextLocation: header.headerTextLocation\n        });\n        for (const link of links) {\n            if (link.href.kind === documentLinks_1.HrefKind.Internal\n                && this.looksLikeLinkToDoc(link.href, vscode_uri_1.URI.parse(document.uri))\n                && this.parser.slugifier.fromHeading(link.href.fragment).value === header.slug.value) {\n                references.push({\n                    kind: MdReferenceKind.Link,\n                    isTriggerLocation: false,\n                    isDefinition: false,\n                    link,\n                    location: { uri: link.source.resource.toString(), range: link.source.hrefRange },\n                });\n            }\n        }\n        return references;\n    }\n    async getReferencesToLinkAtPosition(document, position, token) {\n        const docLinks = (await this.linkCache.getForDocs([document]))[0];\n        for (const link of docLinks) {\n            if (link.kind === documentLinks_1.MdLinkKind.Definition) {\n                // We could be in either the ref name or the definition\n                if ((0, range_1.rangeContains)(link.ref.range, position)) {\n                    return Array.from(this.getReferencesToLinkReference(docLinks, link.ref.text, { resource: vscode_uri_1.URI.parse(document.uri), range: link.ref.range }));\n                }\n                else if ((0, range_1.rangeContains)(link.source.hrefRange, position)) {\n                    return this.getReferencesToLink(docLinks, link, position, token);\n                }\n            }\n            else {\n                if ((0, range_1.rangeContains)(link.source.hrefRange, position)) {\n                    return this.getReferencesToLink(docLinks, link, position, token);\n                }\n            }\n        }\n        return [];\n    }\n    async getReferencesToLink(docLinks, sourceLink, triggerPosition, token) {\n        if (sourceLink.href.kind === documentLinks_1.HrefKind.Reference) {\n            return Array.from(this.getReferencesToLinkReference(docLinks, sourceLink.href.ref, { resource: sourceLink.source.resource, range: sourceLink.source.hrefRange }));\n        }\n        // Otherwise find all occurrences of the link in the workspace\n        const allLinksInWorkspace = (await this.linkCache.values()).flat();\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        if (sourceLink.href.kind === documentLinks_1.HrefKind.External) {\n            const references = [];\n            for (const link of allLinksInWorkspace) {\n                if (link.href.kind === documentLinks_1.HrefKind.External && link.href.uri.toString() === sourceLink.href.uri.toString()) {\n                    const isTriggerLocation = sourceLink.source.resource.fsPath === link.source.resource.fsPath && (0, range_1.areRangesEqual)(sourceLink.source.hrefRange, link.source.hrefRange);\n                    references.push({\n                        kind: MdReferenceKind.Link,\n                        isTriggerLocation,\n                        isDefinition: false,\n                        link,\n                        location: { uri: link.source.resource.toString(), range: link.source.hrefRange },\n                    });\n                }\n            }\n            return references;\n        }\n        const resolvedResource = await (0, workspace_1.statLinkToMarkdownFile)(this.configuration, this.workspace, sourceLink.href.path);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const references = [];\n        if (resolvedResource && this.isMarkdownPath(resolvedResource) && sourceLink.href.fragment && sourceLink.source.fragmentRange && (0, range_1.rangeContains)(sourceLink.source.fragmentRange, triggerPosition)) {\n            const toc = await this.tocProvider.get(resolvedResource);\n            const entry = toc.lookup(sourceLink.href.fragment);\n            if (entry) {\n                references.push({\n                    kind: MdReferenceKind.Header,\n                    isTriggerLocation: false,\n                    isDefinition: true,\n                    location: entry.headerLocation,\n                    headerText: entry.text,\n                    headerTextLocation: entry.headerTextLocation\n                });\n            }\n            for (const link of allLinksInWorkspace) {\n                if (link.href.kind !== documentLinks_1.HrefKind.Internal || !this.looksLikeLinkToDoc(link.href, resolvedResource)) {\n                    continue;\n                }\n                if (this.parser.slugifier.fromHeading(link.href.fragment).equals(this.parser.slugifier.fromHeading(sourceLink.href.fragment))) {\n                    const isTriggerLocation = sourceLink.source.resource.fsPath === link.source.resource.fsPath && (0, range_1.areRangesEqual)(sourceLink.source.hrefRange, link.source.hrefRange);\n                    references.push({\n                        kind: MdReferenceKind.Link,\n                        isTriggerLocation,\n                        isDefinition: false,\n                        link,\n                        location: { uri: link.source.resource.toString(), range: link.source.hrefRange },\n                    });\n                }\n            }\n        }\n        else { // Triggered on a link without a fragment so we only require matching the file and ignore fragments\n            references.push(...this.findLinksToFile(resolvedResource ?? sourceLink.href.path, allLinksInWorkspace, sourceLink));\n        }\n        return references;\n    }\n    isMarkdownPath(resolvedHrefPath) {\n        return this.workspace.hasMarkdownDocument(resolvedHrefPath) || (0, file_1.looksLikeMarkdownPath)(this.configuration, resolvedHrefPath);\n    }\n    looksLikeLinkToDoc(href, targetDoc) {\n        if (href.path.fsPath === targetDoc.fsPath) {\n            return true;\n        }\n        return this.configuration.markdownFileExtensions.some(ext => href.path.with({ path: href.path.path + '.' + ext }).fsPath === targetDoc.fsPath);\n    }\n    *findLinksToFile(resource, links, sourceLink) {\n        for (const link of links) {\n            if (link.href.kind !== documentLinks_1.HrefKind.Internal || !this.looksLikeLinkToDoc(link.href, resource)) {\n                continue;\n            }\n            // Exclude cases where the file is implicitly referencing itself\n            if (link.source.hrefText.startsWith('#') && link.source.resource.fsPath === resource.fsPath) {\n                continue;\n            }\n            const isTriggerLocation = !!sourceLink && sourceLink.source.resource.fsPath === link.source.resource.fsPath && (0, range_1.areRangesEqual)(sourceLink.source.hrefRange, link.source.hrefRange);\n            const pathRange = this.getPathRange(link);\n            yield {\n                kind: MdReferenceKind.Link,\n                isTriggerLocation,\n                isDefinition: false,\n                link,\n                location: { uri: link.source.resource.toString(), range: pathRange },\n            };\n        }\n    }\n    *getReferencesToLinkReference(allLinks, refToFind, from) {\n        for (const link of allLinks) {\n            let ref;\n            if (link.kind === documentLinks_1.MdLinkKind.Definition) {\n                ref = link.ref.text;\n            }\n            else if (link.href.kind === documentLinks_1.HrefKind.Reference) {\n                ref = link.href.ref;\n            }\n            else {\n                continue;\n            }\n            if (ref === refToFind && link.source.resource.fsPath === from.resource.fsPath) {\n                const isTriggerLocation = from.resource.fsPath === link.source.resource.fsPath && ((link.href.kind === documentLinks_1.HrefKind.Reference && (0, range_1.areRangesEqual)(from.range, link.source.hrefRange)) || (link.kind === documentLinks_1.MdLinkKind.Definition && (0, range_1.areRangesEqual)(from.range, link.ref.range)));\n                const pathRange = this.getPathRange(link);\n                yield {\n                    kind: MdReferenceKind.Link,\n                    isTriggerLocation,\n                    isDefinition: link.kind === documentLinks_1.MdLinkKind.Definition,\n                    link,\n                    location: { uri: from.resource.toString(), range: pathRange },\n                };\n            }\n        }\n    }\n    /**\n     * Get just the range of the file path, dropping the fragment\n     */\n    getPathRange(link) {\n        return link.source.fragmentRange\n            ? (0, range_1.modifyRange)(link.source.hrefRange, undefined, (0, position_1.translatePosition)(link.source.fragmentRange.start, { characterDelta: -1 }))\n            : link.source.hrefRange;\n    }\n}\nexports.MdReferencesProvider = MdReferencesProvider;\n//# sourceMappingURL=references.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getFilePathRange = exports.getLinkRenameText = exports.MdRenameProvider = exports.RenameNotSupportedAtLocationError = void 0;\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nconst path = require(\"path\");\nconst nls = require(\"vscode-nls\");\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst config_1 = require(\"../config\");\nconst logging_1 = require(\"../logging\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst dispose_1 = require(\"../util/dispose\");\nconst editBuilder_1 = require(\"../util/editBuilder\");\nconst schemes_1 = require(\"../util/schemes\");\nconst uri_1 = require(\"../util/uri\");\nconst workspace_1 = require(\"../workspace\");\nconst documentLinks_1 = require(\"./documentLinks\");\nconst references_1 = require(\"./references\");\nconst localize = nls.loadMessageBundle();\n/**\n * Error thrown when rename is not supported performed at the requested location.\n */\nclass RenameNotSupportedAtLocationError extends Error {\n    constructor() {\n        super(localize('rename.notSupported', 'Renaming is not supported here. Try renaming a header or link.'));\n    }\n}\nexports.RenameNotSupportedAtLocationError = RenameNotSupportedAtLocationError;\nclass MdRenameProvider extends dispose_1.Disposable {\n    constructor(configuration, workspace, referencesProvider, slugifier, logger) {\n        super();\n        this.configuration = configuration;\n        this.workspace = workspace;\n        this.referencesProvider = referencesProvider;\n        this.slugifier = slugifier;\n        this.logger = logger;\n    }\n    async prepareRename(document, position, token) {\n        this.logger.log(logging_1.LogLevel.Trace, 'RenameProvider', `prepareRename  ${document.uri} ${document.version}`);\n        const allRefsInfo = await this.getAllReferences(document, position, token);\n        if (token.isCancellationRequested) {\n            return undefined;\n        }\n        if (!allRefsInfo || !allRefsInfo.references.length) {\n            throw new RenameNotSupportedAtLocationError();\n        }\n        const triggerRef = allRefsInfo.triggerRef;\n        switch (triggerRef.kind) {\n            case references_1.MdReferenceKind.Header: {\n                return { range: triggerRef.headerTextLocation.range, placeholder: triggerRef.headerText };\n            }\n            case references_1.MdReferenceKind.Link: {\n                if (triggerRef.link.kind === documentLinks_1.MdLinkKind.Definition) {\n                    // We may have been triggered on the ref or the definition itself\n                    if ((0, range_1.rangeContains)(triggerRef.link.ref.range, position)) {\n                        return { range: triggerRef.link.ref.range, placeholder: triggerRef.link.ref.text };\n                    }\n                }\n                if (triggerRef.link.href.kind === documentLinks_1.HrefKind.External) {\n                    return { range: triggerRef.link.source.hrefRange, placeholder: document.getText(triggerRef.link.source.hrefRange) };\n                }\n                // See if we are renaming the fragment or the path\n                const { fragmentRange } = triggerRef.link.source;\n                if (fragmentRange && (0, range_1.rangeContains)(fragmentRange, position)) {\n                    const declaration = this.findHeaderDeclaration(allRefsInfo.references);\n                    return {\n                        range: fragmentRange,\n                        placeholder: declaration ? declaration.headerText : document.getText(fragmentRange),\n                    };\n                }\n                const range = getFilePathRange(triggerRef.link);\n                if (!range) {\n                    throw new RenameNotSupportedAtLocationError();\n                }\n                return { range, placeholder: (0, uri_1.tryDecodeUri)(document.getText(range)) };\n            }\n        }\n    }\n    findHeaderDeclaration(references) {\n        return references.find(ref => ref.isDefinition && ref.kind === references_1.MdReferenceKind.Header);\n    }\n    async provideRenameEdits(document, position, newName, token) {\n        this.logger.log(logging_1.LogLevel.Trace, 'RenameProvider', `provideRenameEdits  ${document.uri} ${document.version}`);\n        const allRefsInfo = await this.getAllReferences(document, position, token);\n        if (token.isCancellationRequested || !allRefsInfo || !allRefsInfo.references.length) {\n            return undefined;\n        }\n        const triggerRef = allRefsInfo.triggerRef;\n        if (triggerRef.kind === references_1.MdReferenceKind.Link && ((triggerRef.link.kind === documentLinks_1.MdLinkKind.Definition && (0, range_1.rangeContains)(triggerRef.link.ref.range, position)) || triggerRef.link.href.kind === documentLinks_1.HrefKind.Reference)) {\n            return this.renameReferenceLinks(allRefsInfo, newName);\n        }\n        else if (triggerRef.kind === references_1.MdReferenceKind.Link && triggerRef.link.href.kind === documentLinks_1.HrefKind.External) {\n            return this.renameExternalLink(allRefsInfo, newName);\n        }\n        else if (triggerRef.kind === references_1.MdReferenceKind.Header || (triggerRef.kind === references_1.MdReferenceKind.Link && triggerRef.link.source.fragmentRange && (0, range_1.rangeContains)(triggerRef.link.source.fragmentRange, position) && (triggerRef.link.kind === documentLinks_1.MdLinkKind.Definition || triggerRef.link.kind === documentLinks_1.MdLinkKind.Link && triggerRef.link.href.kind === documentLinks_1.HrefKind.Internal))) {\n            return this.renameFragment(allRefsInfo, newName);\n        }\n        else if (triggerRef.kind === references_1.MdReferenceKind.Link && !(triggerRef.link.source.fragmentRange && (0, range_1.rangeContains)(triggerRef.link.source.fragmentRange, position)) && (triggerRef.link.kind === documentLinks_1.MdLinkKind.Link || triggerRef.link.kind === documentLinks_1.MdLinkKind.Definition) && triggerRef.link.href.kind === documentLinks_1.HrefKind.Internal) {\n            return this.renameFilePath(triggerRef.link.source.resource, triggerRef.link.href, allRefsInfo, newName);\n        }\n        return undefined;\n    }\n    async renameFilePath(triggerDocument, triggerHref, allRefsInfo, newName) {\n        const builder = new editBuilder_1.WorkspaceEditBuilder();\n        const targetUri = await (0, workspace_1.statLinkToMarkdownFile)(this.configuration, this.workspace, triggerHref.path) ?? triggerHref.path;\n        const rawNewFilePath = (0, documentLinks_1.resolveInternalDocumentLink)(triggerDocument, newName, this.workspace);\n        if (!rawNewFilePath) {\n            return builder.getEdit();\n        }\n        let resolvedNewFilePath = rawNewFilePath.resource;\n        if (!vscode_uri_1.Utils.extname(resolvedNewFilePath)) {\n            // If the newly entered path doesn't have a file extension but the original link did\n            // tack on a .md file extension\n            if (vscode_uri_1.Utils.extname(targetUri)) {\n                resolvedNewFilePath = resolvedNewFilePath.with({\n                    path: resolvedNewFilePath.path + '.' + (this.configuration.markdownFileExtensions[0] ?? config_1.defaultMarkdownFileExtension)\n                });\n            }\n        }\n        // First rename the file\n        if (await this.workspace.stat(targetUri)) {\n            builder.renameFile(targetUri, resolvedNewFilePath);\n        }\n        // Then update all refs to it\n        for (const ref of allRefsInfo.references) {\n            if (ref.kind === references_1.MdReferenceKind.Link) {\n                // Try to preserve style of existing links\n                const newLinkText = getLinkRenameText(this.workspace, ref.link.source, rawNewFilePath.resource, newName.startsWith('./') || newName.startsWith('.\\\\'));\n                builder.replace(ref.link.source.resource, getFilePathRange(ref.link), encodeURI((newLinkText ?? newName).replace(/\\\\/g, '/')));\n            }\n        }\n        return builder.getEdit();\n    }\n    renameFragment(allRefsInfo, newName) {\n        const slug = this.slugifier.fromHeading(newName).value;\n        const builder = new editBuilder_1.WorkspaceEditBuilder();\n        for (const ref of allRefsInfo.references) {\n            switch (ref.kind) {\n                case references_1.MdReferenceKind.Header:\n                    builder.replace(vscode_uri_1.URI.parse(ref.location.uri), ref.headerTextLocation.range, newName);\n                    break;\n                case references_1.MdReferenceKind.Link:\n                    builder.replace(ref.link.source.resource, ref.link.source.fragmentRange ?? ref.location.range, !ref.link.source.fragmentRange || ref.link.href.kind === documentLinks_1.HrefKind.External ? newName : slug);\n                    break;\n            }\n        }\n        return builder.getEdit();\n    }\n    renameExternalLink(allRefsInfo, newName) {\n        const builder = new editBuilder_1.WorkspaceEditBuilder();\n        for (const ref of allRefsInfo.references) {\n            if (ref.kind === references_1.MdReferenceKind.Link) {\n                builder.replace(ref.link.source.resource, ref.location.range, newName);\n            }\n        }\n        return builder.getEdit();\n    }\n    renameReferenceLinks(allRefsInfo, newName) {\n        const builder = new editBuilder_1.WorkspaceEditBuilder();\n        for (const ref of allRefsInfo.references) {\n            if (ref.kind === references_1.MdReferenceKind.Link) {\n                if (ref.link.kind === documentLinks_1.MdLinkKind.Definition) {\n                    builder.replace(ref.link.source.resource, ref.link.ref.range, newName);\n                }\n                else {\n                    builder.replace(ref.link.source.resource, ref.link.source.fragmentRange ?? ref.location.range, newName);\n                }\n            }\n        }\n        return builder.getEdit();\n    }\n    async getAllReferences(document, position, token) {\n        const version = document.version;\n        if (this.cachedRefs\n            && this.cachedRefs.resource.fsPath === vscode_uri_1.URI.parse(document.uri).fsPath\n            && this.cachedRefs.version === document.version\n            && (0, position_1.arePositionsEqual)(this.cachedRefs.position, position)) {\n            return this.cachedRefs;\n        }\n        const references = await this.referencesProvider.getReferencesAtPosition(document, position, token);\n        if (token.isCancellationRequested) {\n            return;\n        }\n        const triggerRef = references.find(ref => ref.isTriggerLocation);\n        if (!triggerRef) {\n            return undefined;\n        }\n        this.cachedRefs = {\n            resource: vscode_uri_1.URI.parse(document.uri),\n            version,\n            position,\n            references,\n            triggerRef\n        };\n        return this.cachedRefs;\n    }\n}\nexports.MdRenameProvider = MdRenameProvider;\nfunction getLinkRenameText(workspace, source, newPath, preferDotSlash = false) {\n    if (source.hrefText.startsWith('/')) {\n        const root = (0, documentLinks_1.resolveInternalDocumentLink)(source.resource, '/', workspace);\n        if (!root) {\n            return undefined;\n        }\n        return '/' + path.relative(root.resource.toString(true), newPath.toString(true));\n    }\n    const rootDir = vscode_uri_1.Utils.dirname(source.resource);\n    if (rootDir.scheme === newPath.scheme && rootDir.scheme !== schemes_1.Schemes.untitled) {\n        let newLink = path.relative(rootDir.toString(true), newPath.toString(true));\n        if (preferDotSlash && !newLink.startsWith('../') || preferDotSlash && !newLink.startsWith('..\\\\')) {\n            newLink = './' + newLink;\n        }\n        return newLink;\n    }\n    return undefined;\n}\nexports.getLinkRenameText = getLinkRenameText;\nfunction getFilePathRange(link) {\n    if (link.source.fragmentRange) {\n        return (0, range_1.modifyRange)(link.source.hrefRange, undefined, (0, position_1.translatePosition)(link.source.fragmentRange.start, { characterDelta: -1 }));\n    }\n    return link.source.hrefRange;\n}\nexports.getFilePathRange = getFilePathRange;\n//# sourceMappingURL=rename.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdSelectionRangeProvider = void 0;\nconst logging_1 = require(\"../logging\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst textDocument_1 = require(\"../types/textDocument\");\nconst string_1 = require(\"../util/string\");\nclass MdSelectionRangeProvider {\n    constructor(parser, tocProvider, logger) {\n        this.parser = parser;\n        this.tocProvider = tocProvider;\n        this.logger = logger;\n    }\n    async provideSelectionRanges(document, positions, _token) {\n        this.logger.log(logging_1.LogLevel.Debug, 'MdSelectionRangeProvider', `provideSelectionRanges  ${document.uri} ${document.version}`);\n        const promises = await Promise.all(positions.map((position) => {\n            return this.provideSelectionRange(document, position);\n        }));\n        return promises.filter(item => item !== undefined);\n    }\n    async provideSelectionRange(document, position) {\n        const headerRange = await this.getHeaderSelectionRange(document, position);\n        const blockRange = await this.getBlockSelectionRange(document, position, headerRange);\n        const inlineRange = await this.getInlineSelectionRange(document, position, blockRange);\n        return inlineRange || blockRange || headerRange;\n    }\n    async getInlineSelectionRange(document, position, blockRange) {\n        return createInlineRange(document, position, blockRange);\n    }\n    async getBlockSelectionRange(document, position, headerRange) {\n        const tokens = await this.parser.tokenize(document);\n        const blockTokens = getBlockTokensForPosition(tokens, position, headerRange);\n        if (blockTokens.length === 0) {\n            return undefined;\n        }\n        let currentRange = headerRange ? headerRange : createBlockRange(blockTokens.shift(), document, position.line);\n        for (let i = 0; i < blockTokens.length; i++) {\n            currentRange = createBlockRange(blockTokens[i], document, position.line, currentRange);\n        }\n        return currentRange;\n    }\n    async getHeaderSelectionRange(document, position) {\n        const toc = await this.tocProvider.getForDocument(document);\n        const headerInfo = getHeadersForPosition(toc.entries, position);\n        const headers = headerInfo.headers;\n        let currentRange;\n        for (let i = 0; i < headers.length; i++) {\n            currentRange = createHeaderRange(headers[i], i === headers.length - 1, headerInfo.headerOnThisLine, currentRange, getFirstChildHeader(document, headers[i], toc.entries));\n        }\n        return currentRange;\n    }\n}\nexports.MdSelectionRangeProvider = MdSelectionRangeProvider;\nfunction getHeadersForPosition(toc, position) {\n    const enclosingHeaders = toc.filter(header => header.sectionLocation.range.start.line <= position.line && header.sectionLocation.range.end.line >= position.line);\n    const sortedHeaders = enclosingHeaders.sort((header1, header2) => (header1.line - position.line) - (header2.line - position.line));\n    const onThisLine = toc.find(header => header.line === position.line) !== undefined;\n    return {\n        headers: sortedHeaders,\n        headerOnThisLine: onThisLine\n    };\n}\nfunction createHeaderRange(header, isClosestHeaderToPosition, onHeaderLine, parent, startOfChildRange) {\n    const range = header.sectionLocation.range;\n    const contentRange = (0, range_1.makeRange)((0, position_1.translatePosition)(range.start, { lineDelta: 1 }), range.end);\n    if (onHeaderLine && isClosestHeaderToPosition && startOfChildRange) {\n        // selection was made on this header line, so select header and its content until the start of its first child\n        // then all of its content\n        return makeSelectionRange((0, range_1.modifyRange)(range, undefined, startOfChildRange), makeSelectionRange(range, parent));\n    }\n    else if (onHeaderLine && isClosestHeaderToPosition) {\n        // selection was made on this header line and no children so expand to all of its content\n        return makeSelectionRange(range, parent);\n    }\n    else if (isClosestHeaderToPosition && startOfChildRange) {\n        // selection was made within content and has child so select content\n        // of this header then all content then header\n        return makeSelectionRange((0, range_1.modifyRange)(contentRange, undefined, startOfChildRange), makeSelectionRange(contentRange, (makeSelectionRange(range, parent))));\n    }\n    else {\n        // not on this header line so select content then header\n        return makeSelectionRange(contentRange, makeSelectionRange(range, parent));\n    }\n}\nfunction getBlockTokensForPosition(tokens, position, parent) {\n    const enclosingTokens = tokens.filter((token) => !!token.map && (token.map[0] <= position.line && token.map[1] > position.line) && (!parent || (token.map[0] >= parent.range.start.line && token.map[1] <= parent.range.end.line + 1)) && isBlockElement(token));\n    if (enclosingTokens.length === 0) {\n        return [];\n    }\n    const sortedTokens = enclosingTokens.sort((token1, token2) => (token2.map[1] - token2.map[0]) - (token1.map[1] - token1.map[0]));\n    return sortedTokens;\n}\nfunction createBlockRange(block, document, cursorLine, parent) {\n    if (block.type === 'fence') {\n        return createFencedRange(block, cursorLine, document, parent);\n    }\n    else {\n        let startLine = (0, string_1.isEmptyOrWhitespace)((0, textDocument_1.getLine)(document, block.map[0])) ? block.map[0] + 1 : block.map[0];\n        let endLine = startLine === block.map[1] ? block.map[1] : block.map[1] - 1;\n        if (block.type === 'paragraph_open' && block.map[1] - block.map[0] === 2) {\n            startLine = endLine = cursorLine;\n        }\n        else if (isList(block) && (0, string_1.isEmptyOrWhitespace)((0, textDocument_1.getLine)(document, endLine))) {\n            endLine = endLine - 1;\n        }\n        const range = (0, range_1.makeRange)(startLine, 0, endLine, (0, textDocument_1.getLine)(document, endLine).length);\n        if (parent && (0, range_1.rangeContains)(parent.range, range) && !(0, range_1.areRangesEqual)(parent.range, range)) {\n            return makeSelectionRange(range, parent);\n        }\n        else if (parent && (0, range_1.areRangesEqual)(parent.range, range)) {\n            return parent;\n        }\n        else {\n            return makeSelectionRange(range, undefined);\n        }\n    }\n}\nfunction createInlineRange(document, cursorPosition, parent) {\n    const lineText = (0, textDocument_1.getLine)(document, cursorPosition.line);\n    const boldSelection = createBoldRange(lineText, cursorPosition.character, cursorPosition.line, parent);\n    const italicSelection = createOtherInlineRange(lineText, cursorPosition.character, cursorPosition.line, true, parent);\n    let comboSelection;\n    if (boldSelection && italicSelection && !(0, range_1.areRangesEqual)(boldSelection.range, italicSelection.range)) {\n        if ((0, range_1.rangeContains)(boldSelection.range, italicSelection.range)) {\n            comboSelection = createOtherInlineRange(lineText, cursorPosition.character, cursorPosition.line, true, boldSelection);\n        }\n        else if ((0, range_1.rangeContains)(italicSelection.range, boldSelection.range)) {\n            comboSelection = createBoldRange(lineText, cursorPosition.character, cursorPosition.line, italicSelection);\n        }\n    }\n    const linkSelection = createLinkRange(lineText, cursorPosition.character, cursorPosition.line, comboSelection || boldSelection || italicSelection || parent);\n    const inlineCodeBlockSelection = createOtherInlineRange(lineText, cursorPosition.character, cursorPosition.line, false, linkSelection || parent);\n    return inlineCodeBlockSelection || linkSelection || comboSelection || boldSelection || italicSelection;\n}\nfunction createFencedRange(token, cursorLine, document, parent) {\n    const startLine = token.map[0];\n    const endLine = token.map[1] - 1;\n    const onFenceLine = cursorLine === startLine || cursorLine === endLine;\n    const fenceRange = (0, range_1.makeRange)(startLine, 0, endLine, (0, textDocument_1.getLine)(document, endLine).length);\n    const contentRange = endLine - startLine > 2 && !onFenceLine ? (0, range_1.makeRange)(startLine + 1, 0, endLine - 1, (0, textDocument_1.getLine)(document, endLine - 1).length) : undefined;\n    if (contentRange) {\n        return makeSelectionRange(contentRange, makeSelectionRange(fenceRange, parent));\n    }\n    else {\n        if (parent && (0, range_1.areRangesEqual)(parent.range, fenceRange)) {\n            return parent;\n        }\n        else {\n            return makeSelectionRange(fenceRange, parent);\n        }\n    }\n}\nfunction createBoldRange(lineText, cursorChar, cursorLine, parent) {\n    const regex = /\\*\\*([^*]+\\*?[^*]+\\*?[^*]+)\\*\\*/gim;\n    const matches = [...lineText.matchAll(regex)].filter(match => lineText.indexOf(match[0]) <= cursorChar && lineText.indexOf(match[0]) + match[0].length >= cursorChar);\n    if (matches.length) {\n        // should only be one match, so select first and index 0 contains the entire match\n        const bold = matches[0][0];\n        const startIndex = lineText.indexOf(bold);\n        const cursorOnStars = cursorChar === startIndex || cursorChar === startIndex + 1 || cursorChar === startIndex + bold.length || cursorChar === startIndex + bold.length - 1;\n        const contentAndStars = makeSelectionRange((0, range_1.makeRange)(cursorLine, startIndex, cursorLine, startIndex + bold.length), parent);\n        const content = makeSelectionRange((0, range_1.makeRange)(cursorLine, startIndex + 2, cursorLine, startIndex + bold.length - 2), contentAndStars);\n        return cursorOnStars ? contentAndStars : content;\n    }\n    return undefined;\n}\nfunction createOtherInlineRange(lineText, cursorChar, cursorLine, isItalic, parent) {\n    const italicRegexes = [/(?:[^*]+)(\\*([^*]+)(?:\\*\\*[^*]*\\*\\*)*([^*]+)\\*)(?:[^*]+)/g, /^(?:[^*]*)(\\*([^*]+)(?:\\*\\*[^*]*\\*\\*)*([^*]+)\\*)(?:[^*]*)$/g];\n    let matches = [];\n    if (isItalic) {\n        matches = [...lineText.matchAll(italicRegexes[0])].filter(match => lineText.indexOf(match[0]) <= cursorChar && lineText.indexOf(match[0]) + match[0].length >= cursorChar);\n        if (!matches.length) {\n            matches = [...lineText.matchAll(italicRegexes[1])].filter(match => lineText.indexOf(match[0]) <= cursorChar && lineText.indexOf(match[0]) + match[0].length >= cursorChar);\n        }\n    }\n    else {\n        matches = [...lineText.matchAll(/\\`[^\\`]*\\`/g)].filter(match => lineText.indexOf(match[0]) <= cursorChar && lineText.indexOf(match[0]) + match[0].length >= cursorChar);\n    }\n    if (matches.length) {\n        // should only be one match, so select first and select group 1 for italics because that contains just the italic section\n        // doesn't include the leading and trailing characters which are guaranteed to not be * so as not to be confused with bold\n        const match = isItalic ? matches[0][1] : matches[0][0];\n        const startIndex = lineText.indexOf(match);\n        const cursorOnType = cursorChar === startIndex || cursorChar === startIndex + match.length;\n        const contentAndType = makeSelectionRange((0, range_1.makeRange)(cursorLine, startIndex, cursorLine, startIndex + match.length), parent);\n        const content = makeSelectionRange((0, range_1.makeRange)(cursorLine, startIndex + 1, cursorLine, startIndex + match.length - 1), contentAndType);\n        return cursorOnType ? contentAndType : content;\n    }\n    return undefined;\n}\nfunction createLinkRange(lineText, cursorChar, cursorLine, parent) {\n    const regex = /(\\[[^\\(\\)]*\\])(\\([^\\[\\]]*\\))/g;\n    const matches = [...lineText.matchAll(regex)].filter(match => lineText.indexOf(match[0]) <= cursorChar && lineText.indexOf(match[0]) + match[0].length > cursorChar);\n    if (matches.length) {\n        // should only be one match, so select first and index 0 contains the entire match, so match = [text](url)\n        const link = matches[0][0];\n        const linkRange = makeSelectionRange((0, range_1.makeRange)(cursorLine, lineText.indexOf(link), cursorLine, lineText.indexOf(link) + link.length), parent);\n        const linkText = matches[0][1];\n        const url = matches[0][2];\n        // determine if cursor is within [text] or (url) in order to know which should be selected\n        const nearestType = cursorChar >= lineText.indexOf(linkText) && cursorChar < lineText.indexOf(linkText) + linkText.length ? linkText : url;\n        const indexOfType = lineText.indexOf(nearestType);\n        // determine if cursor is on a bracket or paren and if so, return the [content] or (content), skipping over the content range\n        const cursorOnType = cursorChar === indexOfType || cursorChar === indexOfType + nearestType.length;\n        const contentAndNearestType = makeSelectionRange((0, range_1.makeRange)(cursorLine, indexOfType, cursorLine, indexOfType + nearestType.length), linkRange);\n        const content = makeSelectionRange((0, range_1.makeRange)(cursorLine, indexOfType + 1, cursorLine, indexOfType + nearestType.length - 1), contentAndNearestType);\n        return cursorOnType ? contentAndNearestType : content;\n    }\n    return undefined;\n}\nfunction isList(token) {\n    return token.type ? ['ordered_list_open', 'list_item_open', 'bullet_list_open'].includes(token.type) : false;\n}\nfunction isBlockElement(token) {\n    return !['list_item_close', 'paragraph_close', 'bullet_list_close', 'inline', 'heading_close', 'heading_open'].includes(token.type);\n}\nfunction getFirstChildHeader(document, header, toc) {\n    let childRange;\n    if (header && toc) {\n        const children = toc.filter(t => (0, range_1.rangeContains)(header.sectionLocation.range, t.sectionLocation.range) && t.sectionLocation.range.start.line > header.sectionLocation.range.start.line).sort((t1, t2) => t1.line - t2.line);\n        if (children.length > 0) {\n            childRange = children[0].sectionLocation.range.start;\n            const lineText = (0, textDocument_1.getLine)(document, childRange.line - 1);\n            return childRange ? (0, position_1.translatePosition)(childRange, { lineDelta: -1, characterDelta: lineText.length }) : undefined;\n        }\n    }\n    return undefined;\n}\nfunction makeSelectionRange(range, parent) {\n    return { range, parent };\n}\n//# sourceMappingURL=smartSelect.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdWorkspaceSymbolProvider = void 0;\nconst lsp = require(\"vscode-languageserver-types\");\nconst cancellation_1 = require(\"../util/cancellation\");\nconst dispose_1 = require(\"../util/dispose\");\nconst workspaceCache_1 = require(\"../workspaceCache\");\nclass MdWorkspaceSymbolProvider extends dispose_1.Disposable {\n    constructor(workspace, symbolProvider) {\n        super();\n        this.symbolProvider = symbolProvider;\n        this._cache = this._register(new workspaceCache_1.MdWorkspaceInfoCache(workspace, doc => this.provideDocumentSymbolInformation(doc, cancellation_1.noopToken)));\n    }\n    async provideWorkspaceSymbols(query, _token) {\n        const allSymbols = (await this._cache.values()).flat();\n        return allSymbols.filter(symbolInformation => symbolInformation.name.toLowerCase().indexOf(query.toLowerCase()) !== -1);\n    }\n    async provideDocumentSymbolInformation(document, token) {\n        const docSymbols = await this.symbolProvider.provideDocumentSymbols(document, {}, token);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        return Array.from(this.toSymbolInformation(document.uri, docSymbols));\n    }\n    *toSymbolInformation(uri, docSymbols) {\n        for (const symbol of docSymbols) {\n            yield {\n                name: symbol.name,\n                kind: lsp.SymbolKind.String,\n                location: { uri, range: symbol.selectionRange }\n            };\n            if (symbol.children) {\n                yield* this.toSymbolInformation(uri, symbol.children);\n            }\n        }\n    }\n}\nexports.MdWorkspaceSymbolProvider = MdWorkspaceSymbolProvider;\n//# sourceMappingURL=workspaceSymbols.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LogLevel = void 0;\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[\"Debug\"] = \"Debug\";\n    LogLevel[\"Trace\"] = \"Trace\";\n})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));\n//# sourceMappingURL=logging.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.githubSlugifier = exports.Slug = void 0;\nclass Slug {\n    constructor(value) {\n        this.value = value;\n    }\n    equals(other) {\n        return this.value === other.value;\n    }\n}\nexports.Slug = Slug;\n/**\n * A {@link ISlugifier slugifier} that approximates how GitHub's slugifier works.\n */\nexports.githubSlugifier = new class {\n    fromHeading(heading) {\n        const slugifiedHeading = encodeURI(heading.trim()\n            .toLowerCase()\n            .replace(/\\s+/g, '-') // Replace whitespace with -\n            // allow-any-unicode-next-line\n            .replace(/[\\]\\[\\!\\/\\'\\\"\\#\\$\\%\\&\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\\\\\^\\{\\|\\}\\~\\`]/g, '') // Remove known punctuators\n            .replace(/^-+/, '') // Remove leading -\n            .replace(/-+$/, '') // Remove trailing -\n        );\n        return new Slug(slugifiedHeading);\n    }\n};\n//# sourceMappingURL=slugify.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdTableOfContentsProvider = exports.TableOfContents = void 0;\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst logging_1 = require(\"./logging\");\nconst slugify_1 = require(\"./slugify\");\nconst range_1 = require(\"./types/range\");\nconst textDocument_1 = require(\"./types/textDocument\");\nconst dispose_1 = require(\"./util/dispose\");\nconst workspaceCache_1 = require(\"./workspaceCache\");\nclass TableOfContents {\n    constructor(entries, slugifier) {\n        this.entries = entries;\n        this.slugifier = slugifier;\n    }\n    static async create(parser, document) {\n        const entries = await this.buildToc(parser, document);\n        return new TableOfContents(entries, parser.slugifier);\n    }\n    static async createForContainingDoc(parser, workspace, document) {\n        const context = workspace.getContainingDocument?.(vscode_uri_1.URI.parse(document.uri));\n        if (context) {\n            const entries = [];\n            await Promise.all(Array.from(context.children, async (cell) => {\n                const doc = await workspace.openMarkdownDocument(cell.uri);\n                if (doc) {\n                    entries.push(...(await this.buildToc(parser, doc)));\n                }\n            }));\n            return new TableOfContents(entries, parser.slugifier);\n        }\n        return this.create(parser, document);\n    }\n    static async buildToc(parser, document) {\n        const docUri = vscode_uri_1.URI.parse(document.uri);\n        const toc = [];\n        const tokens = await parser.tokenize(document);\n        const existingSlugEntries = new Map();\n        const headers = [];\n        let currentHeader;\n        for (const token of tokens) {\n            switch (token.type) {\n                case 'heading_open': {\n                    currentHeader = { open: token, body: [] };\n                    headers.push(currentHeader);\n                    break;\n                }\n                case 'heading_close': {\n                    currentHeader = undefined;\n                    break;\n                }\n                default: {\n                    currentHeader?.body.push(token);\n                    break;\n                }\n            }\n        }\n        for (const { open, body } of headers) {\n            if (!open.map) {\n                continue;\n            }\n            const lineNumber = open.map[0];\n            const line = (0, textDocument_1.getLine)(document, lineNumber);\n            const bodyText = TableOfContents.getHeaderTitleAsPlainText(body);\n            let slug = parser.slugifier.fromHeading(bodyText);\n            const existingSlugEntry = existingSlugEntries.get(slug.value);\n            if (existingSlugEntry) {\n                ++existingSlugEntry.count;\n                slug = parser.slugifier.fromHeading(slug.value + '-' + existingSlugEntry.count);\n            }\n            else {\n                existingSlugEntries.set(slug.value, { count: 0 });\n            }\n            const headerLocation = {\n                uri: docUri.toString(),\n                range: (0, range_1.makeRange)(lineNumber, 0, lineNumber, line.length)\n            };\n            const headerTextLocation = {\n                uri: docUri.toString(),\n                range: (0, range_1.makeRange)(lineNumber, line.match(/^#+\\s*/)?.[0].length ?? 0, lineNumber, line.length - (line.match(/\\s*#*$/)?.[0].length ?? 0))\n            };\n            toc.push({\n                slug,\n                text: line.replace(/^\\s*#+\\s*(.*?)(\\s+#+)?$/, (_, word) => word.trim()),\n                level: TableOfContents.getHeaderLevel(open.markup),\n                line: lineNumber,\n                sectionLocation: headerLocation,\n                headerLocation,\n                headerTextLocation\n            });\n        }\n        // Get full range of section\n        return toc.map((entry, startIndex) => {\n            let end = undefined;\n            for (let i = startIndex + 1; i < toc.length; ++i) {\n                if (toc[i].level <= entry.level) {\n                    end = toc[i].line - 1;\n                    break;\n                }\n            }\n            const endLine = end ?? document.lineCount - 1;\n            return {\n                ...entry,\n                sectionLocation: {\n                    uri: docUri.toString(),\n                    range: (0, range_1.makeRange)(entry.sectionLocation.range.start, { line: endLine, character: (0, textDocument_1.getLine)(document, endLine).length })\n                }\n            };\n        });\n    }\n    static getHeaderLevel(markup) {\n        if (markup === '=') {\n            return 1;\n        }\n        else if (markup === '-') {\n            return 2;\n        }\n        else { // '#', '##', ...\n            return markup.length;\n        }\n    }\n    static tokenToPlainText(token) {\n        if (token.children) {\n            return token.children.map(TableOfContents.tokenToPlainText).join('');\n        }\n        switch (token.type) {\n            case 'text':\n            case 'emoji':\n            case 'code_inline':\n                return token.content;\n            default:\n                return '';\n        }\n    }\n    static getHeaderTitleAsPlainText(headerTitleParts) {\n        return headerTitleParts\n            .map(TableOfContents.tokenToPlainText)\n            .join('')\n            .trim();\n    }\n    lookup(fragment) {\n        const slug = this.slugifier.fromHeading(fragment);\n        return this.entries.find(entry => entry.slug.equals(slug));\n    }\n}\nexports.TableOfContents = TableOfContents;\nTableOfContents.empty = new TableOfContents([], slugify_1.githubSlugifier);\nclass MdTableOfContentsProvider extends dispose_1.Disposable {\n    constructor(parser, workspace, logger) {\n        super();\n        this.parser = parser;\n        this.workspace = workspace;\n        this.logger = logger;\n        this._cache = this._register(new workspaceCache_1.MdDocumentInfoCache(workspace, doc => {\n            this.logger.log(logging_1.LogLevel.Debug, 'TableOfContentsProvider', `create - ${doc.uri}`);\n            return TableOfContents.create(parser, doc);\n        }));\n    }\n    async get(resource) {\n        return await this._cache.get(resource) ?? TableOfContents.empty;\n    }\n    getForDocument(doc) {\n        return this._cache.getForDocument(doc);\n    }\n    getForContainingDoc(doc) {\n        return TableOfContents.createForContainingDoc(this.parser, this.workspace, doc);\n    }\n}\nexports.MdTableOfContentsProvider = MdTableOfContentsProvider;\n//# sourceMappingURL=tableOfContents.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.comparePosition = exports.isAfter = exports.isBeforeOrEqual = exports.isBefore = exports.translatePosition = exports.isPosition = exports.arePositionsEqual = void 0;\nfunction arePositionsEqual(a, b) {\n    return a.line === b.line && a.character === b.character;\n}\nexports.arePositionsEqual = arePositionsEqual;\nfunction isPosition(other) {\n    if (!other) {\n        return false;\n    }\n    const { line, character } = other;\n    return typeof line === 'number' && typeof character === 'number';\n}\nexports.isPosition = isPosition;\nfunction translatePosition(pos, change) {\n    return {\n        line: pos.line + (change.lineDelta ?? 0),\n        character: pos.character + (change.characterDelta ?? 0),\n    };\n}\nexports.translatePosition = translatePosition;\nfunction isBefore(pos, other) {\n    if (pos.line < other.line) {\n        return true;\n    }\n    if (other.line < pos.line) {\n        return false;\n    }\n    return pos.character < other.character;\n}\nexports.isBefore = isBefore;\nfunction isBeforeOrEqual(pos, other) {\n    if (pos.line < other.line) {\n        return true;\n    }\n    if (other.line < pos.line) {\n        return false;\n    }\n    return pos.character <= other.character;\n}\nexports.isBeforeOrEqual = isBeforeOrEqual;\nfunction isAfter(pos, other) {\n    return !isBeforeOrEqual(pos, other);\n}\nexports.isAfter = isAfter;\nfunction comparePosition(a, b) {\n    if (a.line < b.line) {\n        return -1;\n    }\n    else if (a.line > b.line) {\n        return 1;\n    }\n    else {\n        // equal line\n        if (a.character < b.character) {\n            return -1;\n        }\n        else if (a.character > b.character) {\n            return 1;\n        }\n        else {\n            // equal line and character\n            return 0;\n        }\n    }\n}\nexports.comparePosition = comparePosition;\n//# sourceMappingURL=position.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.rangeIntersects = exports.rangeContains = exports.modifyRange = exports.areRangesEqual = exports.makeRange = exports.isRange = void 0;\nconst position_1 = require(\"./position\");\nfunction isRange(thing) {\n    if (!thing) {\n        return false;\n    }\n    return (0, position_1.isPosition)(thing.start)\n        && (0, position_1.isPosition)(thing.end);\n}\nexports.isRange = isRange;\nfunction makeRange(startOrStartLine, endOrStartCharacter, endLine, endCharacter) {\n    if (typeof startOrStartLine === 'number') {\n        return {\n            start: { line: startOrStartLine, character: endOrStartCharacter },\n            end: { line: endLine, character: endCharacter },\n        };\n    }\n    return { start: startOrStartLine, end: endOrStartCharacter };\n}\nexports.makeRange = makeRange;\nfunction areRangesEqual(a, b) {\n    return (0, position_1.arePositionsEqual)(a.start, b.start) && (0, position_1.arePositionsEqual)(a.end, b.end);\n}\nexports.areRangesEqual = areRangesEqual;\nfunction modifyRange(range, start, end) {\n    return {\n        start: start ?? range.start,\n        end: end ?? range.end,\n    };\n}\nexports.modifyRange = modifyRange;\nfunction rangeContains(range, other) {\n    if (isRange(other)) {\n        return rangeContains(range, other.start) && rangeContains(range, other.end);\n    }\n    return !(0, position_1.isBefore)(other, range.start) && !(0, position_1.isBefore)(range.end, other);\n}\nexports.rangeContains = rangeContains;\nfunction rangeIntersects(a, b) {\n    if (rangeContains(a, b.start) || rangeContains(a, b.end)) {\n        return true;\n    }\n    // Check case where `a` is entirely contained in `b`\n    return rangeContains(b, a.start) || rangeContains(b, a.end);\n}\nexports.rangeIntersects = rangeIntersects;\n//# sourceMappingURL=range.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getLine = void 0;\nconst range_1 = require(\"./range\");\nfunction getLine(doc, line) {\n    return doc.getText((0, range_1.makeRange)(line, 0, line, Number.MAX_VALUE)).replace(/\\r?\\n$/, '');\n}\nexports.getLine = getLine;\n//# sourceMappingURL=textDocument.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.coalesce = void 0;\n/**\n * @returns New array with all falsy values removed. The original array IS NOT modified.\n */\nfunction coalesce(array) {\n    return array.filter(e => !!e);\n}\nexports.coalesce = coalesce;\n//# sourceMappingURL=arrays.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.noopToken = void 0;\nconst vscode_languageserver_1 = require(\"vscode-languageserver\");\nexports.noopToken = new class {\n    constructor() {\n        this._onCancellationRequestedEmitter = new vscode_languageserver_1.Emitter();\n        this.onCancellationRequested = this._onCancellationRequestedEmitter.event;\n    }\n    get isCancellationRequested() { return false; }\n};\n//# sourceMappingURL=cancellation.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DisposableStore = exports.Disposable = exports.disposeAll = exports.MultiDisposeError = void 0;\nclass MultiDisposeError extends Error {\n    constructor(errors) {\n        super(`Encountered errors while disposing of store. Errors: [${errors.join(', ')}]`);\n        this.errors = errors;\n    }\n}\nexports.MultiDisposeError = MultiDisposeError;\nfunction disposeAll(disposables) {\n    const errors = [];\n    for (const disposable of disposables) {\n        try {\n            disposable.dispose();\n        }\n        catch (e) {\n            errors.push(e);\n        }\n    }\n    if (errors.length === 1) {\n        throw errors[0];\n    }\n    else if (errors.length > 1) {\n        throw new MultiDisposeError(errors);\n    }\n}\nexports.disposeAll = disposeAll;\nclass Disposable {\n    constructor() {\n        this._isDisposed = false;\n        this._disposables = [];\n    }\n    dispose() {\n        if (this._isDisposed) {\n            return;\n        }\n        this._isDisposed = true;\n        disposeAll(this._disposables);\n    }\n    _register(value) {\n        if (this._isDisposed) {\n            value.dispose();\n        }\n        else {\n            this._disposables.push(value);\n        }\n        return value;\n    }\n    get isDisposed() {\n        return this._isDisposed;\n    }\n}\nexports.Disposable = Disposable;\nclass DisposableStore extends Disposable {\n    constructor() {\n        super(...arguments);\n        this.items = new Set();\n    }\n    dispose() {\n        super.dispose();\n        disposeAll(this.items);\n        this.items.clear();\n    }\n    add(item) {\n        if (this.isDisposed) {\n            console.warn('Adding to disposed store. Item will be leaked');\n        }\n        this.items.add(item);\n        return item;\n    }\n}\nexports.DisposableStore = DisposableStore;\n//# sourceMappingURL=dispose.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceEditBuilder = void 0;\nconst lsp = require(\"vscode-languageserver-types\");\nclass WorkspaceEditBuilder {\n    constructor() {\n        this.changes = {};\n        this.documentChanges = [];\n    }\n    replace(resource, range, newText) {\n        this.addEdit(resource, lsp.TextEdit.replace(range, newText));\n    }\n    insert(resource, position, newText) {\n        this.addEdit(resource, lsp.TextEdit.insert(position, newText));\n    }\n    addEdit(resource, edit) {\n        const resourceKey = resource.toString();\n        let edits = this.changes[resourceKey];\n        if (!edits) {\n            edits = [];\n            this.changes[resourceKey] = edits;\n        }\n        edits.push(edit);\n    }\n    getEdit() {\n        // We need to convert changes into `documentChanges` or else they get dropped\n        const textualChanges = Object.entries(this.changes).map(([uri, edits]) => {\n            return lsp.TextDocumentEdit.create({ uri, version: null }, edits);\n        });\n        return {\n            documentChanges: [...textualChanges, ...this.documentChanges],\n        };\n    }\n    renameFile(targetUri, resolvedNewFilePath) {\n        this.documentChanges.push(lsp.RenameFile.create(targetUri.toString(), resolvedNewFilePath.toString()));\n    }\n}\nexports.WorkspaceEditBuilder = WorkspaceEditBuilder;\n//# sourceMappingURL=editBuilder.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.looksLikeMarkdownPath = void 0;\nconst vscode_uri_1 = require(\"vscode-uri\");\nfunction looksLikeMarkdownPath(config, resolvedHrefPath) {\n    return config.markdownFileExtensions.includes(vscode_uri_1.Utils.extname(vscode_uri_1.URI.from(resolvedHrefPath)).toLowerCase().replace('.', ''));\n}\nexports.looksLikeMarkdownPath = looksLikeMarkdownPath;\n//# sourceMappingURL=file.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.lazy = void 0;\nclass LazyValue {\n    constructor(_getValue) {\n        this._getValue = _getValue;\n        this._hasValue = false;\n    }\n    get value() {\n        if (!this._hasValue) {\n            this._hasValue = true;\n            this._value = this._getValue();\n        }\n        return this._value;\n    }\n    get hasValue() {\n        return this._hasValue;\n    }\n    map(f) {\n        return new LazyValue(() => f(this.value));\n    }\n}\nfunction lazy(getValue) {\n    return new LazyValue(getValue);\n}\nexports.lazy = lazy;\n//# sourceMappingURL=lazy.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Limiter = void 0;\n/**\n * A helper to queue N promises and run them all with a max degree of parallelism. The helper\n * ensures that at any time no more than M promises are running at the same time.\n *\n * Taken from 'src/vs/base/common/async.ts'\n */\nclass Limiter {\n    constructor(maxDegreeOfParalellism) {\n        this._size = 0;\n        this.maxDegreeOfParalellism = maxDegreeOfParalellism;\n        this.outstandingPromises = [];\n        this.runningPromises = 0;\n    }\n    get size() {\n        return this._size;\n    }\n    queue(factory) {\n        this._size++;\n        return new Promise((c, e) => {\n            this.outstandingPromises.push({ factory, c, e });\n            this.consume();\n        });\n    }\n    consume() {\n        while (this.outstandingPromises.length && this.runningPromises < this.maxDegreeOfParalellism) {\n            const iLimitedTask = this.outstandingPromises.shift();\n            this.runningPromises++;\n            const promise = iLimitedTask.factory();\n            promise.then(iLimitedTask.c, iLimitedTask.e);\n            promise.then(() => this.consumed(), () => this.consumed());\n        }\n    }\n    consumed() {\n        this._size--;\n        this.runningPromises--;\n        if (this.outstandingPromises.length > 0) {\n            this.consume();\n        }\n    }\n}\nexports.Limiter = Limiter;\n//# sourceMappingURL=limiter.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isParentDir = void 0;\nconst path = require(\"path\");\nfunction isParentDir(parent, maybeChild) {\n    if (parent.scheme === maybeChild.scheme && parent.authority === maybeChild.authority) {\n        const relative = path.relative(parent.path, maybeChild.path);\n        return !relative.startsWith('..');\n    }\n    return false;\n}\nexports.isParentDir = isParentDir;\n//# sourceMappingURL=path.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ResourceMap = void 0;\nconst defaultResourceToKey = (resource) => resource.toString();\nclass ResourceMap {\n    constructor(toKey = defaultResourceToKey) {\n        this.map = new Map();\n        this.toKey = toKey;\n    }\n    set(uri, value) {\n        this.map.set(this.toKey(uri), { uri, value });\n        return this;\n    }\n    get(resource) {\n        return this.map.get(this.toKey(resource))?.value;\n    }\n    has(resource) {\n        return this.map.has(this.toKey(resource));\n    }\n    get size() {\n        return this.map.size;\n    }\n    clear() {\n        this.map.clear();\n    }\n    delete(resource) {\n        return this.map.delete(this.toKey(resource));\n    }\n    *values() {\n        for (const entry of this.map.values()) {\n            yield entry.value;\n        }\n    }\n    *keys() {\n        for (const entry of this.map.values()) {\n            yield entry.uri;\n        }\n    }\n    *entries() {\n        for (const entry of this.map.values()) {\n            yield [entry.uri, entry.value];\n        }\n    }\n    [Symbol.iterator]() {\n        return this.entries();\n    }\n}\nexports.ResourceMap = ResourceMap;\n//# sourceMappingURL=resourceMap.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Schemes = void 0;\nexports.Schemes = Object.freeze({\n    file: 'file',\n    untitled: 'untitled',\n});\n//# sourceMappingURL=schemes.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.r = exports.isEmptyOrWhitespace = void 0;\nfunction isEmptyOrWhitespace(str) {\n    return /^\\s*$/.test(str);\n}\nexports.isEmptyOrWhitespace = isEmptyOrWhitespace;\nexports.r = String.raw;\n//# sourceMappingURL=string.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tryDecodeUri = void 0;\nfunction tryDecodeUri(str) {\n    try {\n        return decodeURI(str);\n    }\n    catch {\n        return str;\n    }\n}\nexports.tryDecodeUri = tryDecodeUri;\n//# sourceMappingURL=uri.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tryAppendMarkdownFileExtension = exports.statLinkToMarkdownFile = exports.openLinkToMarkdownFile = exports.getWorkspaceFolder = exports.isWorkspaceWithFileWatching = void 0;\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst config_1 = require(\"./config\");\nfunction isWorkspaceWithFileWatching(workspace) {\n    return 'watchFile' in workspace;\n}\nexports.isWorkspaceWithFileWatching = isWorkspaceWithFileWatching;\nfunction getWorkspaceFolder(workspace, docUri) {\n    if (workspace.workspaceFolders.length === 0) {\n        return undefined;\n    }\n    // Find the longest match\n    const possibleWorkspaces = workspace.workspaceFolders\n        .filter(folder => folder.scheme === docUri.scheme\n        && folder.authority === docUri.authority\n        && (docUri.fsPath.startsWith(folder.fsPath + '/') || docUri.fsPath.startsWith(folder.fsPath + '\\\\')))\n        .sort((a, b) => b.fsPath.length - a.fsPath.length);\n    if (possibleWorkspaces.length) {\n        return possibleWorkspaces[0];\n    }\n    // Default to first workspace\n    // TODO: Does this make sense?\n    return workspace.workspaceFolders[0];\n}\nexports.getWorkspaceFolder = getWorkspaceFolder;\nasync function openLinkToMarkdownFile(config, workspace, resource) {\n    try {\n        const doc = await workspace.openMarkdownDocument(resource);\n        if (doc) {\n            return doc;\n        }\n    }\n    catch {\n        // Noop\n    }\n    const dotMdResource = tryAppendMarkdownFileExtension(config, resource);\n    if (dotMdResource) {\n        return workspace.openMarkdownDocument(dotMdResource);\n    }\n    return undefined;\n}\nexports.openLinkToMarkdownFile = openLinkToMarkdownFile;\n/**\n * Check that a link to a file exists.\n *\n * @returns The resolved URI or `undefined` if the file does not exist.\n */\nasync function statLinkToMarkdownFile(config, workspace, linkUri, out_statCache) {\n    const exists = async (uri) => {\n        const result = await workspace.stat(uri);\n        out_statCache?.set(uri, { exists: !!result });\n        return !!result;\n    };\n    if (await exists(linkUri)) {\n        return linkUri;\n    }\n    // We don't think the file exists. See if we need to append `.md`\n    const dotMdResource = tryAppendMarkdownFileExtension(config, linkUri);\n    if (dotMdResource && await exists(dotMdResource)) {\n        return dotMdResource;\n    }\n    return undefined;\n}\nexports.statLinkToMarkdownFile = statLinkToMarkdownFile;\nfunction tryAppendMarkdownFileExtension(config, linkUri) {\n    const ext = vscode_uri_1.Utils.extname(linkUri).toLowerCase().replace(/^\\./, '');\n    if (ext === '' || !(config.markdownFileExtensions.includes(ext) || config.knownLinkedToFileExtensions.includes(ext))) {\n        return linkUri.with({ path: linkUri.path + '.' + (config.markdownFileExtensions[0] ?? config_1.defaultMarkdownFileExtension) });\n    }\n    return undefined;\n}\nexports.tryAppendMarkdownFileExtension = tryAppendMarkdownFileExtension;\n//# sourceMappingURL=workspace.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdWorkspaceInfoCache = exports.MdDocumentInfoCache = void 0;\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst dispose_1 = require(\"./util/dispose\");\nconst lazy_1 = require(\"./util/lazy\");\nconst resourceMap_1 = require(\"./util/resourceMap\");\nclass LazyResourceMap {\n    constructor() {\n        this._map = new resourceMap_1.ResourceMap();\n    }\n    has(resource) {\n        return this._map.has(resource);\n    }\n    get(resource) {\n        return this._map.get(resource)?.value;\n    }\n    set(resource, value) {\n        this._map.set(resource, value);\n    }\n    delete(resource) {\n        this._map.delete(resource);\n    }\n    entries() {\n        return Promise.all(Array.from(this._map.entries(), async ([key, entry]) => {\n            return [key, await entry.value];\n        }));\n    }\n}\n/**\n * Cache of information per-document in the workspace.\n *\n * The values are computed lazily and invalidated when the document changes.\n */\nclass MdDocumentInfoCache extends dispose_1.Disposable {\n    constructor(workspace, getValue) {\n        super();\n        this.workspace = workspace;\n        this.getValue = getValue;\n        this._cache = new LazyResourceMap();\n        this._loadingDocuments = new resourceMap_1.ResourceMap();\n        this._register(this.workspace.onDidChangeMarkdownDocument(doc => this.invalidate(doc)));\n        this._register(this.workspace.onDidDeleteMarkdownDocument(this.onDidDeleteDocument, this));\n    }\n    async get(resource) {\n        let existing = this._cache.get(resource);\n        if (existing) {\n            return existing;\n        }\n        const doc = await this.loadDocument(resource);\n        if (!doc) {\n            return undefined;\n        }\n        // Check if we have invalidated\n        existing = this._cache.get(resource);\n        if (existing) {\n            return existing;\n        }\n        return this.resetEntry(doc)?.value;\n    }\n    async getForDocument(document) {\n        const existing = this._cache.get(vscode_uri_1.URI.parse(document.uri));\n        if (existing) {\n            return existing;\n        }\n        return this.resetEntry(document).value;\n    }\n    loadDocument(resource) {\n        const existing = this._loadingDocuments.get(resource);\n        if (existing) {\n            return existing;\n        }\n        const p = this.workspace.openMarkdownDocument(resource);\n        this._loadingDocuments.set(resource, p);\n        p.finally(() => {\n            this._loadingDocuments.delete(resource);\n        });\n        return p;\n    }\n    resetEntry(document) {\n        const value = (0, lazy_1.lazy)(() => this.getValue(document));\n        this._cache.set(vscode_uri_1.URI.parse(document.uri), value);\n        return value;\n    }\n    invalidate(document) {\n        if (this._cache.has(vscode_uri_1.URI.parse(document.uri))) {\n            this.resetEntry(document);\n        }\n    }\n    onDidDeleteDocument(resource) {\n        this._cache.delete(resource);\n    }\n}\nexports.MdDocumentInfoCache = MdDocumentInfoCache;\n/**\n * Cache of information across all markdown files in the workspace.\n *\n * Unlike {@link MdDocumentInfoCache}, the entries here are computed eagerly for every file in the workspace.\n * However the computation of the values is still lazy.\n */\nclass MdWorkspaceInfoCache extends dispose_1.Disposable {\n    constructor(workspace, getValue) {\n        super();\n        this.workspace = workspace;\n        this.getValue = getValue;\n        this._cache = new LazyResourceMap();\n        this._register(this.workspace.onDidChangeMarkdownDocument(this.onDidChangeDocument, this));\n        this._register(this.workspace.onDidCreateMarkdownDocument(this.onDidChangeDocument, this));\n        this._register(this.workspace.onDidDeleteMarkdownDocument(this.onDidDeleteDocument, this));\n    }\n    async entries() {\n        await this.ensureInit();\n        return this._cache.entries();\n    }\n    async values() {\n        await this.ensureInit();\n        return Array.from(await this._cache.entries(), x => x[1]);\n    }\n    async getForDocs(docs) {\n        for (const doc of docs) {\n            if (!this._cache.has(vscode_uri_1.URI.parse(doc.uri))) {\n                this.update(doc);\n            }\n        }\n        return Promise.all(docs.map(doc => this._cache.get(vscode_uri_1.URI.parse(doc.uri))));\n    }\n    async ensureInit() {\n        if (!this._init) {\n            this._init = this.populateCache();\n        }\n        await this._init;\n    }\n    async populateCache() {\n        const markdownDocuments = await this.workspace.getAllMarkdownDocuments();\n        for (const document of markdownDocuments) {\n            if (!this._cache.has(vscode_uri_1.URI.parse(document.uri))) {\n                this.update(document);\n            }\n        }\n    }\n    update(document) {\n        this._cache.set(vscode_uri_1.URI.parse(document.uri), (0, lazy_1.lazy)(() => this.getValue(document)));\n    }\n    onDidChangeDocument(document) {\n        this.update(document);\n    }\n    onDidDeleteDocument(resource) {\n        this._cache.delete(resource);\n    }\n}\nexports.MdWorkspaceInfoCache = MdWorkspaceInfoCache;\n//# sourceMappingURL=workspaceCache.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.config = exports.loadMessageBundle = exports.localize = exports.format = exports.setPseudo = exports.isPseudo = exports.isDefined = exports.BundleFormat = exports.MessageFormat = void 0;\nvar ral_1 = require(\"./ral\");\nvar MessageFormat;\n(function (MessageFormat) {\n    MessageFormat[\"file\"] = \"file\";\n    MessageFormat[\"bundle\"] = \"bundle\";\n    MessageFormat[\"both\"] = \"both\";\n})(MessageFormat = exports.MessageFormat || (exports.MessageFormat = {}));\nvar BundleFormat;\n(function (BundleFormat) {\n    // the nls.bundle format\n    BundleFormat[\"standalone\"] = \"standalone\";\n    BundleFormat[\"languagePack\"] = \"languagePack\";\n})(BundleFormat = exports.BundleFormat || (exports.BundleFormat = {}));\nvar LocalizeInfo;\n(function (LocalizeInfo) {\n    function is(value) {\n        var candidate = value;\n        return candidate && isDefined(candidate.key) && isDefined(candidate.comment);\n    }\n    LocalizeInfo.is = is;\n})(LocalizeInfo || (LocalizeInfo = {}));\nfunction isDefined(value) {\n    return typeof value !== 'undefined';\n}\nexports.isDefined = isDefined;\nexports.isPseudo = false;\nfunction setPseudo(pseudo) {\n    exports.isPseudo = pseudo;\n}\nexports.setPseudo = setPseudo;\nfunction format(message, args) {\n    var result;\n    if (exports.isPseudo) {\n        // FF3B and FF3D is the Unicode zenkaku representation for [ and ]\n        message = '\\uFF3B' + message.replace(/[aouei]/g, '$&$&') + '\\uFF3D';\n    }\n    if (args.length === 0) {\n        result = message;\n    }\n    else {\n        result = message.replace(/\\{(\\d+)\\}/g, function (match, rest) {\n            var index = rest[0];\n            var arg = args[index];\n            var replacement = match;\n            if (typeof arg === 'string') {\n                replacement = arg;\n            }\n            else if (typeof arg === 'number' || typeof arg === 'boolean' || arg === void 0 || arg === null) {\n                replacement = String(arg);\n            }\n            return replacement;\n        });\n    }\n    return result;\n}\nexports.format = format;\nfunction localize(_key, message) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        args[_i - 2] = arguments[_i];\n    }\n    return format(message, args);\n}\nexports.localize = localize;\nfunction loadMessageBundle(file) {\n    return (0, ral_1.default)().loadMessageBundle(file);\n}\nexports.loadMessageBundle = loadMessageBundle;\nfunction config(opts) {\n    return (0, ral_1.default)().config(opts);\n}\nexports.config = config;\n//# sourceMappingURL=common.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(\"No runtime abstraction layer installed\");\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(\"No runtime abstraction layer provided\");\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n//# sourceMappingURL=ral.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.config = exports.loadMessageBundle = exports.BundleFormat = exports.MessageFormat = void 0;\nvar path = require(\"path\");\nvar fs = require(\"fs\");\nvar ral_1 = require(\"../common/ral\");\nvar common_1 = require(\"../common/common\");\nvar common_2 = require(\"../common/common\");\nObject.defineProperty(exports, \"MessageFormat\", { enumerable: true, get: function () { return common_2.MessageFormat; } });\nObject.defineProperty(exports, \"BundleFormat\", { enumerable: true, get: function () { return common_2.BundleFormat; } });\nvar toString = Object.prototype.toString;\nfunction isNumber(value) {\n    return toString.call(value) === '[object Number]';\n}\nfunction isString(value) {\n    return toString.call(value) === '[object String]';\n}\nfunction isBoolean(value) {\n    return value === true || value === false;\n}\nfunction readJsonFileSync(filename) {\n    return JSON.parse(fs.readFileSync(filename, 'utf8'));\n}\nvar resolvedBundles;\nvar options;\nfunction initializeSettings() {\n    options = { locale: undefined, language: undefined, languagePackSupport: false, cacheLanguageResolution: true, messageFormat: common_1.MessageFormat.bundle };\n    if (isString(process.env.VSCODE_NLS_CONFIG)) {\n        try {\n            var vscodeOptions_1 = JSON.parse(process.env.VSCODE_NLS_CONFIG);\n            var language = void 0;\n            if (vscodeOptions_1.availableLanguages) {\n                var value = vscodeOptions_1.availableLanguages['*'];\n                if (isString(value)) {\n                    language = value;\n                }\n            }\n            if (isString(vscodeOptions_1.locale)) {\n                options.locale = vscodeOptions_1.locale.toLowerCase();\n            }\n            if (language === undefined) {\n                options.language = options.locale;\n            }\n            else if (language !== 'en') {\n                options.language = language;\n            }\n            if (isBoolean(vscodeOptions_1._languagePackSupport)) {\n                options.languagePackSupport = vscodeOptions_1._languagePackSupport;\n            }\n            if (isString(vscodeOptions_1._cacheRoot)) {\n                options.cacheRoot = vscodeOptions_1._cacheRoot;\n            }\n            if (isString(vscodeOptions_1._languagePackId)) {\n                options.languagePackId = vscodeOptions_1._languagePackId;\n            }\n            if (isString(vscodeOptions_1._translationsConfigFile)) {\n                options.translationsConfigFile = vscodeOptions_1._translationsConfigFile;\n                try {\n                    options.translationsConfig = readJsonFileSync(options.translationsConfigFile);\n                }\n                catch (error) {\n                    // We can't read the translation config file. Mark the cache as corrupted.\n                    if (vscodeOptions_1._corruptedFile) {\n                        var dirname = path.dirname(vscodeOptions_1._corruptedFile);\n                        fs.exists(dirname, function (exists) {\n                            if (exists) {\n                                fs.writeFile(vscodeOptions_1._corruptedFile, 'corrupted', 'utf8', function (err) {\n                                    console.error(err);\n                                });\n                            }\n                        });\n                    }\n                }\n            }\n        }\n        catch (_a) {\n            // Do nothing.\n        }\n    }\n    (0, common_1.setPseudo)(options.locale === 'pseudo');\n    resolvedBundles = Object.create(null);\n}\ninitializeSettings();\nfunction supportsLanguagePack() {\n    return options.languagePackSupport === true && options.cacheRoot !== undefined && options.languagePackId !== undefined && options.translationsConfigFile !== undefined\n        && options.translationsConfig !== undefined;\n}\nfunction createScopedLocalizeFunction(messages) {\n    return function (key, message) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        if (isNumber(key)) {\n            if (key >= messages.length) {\n                console.error(\"Broken localize call found. Index out of bounds. Stacktrace is\\n: \".concat(new Error('').stack));\n                return;\n            }\n            return (0, common_1.format)(messages[key], args);\n        }\n        else {\n            if (isString(message)) {\n                console.warn(\"Message \".concat(message, \" didn't get externalized correctly.\"));\n                return (0, common_1.format)(message, args);\n            }\n            else {\n                console.error(\"Broken localize call found. Stacktrace is\\n: \".concat(new Error('').stack));\n            }\n        }\n    };\n}\nfunction resolveLanguage(file) {\n    var resolvedLanguage;\n    if (options.cacheLanguageResolution && resolvedLanguage) {\n        resolvedLanguage = resolvedLanguage;\n    }\n    else {\n        if (common_1.isPseudo || !options.language) {\n            resolvedLanguage = '.nls.json';\n        }\n        else {\n            var locale = options.language;\n            while (locale) {\n                var candidate = '.nls.' + locale + '.json';\n                if (fs.existsSync(file + candidate)) {\n                    resolvedLanguage = candidate;\n                    break;\n                }\n                else {\n                    var index = locale.lastIndexOf('-');\n                    if (index > 0) {\n                        locale = locale.substring(0, index);\n                    }\n                    else {\n                        resolvedLanguage = '.nls.json';\n                        locale = null;\n                    }\n                }\n            }\n        }\n        if (options.cacheLanguageResolution) {\n            resolvedLanguage = resolvedLanguage;\n        }\n    }\n    return file + resolvedLanguage;\n}\nfunction findInTheBoxBundle(root) {\n    var language = options.language;\n    while (language) {\n        var candidate = path.join(root, \"nls.bundle.\".concat(language, \".json\"));\n        if (fs.existsSync(candidate)) {\n            return candidate;\n        }\n        else {\n            var index = language.lastIndexOf('-');\n            if (index > 0) {\n                language = language.substring(0, index);\n            }\n            else {\n                language = undefined;\n            }\n        }\n    }\n    // Test if we can reslove the default bundle.\n    if (language === undefined) {\n        var candidate = path.join(root, 'nls.bundle.json');\n        if (fs.existsSync(candidate)) {\n            return candidate;\n        }\n    }\n    return undefined;\n}\nfunction mkdir(directory) {\n    try {\n        fs.mkdirSync(directory);\n    }\n    catch (err) {\n        if (err.code === 'EEXIST') {\n            return;\n        }\n        else if (err.code === 'ENOENT') {\n            var parent = path.dirname(directory);\n            if (parent !== directory) {\n                mkdir(parent);\n                fs.mkdirSync(directory);\n            }\n        }\n        else {\n            throw err;\n        }\n    }\n}\nfunction createDefaultNlsBundle(folder) {\n    var metaData = readJsonFileSync(path.join(folder, 'nls.metadata.json'));\n    var result = Object.create(null);\n    for (var module_1 in metaData) {\n        var entry = metaData[module_1];\n        result[module_1] = entry.messages;\n    }\n    return result;\n}\nfunction createNLSBundle(header, metaDataPath) {\n    var languagePackLocation = options.translationsConfig[header.id];\n    if (!languagePackLocation) {\n        return undefined;\n    }\n    var languagePack = readJsonFileSync(languagePackLocation).contents;\n    var metaData = readJsonFileSync(path.join(metaDataPath, 'nls.metadata.json'));\n    var result = Object.create(null);\n    for (var module_2 in metaData) {\n        var entry = metaData[module_2];\n        var translations = languagePack[\"\".concat(header.outDir, \"/\").concat(module_2)];\n        if (translations) {\n            var resultMessages = [];\n            for (var i = 0; i < entry.keys.length; i++) {\n                var messageKey = entry.keys[i];\n                var key = isString(messageKey) ? messageKey : messageKey.key;\n                var translatedMessage = translations[key];\n                if (translatedMessage === undefined) {\n                    translatedMessage = entry.messages[i];\n                }\n                resultMessages.push(translatedMessage);\n            }\n            result[module_2] = resultMessages;\n        }\n        else {\n            result[module_2] = entry.messages;\n        }\n    }\n    return result;\n}\nfunction touch(file) {\n    var d = new Date();\n    fs.utimes(file, d, d, function () {\n        // Do nothing. Ignore\n    });\n}\nfunction cacheBundle(key, bundle) {\n    resolvedBundles[key] = bundle;\n    return bundle;\n}\nfunction loadNlsBundleOrCreateFromI18n(header, bundlePath) {\n    var result;\n    var bundle = path.join(options.cacheRoot, \"\".concat(header.id, \"-\").concat(header.hash, \".json\"));\n    var useMemoryOnly = false;\n    var writeBundle = false;\n    try {\n        result = JSON.parse(fs.readFileSync(bundle, { encoding: 'utf8', flag: 'r' }));\n        touch(bundle);\n        return result;\n    }\n    catch (err) {\n        if (err.code === 'ENOENT') {\n            writeBundle = true;\n        }\n        else if (err instanceof SyntaxError) {\n            // We have a syntax error. So no valid JSON. Use\n            console.log(\"Syntax error parsing message bundle: \".concat(err.message, \".\"));\n            fs.unlink(bundle, function (err) {\n                if (err) {\n                    console.error(\"Deleting corrupted bundle \".concat(bundle, \" failed.\"));\n                }\n            });\n            useMemoryOnly = true;\n        }\n        else {\n            throw err;\n        }\n    }\n    result = createNLSBundle(header, bundlePath);\n    if (!result || useMemoryOnly) {\n        return result;\n    }\n    if (writeBundle) {\n        try {\n            fs.writeFileSync(bundle, JSON.stringify(result), { encoding: 'utf8', flag: 'wx' });\n        }\n        catch (err) {\n            if (err.code === 'EEXIST') {\n                return result;\n            }\n            throw err;\n        }\n    }\n    return result;\n}\nfunction loadDefaultNlsBundle(bundlePath) {\n    try {\n        return createDefaultNlsBundle(bundlePath);\n    }\n    catch (err) {\n        console.log(\"Generating default bundle from meta data failed.\", err);\n        return undefined;\n    }\n}\nfunction loadNlsBundle(header, bundlePath) {\n    var result;\n    // Core decided to use a language pack. Do the same in the extension\n    if (supportsLanguagePack()) {\n        try {\n            result = loadNlsBundleOrCreateFromI18n(header, bundlePath);\n        }\n        catch (err) {\n            console.log(\"Load or create bundle failed \", err);\n        }\n    }\n    if (!result) {\n        // No language pack found, but core is running in language pack mode\n        // Don't try to use old in the box bundles since the might be stale\n        // Fall right back to the default bundle.\n        if (options.languagePackSupport) {\n            return loadDefaultNlsBundle(bundlePath);\n        }\n        var candidate = findInTheBoxBundle(bundlePath);\n        if (candidate) {\n            try {\n                return readJsonFileSync(candidate);\n            }\n            catch (err) {\n                console.log(\"Loading in the box message bundle failed.\", err);\n            }\n        }\n        result = loadDefaultNlsBundle(bundlePath);\n    }\n    return result;\n}\nfunction tryFindMetaDataHeaderFile(file) {\n    var result;\n    var dirname = path.dirname(file);\n    while (true) {\n        result = path.join(dirname, 'nls.metadata.header.json');\n        if (fs.existsSync(result)) {\n            break;\n        }\n        var parent = path.dirname(dirname);\n        if (parent === dirname) {\n            result = undefined;\n            break;\n        }\n        else {\n            dirname = parent;\n        }\n    }\n    return result;\n}\nfunction loadMessageBundle(file) {\n    if (!file) {\n        // No file. We are in dev mode. Return the default\n        // localize function.\n        return common_1.localize;\n    }\n    // Remove extension since we load json files.\n    var ext = path.extname(file);\n    if (ext) {\n        file = file.substr(0, file.length - ext.length);\n    }\n    if (options.messageFormat === common_1.MessageFormat.both || options.messageFormat === common_1.MessageFormat.bundle) {\n        var headerFile = tryFindMetaDataHeaderFile(file);\n        if (headerFile) {\n            var bundlePath = path.dirname(headerFile);\n            var bundle = resolvedBundles[bundlePath];\n            if (bundle === undefined) {\n                try {\n                    var header = JSON.parse(fs.readFileSync(headerFile, 'utf8'));\n                    try {\n                        var nlsBundle = loadNlsBundle(header, bundlePath);\n                        bundle = cacheBundle(bundlePath, nlsBundle ? { header: header, nlsBundle: nlsBundle } : null);\n                    }\n                    catch (err) {\n                        console.error('Failed to load nls bundle', err);\n                        bundle = cacheBundle(bundlePath, null);\n                    }\n                }\n                catch (err) {\n                    console.error('Failed to read header file', err);\n                    bundle = cacheBundle(bundlePath, null);\n                }\n            }\n            if (bundle) {\n                var module_3 = file.substr(bundlePath.length + 1).replace(/\\\\/g, '/');\n                var messages = bundle.nlsBundle[module_3];\n                if (messages === undefined) {\n                    console.error(\"Messages for file \".concat(file, \" not found. See console for details.\"));\n                    return function () {\n                        return 'Messages not found.';\n                    };\n                }\n                return createScopedLocalizeFunction(messages);\n            }\n        }\n    }\n    if (options.messageFormat === common_1.MessageFormat.both || options.messageFormat === common_1.MessageFormat.file) {\n        // Try to load a single file bundle\n        try {\n            var json = readJsonFileSync(resolveLanguage(file));\n            if (Array.isArray(json)) {\n                return createScopedLocalizeFunction(json);\n            }\n            else {\n                if ((0, common_1.isDefined)(json.messages) && (0, common_1.isDefined)(json.keys)) {\n                    return createScopedLocalizeFunction(json.messages);\n                }\n                else {\n                    console.error(\"String bundle '\".concat(file, \"' uses an unsupported format.\"));\n                    return function () {\n                        return 'File bundle has unsupported format. See console for details';\n                    };\n                }\n            }\n        }\n        catch (err) {\n            if (err.code !== 'ENOENT') {\n                console.error('Failed to load single file bundle', err);\n            }\n        }\n    }\n    console.error(\"Failed to load message bundle for file \".concat(file));\n    return function () {\n        return 'Failed to load message bundle. See console for details.';\n    };\n}\nexports.loadMessageBundle = loadMessageBundle;\nfunction config(opts) {\n    if (opts) {\n        if (isString(opts.locale)) {\n            options.locale = opts.locale.toLowerCase();\n            options.language = options.locale;\n            resolvedBundles = Object.create(null);\n        }\n        if (opts.messageFormat !== undefined) {\n            options.messageFormat = opts.messageFormat;\n        }\n        if (opts.bundleFormat === common_1.BundleFormat.standalone && options.languagePackSupport === true) {\n            options.languagePackSupport = false;\n        }\n    }\n    (0, common_1.setPseudo)(options.locale === 'pseudo');\n    return loadMessageBundle;\n}\nexports.config = config;\nral_1.default.install(Object.freeze({\n    loadMessageBundle: loadMessageBundle,\n    config: config\n}));\n//# sourceMappingURL=main.js.map","var LIB;LIB=(()=>{\"use strict\";var t={470:t=>{function e(t){if(\"string\"!=typeof t)throw new TypeError(\"Path must be a string. Received \"+JSON.stringify(t))}function r(t,e){for(var r,n=\"\",o=0,i=-1,a=0,h=0;h<=t.length;++h){if(h<t.length)r=t.charCodeAt(h);else{if(47===r)break;r=47}if(47===r){if(i===h-1||1===a);else if(i!==h-1&&2===a){if(n.length<2||2!==o||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var s=n.lastIndexOf(\"/\");if(s!==n.length-1){-1===s?(n=\"\",o=0):o=(n=n.slice(0,s)).length-1-n.lastIndexOf(\"/\"),i=h,a=0;continue}}else if(2===n.length||1===n.length){n=\"\",o=0,i=h,a=0;continue}e&&(n.length>0?n+=\"/..\":n=\"..\",o=2)}else n.length>0?n+=\"/\"+t.slice(i+1,h):n=t.slice(i+1,h),o=h-i-1;i=h,a=0}else 46===r&&-1!==a?++a:a=-1}return n}var n={resolve:function(){for(var t,n=\"\",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a;i>=0?a=arguments[i]:(void 0===t&&(t=process.cwd()),a=t),e(a),0!==a.length&&(n=a+\"/\"+n,o=47===a.charCodeAt(0))}return n=r(n,!o),o?n.length>0?\"/\"+n:\"/\":n.length>0?n:\".\"},normalize:function(t){if(e(t),0===t.length)return\".\";var n=47===t.charCodeAt(0),o=47===t.charCodeAt(t.length-1);return 0!==(t=r(t,!n)).length||n||(t=\".\"),t.length>0&&o&&(t+=\"/\"),n?\"/\"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return\".\";for(var t,r=0;r<arguments.length;++r){var o=arguments[r];e(o),o.length>0&&(void 0===t?t=o:t+=\"/\"+o)}return void 0===t?\".\":n.normalize(t)},relative:function(t,r){if(e(t),e(r),t===r)return\"\";if((t=n.resolve(t))===(r=n.resolve(r)))return\"\";for(var o=1;o<t.length&&47===t.charCodeAt(o);++o);for(var i=t.length,a=i-o,h=1;h<r.length&&47===r.charCodeAt(h);++h);for(var s=r.length-h,c=a<s?a:s,f=-1,u=0;u<=c;++u){if(u===c){if(s>c){if(47===r.charCodeAt(h+u))return r.slice(h+u+1);if(0===u)return r.slice(h+u)}else a>c&&(47===t.charCodeAt(o+u)?f=u:0===u&&(f=0));break}var l=t.charCodeAt(o+u);if(l!==r.charCodeAt(h+u))break;47===l&&(f=u)}var p=\"\";for(u=o+f+1;u<=i;++u)u!==i&&47!==t.charCodeAt(u)||(0===p.length?p+=\"..\":p+=\"/..\");return p.length>0?p+r.slice(h+f):(h+=f,47===r.charCodeAt(h)&&++h,r.slice(h))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return\".\";for(var r=t.charCodeAt(0),n=47===r,o=-1,i=!0,a=t.length-1;a>=1;--a)if(47===(r=t.charCodeAt(a))){if(!i){o=a;break}}else i=!1;return-1===o?n?\"/\":\".\":n&&1===o?\"//\":t.slice(0,o)},basename:function(t,r){if(void 0!==r&&\"string\"!=typeof r)throw new TypeError('\"ext\" argument must be a string');e(t);var n,o=0,i=-1,a=!0;if(void 0!==r&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return\"\";var h=r.length-1,s=-1;for(n=t.length-1;n>=0;--n){var c=t.charCodeAt(n);if(47===c){if(!a){o=n+1;break}}else-1===s&&(a=!1,s=n+1),h>=0&&(c===r.charCodeAt(h)?-1==--h&&(i=n):(h=-1,i=s))}return o===i?i=s:-1===i&&(i=t.length),t.slice(o,i)}for(n=t.length-1;n>=0;--n)if(47===t.charCodeAt(n)){if(!a){o=n+1;break}}else-1===i&&(a=!1,i=n+1);return-1===i?\"\":t.slice(o,i)},extname:function(t){e(t);for(var r=-1,n=0,o=-1,i=!0,a=0,h=t.length-1;h>=0;--h){var s=t.charCodeAt(h);if(47!==s)-1===o&&(i=!1,o=h+1),46===s?-1===r?r=h:1!==a&&(a=1):-1!==r&&(a=-1);else if(!i){n=h+1;break}}return-1===r||-1===o||0===a||1===a&&r===o-1&&r===n+1?\"\":t.slice(r,o)},format:function(t){if(null===t||\"object\"!=typeof t)throw new TypeError('The \"pathObject\" argument must be of type Object. Received type '+typeof t);return function(t,e){var r=e.dir||e.root,n=e.base||(e.name||\"\")+(e.ext||\"\");return r?r===e.root?r+n:r+\"/\"+n:n}(0,t)},parse:function(t){e(t);var r={root:\"\",dir:\"\",base:\"\",ext:\"\",name:\"\"};if(0===t.length)return r;var n,o=t.charCodeAt(0),i=47===o;i?(r.root=\"/\",n=1):n=0;for(var a=-1,h=0,s=-1,c=!0,f=t.length-1,u=0;f>=n;--f)if(47!==(o=t.charCodeAt(f)))-1===s&&(c=!1,s=f+1),46===o?-1===a?a=f:1!==u&&(u=1):-1!==a&&(u=-1);else if(!c){h=f+1;break}return-1===a||-1===s||0===u||1===u&&a===s-1&&a===h+1?-1!==s&&(r.base=r.name=0===h&&i?t.slice(1,s):t.slice(h,s)):(0===h&&i?(r.name=t.slice(1,a),r.base=t.slice(1,s)):(r.name=t.slice(h,a),r.base=t.slice(h,s)),r.ext=t.slice(a,s)),h>0?r.dir=t.slice(0,h-1):i&&(r.dir=\"/\"),r},sep:\"/\",delimiter:\":\",win32:null,posix:null};n.posix=n,t.exports=n},447:(t,e,r)=>{var n;if(r.r(e),r.d(e,{URI:()=>d,Utils:()=>P}),\"object\"==typeof process)n=\"win32\"===process.platform;else if(\"object\"==typeof navigator){var o=navigator.userAgent;n=o.indexOf(\"Windows\")>=0}var i,a,h=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Class extends value \"+String(e)+\" is not a constructor or null\");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=/^\\w[\\w\\d+.-]*$/,c=/^\\//,f=/^\\/\\//;function u(t,e){if(!t.scheme&&e)throw new Error('[UriError]: Scheme is missing: {scheme: \"\", authority: \"'.concat(t.authority,'\", path: \"').concat(t.path,'\", query: \"').concat(t.query,'\", fragment: \"').concat(t.fragment,'\"}'));if(t.scheme&&!s.test(t.scheme))throw new Error(\"[UriError]: Scheme contains illegal characters.\");if(t.path)if(t.authority){if(!c.test(t.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash (\"/\") character')}else if(f.test(t.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters (\"//\")')}var l=\"\",p=\"/\",g=/^(([^:/?#]+?):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/,d=function(){function t(t,e,r,n,o,i){void 0===i&&(i=!1),\"object\"==typeof t?(this.scheme=t.scheme||l,this.authority=t.authority||l,this.path=t.path||l,this.query=t.query||l,this.fragment=t.fragment||l):(this.scheme=function(t,e){return t||e?t:\"file\"}(t,i),this.authority=e||l,this.path=function(t,e){switch(t){case\"https\":case\"http\":case\"file\":e?e[0]!==p&&(e=p+e):e=p}return e}(this.scheme,r||l),this.query=n||l,this.fragment=o||l,u(this,i))}return t.isUri=function(e){return e instanceof t||!!e&&\"string\"==typeof e.authority&&\"string\"==typeof e.fragment&&\"string\"==typeof e.path&&\"string\"==typeof e.query&&\"string\"==typeof e.scheme&&\"string\"==typeof e.fsPath&&\"function\"==typeof e.with&&\"function\"==typeof e.toString},Object.defineProperty(t.prototype,\"fsPath\",{get:function(){return A(this,!1)},enumerable:!1,configurable:!0}),t.prototype.with=function(t){if(!t)return this;var e=t.scheme,r=t.authority,n=t.path,o=t.query,i=t.fragment;return void 0===e?e=this.scheme:null===e&&(e=l),void 0===r?r=this.authority:null===r&&(r=l),void 0===n?n=this.path:null===n&&(n=l),void 0===o?o=this.query:null===o&&(o=l),void 0===i?i=this.fragment:null===i&&(i=l),e===this.scheme&&r===this.authority&&n===this.path&&o===this.query&&i===this.fragment?this:new y(e,r,n,o,i)},t.parse=function(t,e){void 0===e&&(e=!1);var r=g.exec(t);return r?new y(r[2]||l,O(r[4]||l),O(r[5]||l),O(r[7]||l),O(r[9]||l),e):new y(l,l,l,l,l)},t.file=function(t){var e=l;if(n&&(t=t.replace(/\\\\/g,p)),t[0]===p&&t[1]===p){var r=t.indexOf(p,2);-1===r?(e=t.substring(2),t=p):(e=t.substring(2,r),t=t.substring(r)||p)}return new y(\"file\",e,t,l,l)},t.from=function(t){var e=new y(t.scheme,t.authority,t.path,t.query,t.fragment);return u(e,!0),e},t.prototype.toString=function(t){return void 0===t&&(t=!1),w(this,t)},t.prototype.toJSON=function(){return this},t.revive=function(e){if(e){if(e instanceof t)return e;var r=new y(e);return r._formatted=e.external,r._fsPath=e._sep===v?e.fsPath:null,r}return e},t}(),v=n?1:void 0,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._formatted=null,e._fsPath=null,e}return h(e,t),Object.defineProperty(e.prototype,\"fsPath\",{get:function(){return this._fsPath||(this._fsPath=A(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(t){return void 0===t&&(t=!1),t?w(this,!0):(this._formatted||(this._formatted=w(this,!1)),this._formatted)},e.prototype.toJSON=function(){var t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath,t._sep=v),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t},e}(d),m=((a={})[58]=\"%3A\",a[47]=\"%2F\",a[63]=\"%3F\",a[35]=\"%23\",a[91]=\"%5B\",a[93]=\"%5D\",a[64]=\"%40\",a[33]=\"%21\",a[36]=\"%24\",a[38]=\"%26\",a[39]=\"%27\",a[40]=\"%28\",a[41]=\"%29\",a[42]=\"%2A\",a[43]=\"%2B\",a[44]=\"%2C\",a[59]=\"%3B\",a[61]=\"%3D\",a[32]=\"%20\",a);function b(t,e){for(var r=void 0,n=-1,o=0;o<t.length;o++){var i=t.charCodeAt(o);if(i>=97&&i<=122||i>=65&&i<=90||i>=48&&i<=57||45===i||46===i||95===i||126===i||e&&47===i)-1!==n&&(r+=encodeURIComponent(t.substring(n,o)),n=-1),void 0!==r&&(r+=t.charAt(o));else{void 0===r&&(r=t.substr(0,o));var a=m[i];void 0!==a?(-1!==n&&(r+=encodeURIComponent(t.substring(n,o)),n=-1),r+=a):-1===n&&(n=o)}}return-1!==n&&(r+=encodeURIComponent(t.substring(n))),void 0!==r?r:t}function C(t){for(var e=void 0,r=0;r<t.length;r++){var n=t.charCodeAt(r);35===n||63===n?(void 0===e&&(e=t.substr(0,r)),e+=m[n]):void 0!==e&&(e+=t[r])}return void 0!==e?e:t}function A(t,e){var r;return r=t.authority&&t.path.length>1&&\"file\"===t.scheme?\"//\".concat(t.authority).concat(t.path):47===t.path.charCodeAt(0)&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&58===t.path.charCodeAt(2)?e?t.path.substr(1):t.path[1].toLowerCase()+t.path.substr(2):t.path,n&&(r=r.replace(/\\//g,\"\\\\\")),r}function w(t,e){var r=e?C:b,n=\"\",o=t.scheme,i=t.authority,a=t.path,h=t.query,s=t.fragment;if(o&&(n+=o,n+=\":\"),(i||\"file\"===o)&&(n+=p,n+=p),i){var c=i.indexOf(\"@\");if(-1!==c){var f=i.substr(0,c);i=i.substr(c+1),-1===(c=f.indexOf(\":\"))?n+=r(f,!1):(n+=r(f.substr(0,c),!1),n+=\":\",n+=r(f.substr(c+1),!1)),n+=\"@\"}-1===(c=(i=i.toLowerCase()).indexOf(\":\"))?n+=r(i,!1):(n+=r(i.substr(0,c),!1),n+=i.substr(c))}if(a){if(a.length>=3&&47===a.charCodeAt(0)&&58===a.charCodeAt(2))(u=a.charCodeAt(1))>=65&&u<=90&&(a=\"/\".concat(String.fromCharCode(u+32),\":\").concat(a.substr(3)));else if(a.length>=2&&58===a.charCodeAt(1)){var u;(u=a.charCodeAt(0))>=65&&u<=90&&(a=\"\".concat(String.fromCharCode(u+32),\":\").concat(a.substr(2)))}n+=r(a,!0)}return h&&(n+=\"?\",n+=r(h,!1)),s&&(n+=\"#\",n+=e?s:b(s,!1)),n}function x(t){try{return decodeURIComponent(t)}catch(e){return t.length>3?t.substr(0,3)+x(t.substr(3)):t}}var _=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function O(t){return t.match(_)?t.replace(_,(function(t){return x(t)})):t}var P,j=r(470),U=function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))},I=j.posix||j;!function(t){t.joinPath=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return t.with({path:I.join.apply(I,U([t.path],e,!1))})},t.resolvePath=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=t.path||\"/\";return t.with({path:I.resolve.apply(I,U([n],e,!1))})},t.dirname=function(t){var e=I.dirname(t.path);return 1===e.length&&46===e.charCodeAt(0)?t:t.with({path:e})},t.basename=function(t){return I.basename(t.path)},t.extname=function(t){return I.extname(t.path)}}(P||(P={}))}},e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}return r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r(447)})();export const{URI,Utils}=LIB;\n//# sourceMappingURL=index.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { LsConfiguration } from 'vscode-markdown-languageservice';\n\nexport { LsConfiguration };\n\nconst defaultConfig: LsConfiguration = {\n\tmarkdownFileExtensions: ['md'],\n\tknownLinkedToFileExtensions: [\n\t\t'jpg',\n\t\t'jpeg',\n\t\t'png',\n\t\t'gif',\n\t\t'webp',\n\t\t'bmp',\n\t\t'tiff',\n\t],\n\texcludePaths: [\n\t\t'**/.*',\n\t\t'**/node_modules/**',\n\t]\n};\n\nexport function getLsConfiguration(overrides: Partial<LsConfiguration>): LsConfiguration {\n\treturn {\n\t\t...defaultConfig,\n\t\t...overrides,\n\t};\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Connection, Emitter } from 'vscode-languageserver';\nimport { Disposable } from './util/dispose';\n\nexport type ValidateEnabled = 'ignore' | 'warning' | 'error';\n\ninterface Settings {\n\treadonly markdown: {\n\t\treadonly suggest: {\n\t\t\treadonly paths: {\n\t\t\t\treadonly enabled: boolean;\n\t\t\t};\n\t\t};\n\n\t\treadonly validate: {\n\t\t\treadonly enabled: true;\n\t\t\treadonly referenceLinks: {\n\t\t\t\treadonly enabled: ValidateEnabled;\n\t\t\t};\n\t\t\treadonly fragmentLinks: {\n\t\t\t\treadonly enabled: ValidateEnabled;\n\t\t\t};\n\t\t\treadonly fileLinks: {\n\t\t\t\treadonly enabled: ValidateEnabled;\n\t\t\t\treadonly markdownFragmentLinks: ValidateEnabled | 'inherit';\n\t\t\t};\n\t\t\treadonly ignoredLinks: readonly string[];\n\t\t};\n\t};\n}\n\n\nexport class ConfigurationManager extends Disposable {\n\n\tprivate readonly _onDidChangeConfiguration = this._register(new Emitter<Settings>());\n\tpublic readonly onDidChangeConfiguration = this._onDidChangeConfiguration.event;\n\n\tprivate _settings?: Settings;\n\n\tconstructor(connection: Connection) {\n\t\tsuper();\n\n\t\t// The settings have changed. Is send on server activation as well.\n\t\tthis._register(connection.onDidChangeConfiguration((change) => {\n\t\t\tthis._settings = change.settings;\n\t\t\tthis._onDidChangeConfiguration.fire(this._settings!);\n\t\t}));\n\t}\n\n\tpublic getSettings(): Settings | undefined {\n\t\treturn this._settings;\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Connection, FullDocumentDiagnosticReport, TextDocuments, UnchangedDocumentDiagnosticReport } from 'vscode-languageserver';\nimport * as md from 'vscode-markdown-languageservice';\nimport { Disposable } from 'vscode-notebook-renderer/events';\nimport { URI } from 'vscode-uri';\nimport { ConfigurationManager, ValidateEnabled } from '../configuration';\nimport { disposeAll } from '../util/dispose';\n\nconst defaultDiagnosticOptions: md.DiagnosticOptions = {\n\tvalidateFileLinks: md.DiagnosticLevel.ignore,\n\tvalidateReferences: md.DiagnosticLevel.ignore,\n\tvalidateFragmentLinks: md.DiagnosticLevel.ignore,\n\tvalidateMarkdownFileLinkFragments: md.DiagnosticLevel.ignore,\n\tignoreLinks: [],\n};\n\nfunction convertDiagnosticLevel(enabled: ValidateEnabled): md.DiagnosticLevel | undefined {\n\tswitch (enabled) {\n\t\tcase 'error': return md.DiagnosticLevel.error;\n\t\tcase 'warning': return md.DiagnosticLevel.warning;\n\t\tcase 'ignore': return md.DiagnosticLevel.ignore;\n\t\tdefault: return md.DiagnosticLevel.ignore;\n\t}\n}\n\nfunction getDiagnosticsOptions(config: ConfigurationManager): md.DiagnosticOptions {\n\tconst settings = config.getSettings();\n\tif (!settings) {\n\t\treturn defaultDiagnosticOptions;\n\t}\n\n\tconst validateFragmentLinks = convertDiagnosticLevel(settings.markdown.validate.fragmentLinks.enabled);\n\treturn {\n\t\tvalidateFileLinks: convertDiagnosticLevel(settings.markdown.validate.fileLinks.enabled),\n\t\tvalidateReferences: convertDiagnosticLevel(settings.markdown.validate.referenceLinks.enabled),\n\t\tvalidateFragmentLinks,\n\t\tvalidateMarkdownFileLinkFragments: settings.markdown.validate.fileLinks.markdownFragmentLinks === 'inherit' ? validateFragmentLinks : convertDiagnosticLevel(settings.markdown.validate.fileLinks.markdownFragmentLinks),\n\t\tignoreLinks: settings.markdown.validate.ignoredLinks,\n\t};\n}\n\nexport function registerValidateSupport(\n\tconnection: Connection,\n\tworkspace: md.IWorkspace,\n\tdocuments: TextDocuments<md.ITextDocument>,\n\tls: md.IMdLanguageService,\n\tconfig: ConfigurationManager,\n\tlogger: md.ILogger,\n): Disposable {\n\tlet diagnosticOptions: md.DiagnosticOptions = defaultDiagnosticOptions;\n\tfunction updateDiagnosticsSetting(): void {\n\t\tdiagnosticOptions = getDiagnosticsOptions(config);\n\t}\n\n\tconst subs: Disposable[] = [];\n\tconst manager = ls.createPullDiagnosticsManager();\n\tsubs.push(manager);\n\n\tsubs.push(manager.onLinkedToFileChanged(() => {\n\t\t// TODO: We only need to refresh certain files\n\t\tconnection.languages.diagnostics.refresh();\n\t}));\n\n\tconst emptyDiagnosticsResponse = Object.freeze({ kind: 'full', items: [] });\n\n\tconnection.languages.diagnostics.on(async (params, token): Promise<FullDocumentDiagnosticReport | UnchangedDocumentDiagnosticReport> => {\n\t\tlogger.log(md.LogLevel.Trace, 'Server: connection.languages.diagnostics.on', params.textDocument.uri);\n\n\t\tif (!config.getSettings()?.markdown.validate.enabled) {\n\t\t\treturn emptyDiagnosticsResponse;\n\t\t}\n\n\t\tconst uri = URI.parse(params.textDocument.uri);\n\t\tif (!workspace.hasMarkdownDocument(uri)) {\n\t\t\treturn emptyDiagnosticsResponse;\n\t\t}\n\n\t\tconst document = await workspace.openMarkdownDocument(uri);\n\t\tif (!document) {\n\t\t\treturn emptyDiagnosticsResponse;\n\t\t}\n\n\t\tconst diagnostics = await manager.computeDiagnostics(document, diagnosticOptions, token);\n\t\treturn {\n\t\t\tkind: 'full',\n\t\t\titems: diagnostics,\n\t\t};\n\t});\n\n\tupdateDiagnosticsSetting();\n\tsubs.push(config.onDidChangeConfiguration(() => {\n\t\tupdateDiagnosticsSetting();\n\t\tconnection.languages.diagnostics.refresh();\n\t}));\n\n\tsubs.push(documents.onDidClose(e => {\n\t\tmanager.disposeDocumentResources(URI.parse(e.document.uri));\n\t}));\n\n\treturn {\n\t\tdispose: () => {\n\t\t\tdisposeAll(subs);\n\t\t}\n\t};\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ILogger, LogLevel } from 'vscode-markdown-languageservice';\n\nexport class LogFunctionLogger implements ILogger {\n\n\tprivate static now(): string {\n\t\tconst now = new Date();\n\t\treturn String(now.getUTCHours()).padStart(2, '0')\n\t\t\t+ ':' + String(now.getMinutes()).padStart(2, '0')\n\t\t\t+ ':' + String(now.getUTCSeconds()).padStart(2, '0') + '.' + String(now.getMilliseconds()).padStart(3, '0');\n\t}\n\n\tprivate static data2String(data: any): string {\n\t\tif (data instanceof Error) {\n\t\t\tif (typeof data.stack === 'string') {\n\t\t\t\treturn data.stack;\n\t\t\t}\n\t\t\treturn data.message;\n\t\t}\n\t\tif (typeof data === 'string') {\n\t\t\treturn data;\n\t\t}\n\t\treturn JSON.stringify(data, undefined, 2);\n\t}\n\n\tconstructor(\n\t\tprivate readonly _logFn: typeof console.log\n\t) { }\n\n\n\tpublic log(level: LogLevel, title: string, message: string, data?: any): void {\n\t\tthis.appendLine(`[${level} ${LogFunctionLogger.now()}] ${title}: ${message}`);\n\t\tif (data) {\n\t\t\tthis.appendLine(LogFunctionLogger.data2String(data));\n\t\t}\n\t}\n\n\tprivate appendLine(value: string): void {\n\t\tthis._logFn(value);\n\t}\n}\n\nexport const consoleLogger = new LogFunctionLogger(console.log);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { FileRename, RequestType } from 'vscode-languageserver';\nimport type * as lsp from 'vscode-languageserver-types';\nimport type * as md from 'vscode-markdown-languageservice';\n\n//#region From server\nexport const parse = new RequestType<{ uri: string }, md.Token[], any>('markdown/parse');\n\nexport const fs_readFile = new RequestType<{ uri: string }, number[], any>('markdown/fs/readFile');\nexport const fs_readDirectory = new RequestType<{ uri: string }, [string, { isDirectory: boolean }][], any>('markdown/fs/readDirectory');\nexport const fs_stat = new RequestType<{ uri: string }, { isDirectory: boolean } | undefined, any>('markdown/fs/stat');\n\nexport const fs_watcher_create = new RequestType<{ id: number; uri: string; options: md.FileWatcherOptions; watchParentDirs: boolean }, void, any>('markdown/fs/watcher/create');\nexport const fs_watcher_delete = new RequestType<{ id: number }, void, any>('markdown/fs/watcher/delete');\n\nexport const findMarkdownFilesInWorkspace = new RequestType<{}, string[], any>('markdown/findMarkdownFilesInWorkspace');\n//#endregion\n\n//#region To server\nexport const getReferencesToFileInWorkspace = new RequestType<{ uri: string }, lsp.Location[], any>('markdown/getReferencesToFileInWorkspace');\nexport const getEditForFileRenames = new RequestType<FileRename[], { participatingRenames: readonly FileRename[]; edit: lsp.WorkspaceEdit }, any>('markdown/getEditForFileRenames');\n\nexport const fs_watcher_onChange = new RequestType<{ id: number; uri: string; kind: 'create' | 'change' | 'delete' }, void, any>('markdown/fs/watcher/onChange');\n\nexport const resolveLinkTarget = new RequestType<{ linkText: string; uri: string }, md.ResolvedDocumentLinkTarget, any>('markdown/resolveLinkTarget');\n//#endregion\n",null,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nexport function disposeAll(disposables: Iterable<IDisposable>) {\n\tconst errors: any[] = [];\n\n\tfor (const disposable of disposables) {\n\t\ttry {\n\t\t\tdisposable.dispose();\n\t\t} catch (e) {\n\t\t\terrors.push(e);\n\t\t}\n\t}\n\n\tif (errors.length === 1) {\n\t\tthrow errors[0];\n\t} else if (errors.length > 1) {\n\t\tthrow new AggregateError(errors, 'Encountered errors while disposing of store');\n\t}\n}\n\nexport interface IDisposable {\n\tdispose(): void;\n}\n\nexport abstract class Disposable {\n\tprivate _isDisposed = false;\n\n\tprotected _disposables: IDisposable[] = [];\n\n\tpublic dispose(): any {\n\t\tif (this._isDisposed) {\n\t\t\treturn;\n\t\t}\n\t\tthis._isDisposed = true;\n\t\tdisposeAll(this._disposables);\n\t}\n\n\tprotected _register<T extends IDisposable>(value: T): T {\n\t\tif (this._isDisposed) {\n\t\t\tvalue.dispose();\n\t\t} else {\n\t\t\tthis._disposables.push(value);\n\t\t}\n\t\treturn value;\n\t}\n\n\tprotected get isDisposed() {\n\t\treturn this._isDisposed;\n\t}\n}\n\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { TextDocument } from 'vscode-languageserver-textdocument';\nimport { URI, Utils } from 'vscode-uri';\nimport { LsConfiguration } from '../config';\n\nexport function looksLikeMarkdownPath(config: LsConfiguration, resolvedHrefPath: URI) {\n\treturn config.markdownFileExtensions.includes(Utils.extname(resolvedHrefPath).toLowerCase().replace('.', ''));\n}\n\nexport function isMarkdownFile(document: TextDocument) {\n\treturn document.languageId === 'markdown';\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\ninterface ILimitedTaskFactory<T> {\n\tfactory: ITask<Promise<T>>;\n\tc: (value: T | Promise<T>) => void;\n\te: (error?: unknown) => void;\n}\n\ninterface ITask<T> {\n\t(): T;\n}\n\n/**\n * A helper to queue N promises and run them all with a max degree of parallelism. The helper\n * ensures that at any time no more than M promises are running at the same time.\n *\n * Taken from 'src/vs/base/common/async.ts'\n */\nexport class Limiter<T> {\n\n\tprivate _size = 0;\n\tprivate runningPromises: number;\n\tprivate readonly maxDegreeOfParalellism: number;\n\tprivate readonly outstandingPromises: ILimitedTaskFactory<T>[];\n\n\tconstructor(maxDegreeOfParalellism: number) {\n\t\tthis.maxDegreeOfParalellism = maxDegreeOfParalellism;\n\t\tthis.outstandingPromises = [];\n\t\tthis.runningPromises = 0;\n\t}\n\n\tget size(): number {\n\t\treturn this._size;\n\t}\n\n\tqueue(factory: ITask<Promise<T>>): Promise<T> {\n\t\tthis._size++;\n\n\t\treturn new Promise<T>((c, e) => {\n\t\t\tthis.outstandingPromises.push({ factory, c, e });\n\t\t\tthis.consume();\n\t\t});\n\t}\n\n\tprivate consume(): void {\n\t\twhile (this.outstandingPromises.length && this.runningPromises < this.maxDegreeOfParalellism) {\n\t\t\tconst iLimitedTask = this.outstandingPromises.shift()!;\n\t\t\tthis.runningPromises++;\n\n\t\t\tconst promise = iLimitedTask.factory();\n\t\t\tpromise.then(iLimitedTask.c, iLimitedTask.e);\n\t\t\tpromise.then(() => this.consumed(), () => this.consumed());\n\t\t}\n\t}\n\n\tprivate consumed(): void {\n\t\tthis._size--;\n\t\tthis.runningPromises--;\n\n\t\tif (this.outstandingPromises.length > 0) {\n\t\t\tthis.consume();\n\t\t}\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { URI } from 'vscode-uri';\n\n\ntype ResourceToKey = (uri: URI) => string;\n\nconst defaultResourceToKey = (resource: URI): string => resource.toString();\n\nexport class ResourceMap<T> {\n\n\tprivate readonly map = new Map<string, { readonly uri: URI; readonly value: T }>();\n\n\tprivate readonly toKey: ResourceToKey;\n\n\tconstructor(toKey: ResourceToKey = defaultResourceToKey) {\n\t\tthis.toKey = toKey;\n\t}\n\n\tpublic set(uri: URI, value: T): this {\n\t\tthis.map.set(this.toKey(uri), { uri, value });\n\t\treturn this;\n\t}\n\n\tpublic get(resource: URI): T | undefined {\n\t\treturn this.map.get(this.toKey(resource))?.value;\n\t}\n\n\tpublic has(resource: URI): boolean {\n\t\treturn this.map.has(this.toKey(resource));\n\t}\n\n\tpublic get size(): number {\n\t\treturn this.map.size;\n\t}\n\n\tpublic clear(): void {\n\t\tthis.map.clear();\n\t}\n\n\tpublic delete(resource: URI): boolean {\n\t\treturn this.map.delete(this.toKey(resource));\n\t}\n\n\tpublic *values(): IterableIterator<T> {\n\t\tfor (const entry of this.map.values()) {\n\t\t\tyield entry.value;\n\t\t}\n\t}\n\n\tpublic *keys(): IterableIterator<URI> {\n\t\tfor (const entry of this.map.values()) {\n\t\t\tyield entry.uri;\n\t\t}\n\t}\n\n\tpublic *entries(): IterableIterator<[URI, T]> {\n\t\tfor (const entry of this.map.values()) {\n\t\t\tyield [entry.uri, entry.value];\n\t\t}\n\t}\n\n\tpublic [Symbol.iterator](): IterableIterator<[URI, T]> {\n\t\treturn this.entries();\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nexport const Schemes = Object.freeze({\n\tnotebookCell: 'vscode-notebook-cell',\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Connection, Emitter, FileChangeType, NotebookDocuments, Position, Range, TextDocuments } from 'vscode-languageserver';\nimport { TextDocument } from 'vscode-languageserver-textdocument';\nimport * as md from 'vscode-markdown-languageservice';\nimport { ContainingDocumentContext, FileWatcherOptions, IFileSystemWatcher } from 'vscode-markdown-languageservice/out/workspace';\nimport { URI } from 'vscode-uri';\nimport { LsConfiguration } from './config';\nimport * as protocol from './protocol';\nimport { isMarkdownFile, looksLikeMarkdownPath } from './util/file';\nimport { Limiter } from './util/limiter';\nimport { ResourceMap } from './util/resourceMap';\nimport { Schemes } from './util/schemes';\n\ndeclare const TextDecoder: any;\n\nclass VsCodeDocument implements md.ITextDocument {\n\n\tprivate inMemoryDoc?: TextDocument;\n\tprivate onDiskDoc?: TextDocument;\n\n\treadonly uri: string;\n\n\tconstructor(uri: string, init: { inMemoryDoc: TextDocument });\n\tconstructor(uri: string, init: { onDiskDoc: TextDocument });\n\tconstructor(uri: string, init: { inMemoryDoc?: TextDocument; onDiskDoc?: TextDocument }) {\n\t\tthis.uri = uri;\n\t\tthis.inMemoryDoc = init?.inMemoryDoc;\n\t\tthis.onDiskDoc = init?.onDiskDoc;\n\t}\n\n\tget version(): number {\n\t\treturn this.inMemoryDoc?.version ?? this.onDiskDoc?.version ?? 0;\n\t}\n\n\tget lineCount(): number {\n\t\treturn this.inMemoryDoc?.lineCount ?? this.onDiskDoc?.lineCount ?? 0;\n\t}\n\n\tgetText(range?: Range): string {\n\t\tif (this.inMemoryDoc) {\n\t\t\treturn this.inMemoryDoc.getText(range);\n\t\t}\n\n\t\tif (this.onDiskDoc) {\n\t\t\treturn this.onDiskDoc.getText(range);\n\t\t}\n\n\t\tthrow new Error('Document has been closed');\n\t}\n\n\tpositionAt(offset: number): Position {\n\t\tif (this.inMemoryDoc) {\n\t\t\treturn this.inMemoryDoc.positionAt(offset);\n\t\t}\n\n\t\tif (this.onDiskDoc) {\n\t\t\treturn this.onDiskDoc.positionAt(offset);\n\t\t}\n\n\t\tthrow new Error('Document has been closed');\n\t}\n\n\tisDetached(): boolean {\n\t\treturn !this.onDiskDoc && !this.inMemoryDoc;\n\t}\n\n\tsetInMemoryDoc(doc: TextDocument | undefined) {\n\t\tthis.inMemoryDoc = doc;\n\t}\n\n\tsetOnDiskDoc(doc: TextDocument | undefined) {\n\t\tthis.onDiskDoc = doc;\n\t}\n}\n\nexport class VsCodeClientWorkspace implements md.IWorkspaceWithWatching {\n\n\tprivate readonly _onDidCreateMarkdownDocument = new Emitter<md.ITextDocument>();\n\tpublic readonly onDidCreateMarkdownDocument = this._onDidCreateMarkdownDocument.event;\n\n\tprivate readonly _onDidChangeMarkdownDocument = new Emitter<md.ITextDocument>();\n\tpublic readonly onDidChangeMarkdownDocument = this._onDidChangeMarkdownDocument.event;\n\n\tprivate readonly _onDidDeleteMarkdownDocument = new Emitter<URI>();\n\tpublic readonly onDidDeleteMarkdownDocument = this._onDidDeleteMarkdownDocument.event;\n\n\tprivate readonly _documentCache = new ResourceMap<VsCodeDocument>();\n\n\tprivate readonly _utf8Decoder = new TextDecoder('utf-8');\n\n\tprivate _watcherPool = 0;\n\tprivate readonly _watchers = new Map<number, {\n\t\treadonly resource: URI;\n\t\treadonly options: FileWatcherOptions;\n\t\treadonly onDidChange: Emitter<URI>;\n\t\treadonly onDidCreate: Emitter<URI>;\n\t\treadonly onDidDelete: Emitter<URI>;\n\t}>();\n\n\tconstructor(\n\t\tprivate readonly connection: Connection,\n\t\tprivate readonly config: LsConfiguration,\n\t\tprivate readonly documents: TextDocuments<TextDocument>,\n\t\tprivate readonly notebooks: NotebookDocuments<TextDocument>,\n\t\tprivate readonly logger: md.ILogger,\n\t) {\n\t\tdocuments.onDidOpen(e => {\n\t\t\tif (!this.isRelevantMarkdownDocument(e.document)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.logger.log(md.LogLevel.Trace, 'VsCodeClientWorkspace: TextDocument.onDidOpen', `${e.document.uri}`);\n\n\t\t\tconst uri = URI.parse(e.document.uri);\n\t\t\tconst doc = this._documentCache.get(uri);\n\n\t\t\tif (doc) {\n\t\t\t\t// File already existed on disk\n\t\t\t\tdoc.setInMemoryDoc(e.document);\n\n\t\t\t\t// The content visible to the language service may have changed since the in-memory doc\n\t\t\t\t// may differ from the one on-disk. To be safe we always fire a change event.\n\t\t\t\tthis._onDidChangeMarkdownDocument.fire(doc);\n\t\t\t} else {\n\t\t\t\t// We're creating the file for the first time\n\t\t\t\tconst doc = new VsCodeDocument(e.document.uri, { inMemoryDoc: e.document });\n\t\t\t\tthis._documentCache.set(uri, doc);\n\t\t\t\tthis._onDidCreateMarkdownDocument.fire(doc);\n\t\t\t}\n\t\t});\n\n\t\tdocuments.onDidChangeContent(e => {\n\t\t\tif (!this.isRelevantMarkdownDocument(e.document)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.logger.log(md.LogLevel.Trace, 'VsCodeClientWorkspace: TextDocument.onDidChanceContent', `${e.document.uri}`);\n\n\t\t\tconst uri = URI.parse(e.document.uri);\n\t\t\tconst entry = this._documentCache.get(uri);\n\t\t\tif (entry) {\n\t\t\t\tentry.setInMemoryDoc(e.document);\n\t\t\t\tthis._onDidChangeMarkdownDocument.fire(entry);\n\t\t\t}\n\t\t});\n\n\t\tdocuments.onDidClose(async e => {\n\t\t\tif (!this.isRelevantMarkdownDocument(e.document)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.logger.log(md.LogLevel.Trace, 'VsCodeClientWorkspace: TextDocument.onDidClose', `${e.document.uri}`);\n\n\t\t\tconst uri = URI.parse(e.document.uri);\n\t\t\tconst doc = this._documentCache.get(uri);\n\t\t\tif (!doc) {\n\t\t\t\t// Document was never opened\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdoc.setInMemoryDoc(undefined);\n\t\t\tif (doc.isDetached()) {\n\t\t\t\t// The document has been fully closed\n\t\t\t\tthis.doDeleteDocument(uri);\n\t\t\t} else {\n\t\t\t\t// The document still exists on disk\n\t\t\t\t// To be safe, tell the service that the document has changed because the\n\t\t\t\t// in-memory doc contents may be different than the disk doc contents.\n\t\t\t\tthis._onDidChangeMarkdownDocument.fire(doc);\n\t\t\t}\n\t\t});\n\n\t\tconnection.onDidChangeWatchedFiles(async ({ changes }) => {\n\t\t\tfor (const change of changes) {\n\t\t\t\tconst resource = URI.parse(change.uri);\n\t\t\t\tthis.logger.log(md.LogLevel.Trace, 'VsCodeClientWorkspace: onDidChangeWatchedFiles', `${change.type}: ${resource}`);\n\t\t\t\tswitch (change.type) {\n\t\t\t\t\tcase FileChangeType.Changed: {\n\t\t\t\t\t\tconst entry = this._documentCache.get(resource);\n\t\t\t\t\t\tif (entry) {\n\t\t\t\t\t\t\t// Refresh the on-disk state\n\t\t\t\t\t\t\tconst document = await this.openMarkdownDocumentFromFs(resource);\n\t\t\t\t\t\t\tif (document) {\n\t\t\t\t\t\t\t\tthis._onDidChangeMarkdownDocument.fire(document);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase FileChangeType.Created: {\n\t\t\t\t\t\tconst entry = this._documentCache.get(resource);\n\t\t\t\t\t\tif (entry) {\n\t\t\t\t\t\t\t// Create or update the on-disk state\n\t\t\t\t\t\t\tconst document = await this.openMarkdownDocumentFromFs(resource);\n\t\t\t\t\t\t\tif (document) {\n\t\t\t\t\t\t\t\tthis._onDidCreateMarkdownDocument.fire(document);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase FileChangeType.Deleted: {\n\t\t\t\t\t\tconst entry = this._documentCache.get(resource);\n\t\t\t\t\t\tif (entry) {\n\t\t\t\t\t\t\tentry.setOnDiskDoc(undefined);\n\t\t\t\t\t\t\tif (entry.isDetached()) {\n\t\t\t\t\t\t\t\tthis.doDeleteDocument(resource);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tconnection.onRequest(protocol.fs_watcher_onChange, params => {\n\t\t\tthis.logger.log(md.LogLevel.Trace, 'VsCodeClientWorkspace: fs_watcher_onChange', `${params.kind}: ${params.uri}`);\n\n\t\t\tconst watcher = this._watchers.get(params.id);\n\t\t\tif (!watcher) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitch (params.kind) {\n\t\t\t\tcase 'create': watcher.onDidCreate.fire(URI.parse(params.uri)); return;\n\t\t\t\tcase 'change': watcher.onDidChange.fire(URI.parse(params.uri)); return;\n\t\t\t\tcase 'delete': watcher.onDidDelete.fire(URI.parse(params.uri)); return;\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic listen() {\n\t\tthis.connection.workspace.onDidChangeWorkspaceFolders(async () => {\n\t\t\tthis.workspaceFolders = (await this.connection.workspace.getWorkspaceFolders() ?? []).map(x => URI.parse(x.uri));\n\t\t});\n\t}\n\n\tprivate _workspaceFolders: readonly URI[] = [];\n\n\tget workspaceFolders(): readonly URI[] {\n\t\treturn this._workspaceFolders;\n\t}\n\n\tset workspaceFolders(value: readonly URI[]) {\n\t\tthis._workspaceFolders = value;\n\t}\n\n\tasync getAllMarkdownDocuments(): Promise<Iterable<md.ITextDocument>> {\n\t\t// Add opened files (such as untitled files)\n\t\tconst openTextDocumentResults = this.documents.all()\n\t\t\t.filter(doc => this.isRelevantMarkdownDocument(doc));\n\n\t\tconst allDocs = new ResourceMap<md.ITextDocument>();\n\t\tfor (const doc of openTextDocumentResults) {\n\t\t\tallDocs.set(URI.parse(doc.uri), doc);\n\t\t}\n\n\t\t// And then add files on disk\n\t\tconst maxConcurrent = 20;\n\t\tconst limiter = new Limiter<md.ITextDocument | undefined>(maxConcurrent);\n\t\tconst resources = await this.connection.sendRequest(protocol.findMarkdownFilesInWorkspace, {});\n\t\tawait Promise.all(resources.map(strResource => {\n\t\t\treturn limiter.queue(async () => {\n\t\t\t\tconst resource = URI.parse(strResource);\n\t\t\t\tif (allDocs.has(resource)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst doc = await this.openMarkdownDocument(resource);\n\t\t\t\tif (doc) {\n\t\t\t\t\tallDocs.set(resource, doc);\n\t\t\t\t}\n\t\t\t\treturn doc;\n\t\t\t});\n\t\t}));\n\n\t\treturn allDocs.values();\n\t}\n\n\thasMarkdownDocument(resource: URI): boolean {\n\t\treturn !!this.documents.get(resource.toString());\n\t}\n\n\tasync openMarkdownDocument(resource: URI): Promise<md.ITextDocument | undefined> {\n\t\tconst existing = this._documentCache.get(resource);\n\t\tif (existing) {\n\t\t\treturn existing;\n\t\t}\n\n\t\tconst matchingDocument = this.documents.get(resource.toString());\n\t\tif (matchingDocument) {\n\t\t\tlet entry = this._documentCache.get(resource);\n\t\t\tif (entry) {\n\t\t\t\tentry.setInMemoryDoc(matchingDocument);\n\t\t\t} else {\n\t\t\t\tentry = new VsCodeDocument(resource.toString(), { inMemoryDoc: matchingDocument });\n\t\t\t\tthis._documentCache.set(resource, entry);\n\t\t\t}\n\n\t\t\treturn entry;\n\t\t}\n\n\t\treturn this.openMarkdownDocumentFromFs(resource);\n\t}\n\n\tprivate async openMarkdownDocumentFromFs(resource: URI): Promise<md.ITextDocument | undefined> {\n\t\tif (!looksLikeMarkdownPath(this.config, resource)) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\ttry {\n\t\t\tconst response = await this.connection.sendRequest(protocol.fs_readFile, { uri: resource.toString() });\n\t\t\t// TODO: LSP doesn't seem to handle Array buffers well\n\t\t\tconst bytes = new Uint8Array(response);\n\n\t\t\t// We assume that markdown is in UTF-8\n\t\t\tconst text = this._utf8Decoder.decode(bytes);\n\t\t\tconst doc = new VsCodeDocument(resource.toString(), {\n\t\t\t\tonDiskDoc: TextDocument.create(resource.toString(), 'markdown', 0, text)\n\t\t\t});\n\t\t\tthis._documentCache.set(resource, doc);\n\t\t\treturn doc;\n\t\t} catch (e) {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\tasync stat(resource: URI): Promise<md.FileStat | undefined> {\n\t\tthis.logger.log(md.LogLevel.Trace, 'VsCodeClientWorkspace: stat', `${resource}`);\n\t\tif (this._documentCache.has(resource) || this.documents.get(resource.toString())) {\n\t\t\treturn { isDirectory: false };\n\t\t}\n\t\treturn this.connection.sendRequest(protocol.fs_stat, { uri: resource.toString() });\n\t}\n\n\tasync readDirectory(resource: URI): Promise<[string, md.FileStat][]> {\n\t\tthis.logger.log(md.LogLevel.Trace, 'VsCodeClientWorkspace: readDir', `${resource}`);\n\t\treturn this.connection.sendRequest(protocol.fs_readDirectory, { uri: resource.toString() });\n\t}\n\n\tgetContainingDocument(resource: URI): ContainingDocumentContext | undefined {\n\t\tif (resource.scheme === Schemes.notebookCell) {\n\t\t\tconst nb = this.notebooks.findNotebookDocumentForCell(resource.toString());\n\t\t\tif (nb) {\n\t\t\t\treturn {\n\t\t\t\t\turi: URI.parse(nb.uri),\n\t\t\t\t\tchildren: nb.cells.map(cell => ({ uri: URI.parse(cell.document) })),\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\twatchFile(resource: URI, options: FileWatcherOptions): IFileSystemWatcher {\n\t\tconst id = this._watcherPool++;\n\t\tthis.logger.log(md.LogLevel.Trace, 'VsCodeClientWorkspace: watchFile', `(${id}) ${resource}`);\n\n\t\tconst entry = {\n\t\t\tresource,\n\t\t\toptions,\n\t\t\tonDidCreate: new Emitter<URI>(),\n\t\t\tonDidChange: new Emitter<URI>(),\n\t\t\tonDidDelete: new Emitter<URI>(),\n\t\t};\n\t\tthis._watchers.set(id, entry);\n\n\t\tthis.connection.sendRequest(protocol.fs_watcher_create, {\n\t\t\tid,\n\t\t\turi: resource.toString(),\n\t\t\toptions,\n\t\t\twatchParentDirs: true,\n\t\t});\n\n\t\treturn {\n\t\t\tonDidCreate: entry.onDidCreate.event,\n\t\t\tonDidChange: entry.onDidChange.event,\n\t\t\tonDidDelete: entry.onDidDelete.event,\n\t\t\tdispose: () => {\n\t\t\t\tthis.logger.log(md.LogLevel.Trace, 'VsCodeClientWorkspace: disposeWatcher', `(${id}) ${resource}`);\n\t\t\t\tthis.connection.sendRequest(protocol.fs_watcher_delete, { id });\n\t\t\t\tthis._watchers.delete(id);\n\t\t\t}\n\t\t};\n\t}\n\n\tprivate isRelevantMarkdownDocument(doc: TextDocument) {\n\t\treturn isMarkdownFile(doc) && URI.parse(doc.uri).scheme !== 'vscode-bulkeditpreview';\n\t}\n\n\tprivate doDeleteDocument(uri: URI) {\n\t\tthis.logger.log(md.LogLevel.Trace, 'VsCodeClientWorkspace: deleteDocument', `${uri}`);\n\n\t\tthis._documentCache.delete(uri);\n\t\tthis._onDidDeleteMarkdownDocument.fire(uri);\n\t}\n}\n","module.exports = require(\"child_process\");","module.exports = require(\"crypto\");","module.exports = require(\"fs\");","module.exports = require(\"net\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"url\");","module.exports = require(\"util\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Connection, createConnection } from 'vscode-languageserver/node';\nimport { startVsCodeServer } from '../server';\n\n// Create a connection for the server.\nconst connection: Connection = createConnection();\n\nconsole.log = connection.console.log.bind(connection.console);\nconsole.error = connection.console.error.bind(connection.console);\n\nprocess.on('unhandledRejection', (e: any) => {\n\tconnection.console.error(`Unhandled exception ${e}`);\n});\n\nstartVsCodeServer(connection);\n"],"sourceRoot":""}